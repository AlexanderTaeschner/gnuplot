2003-04-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/fit.c (Dblfn): Re-initialize va_args between uses.  Needed
	to be C standard compliant and survive running on Linux/AMD64.
	(Fixes SF bug #932162).
	
2003-04-08  Ethan Merritt  <merritt@u.washington.edu>

	* src/readline.c: Revert patch from 2003-05-10 
	"Allow <tab> characters in input stream." This broke filename auto-
	completion by gnu libreadline. Reversion re-introduces the problem that
	gnuplot's own readline makes it impossible to enter <tabs> in a command
	line.

2004-04-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* TODO: Updated.
	
	* INSTALL: Updated.

2004-04-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (looks_like_numeric): Recognize blanks and other
	special formatting characters in floating point formats correctly.

	* src/save.c (save_set_all): Moved writing of timefmt strings up
	in the list of saved settings, so 'set xtics' can have time/date
	strings as endpoints.

2004-04-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* BUGS: Removed lots of long-since fixed bugs.  Updated
	descriptions of some others.  Got rid of numbering --- it was
	completely mixed-up anyway.

	* term/win.trm: Added a note regarding the limitation of no wide,
	patterned lines in Windows terminal.

2004-04-05  Petr Mikulik  <mikulik@physics.muni.cz>

	* BUGS: Removed point "8. contour line clipping of 3D data plots":
	it should go to FAQ or to gnuplot's web page => "Useful
	scripts". Removed point "11. bug in OS/2 emx/gcc 2.7.x optimizer"
	(cite this in makefile.os2). Added link to gnuplot's sourceforge
	bug tracker.

	* config/README: Small update.

	* config/makefile.os2: Mention compiler optimization problem from
	BUGS.

2004-04-04  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: 'Set term svg {fontfile <filename>}' option to embed a
	font, or a hyperlink to it, in the output svg document. This allows the
	use of symbol fonts in conjunction with enhanced text mode. The file
	search path is controlled by environmental variable GNUPLOT_FONTPATH. 

2004-04-01  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot.c: Fix OS/2 release version string if wrong in using
	utsname.h.

	* src/mouse.c: On OS/2, don't start with mouse on by default. For some
	unknown reason, it clashes with arrow keys and even palette color
	allocation in multiplot mode... I guess these strange features are in
	gnuplot for ages, as it was always recommended to put "unset mouse"
	into gnuplot.ini.

	* FAQ: Updated to current version.
	Technote: not used "lynx -dump" from its Makefile (spurious references
	left) but from menu "Save formatted document" in links in xterm with
	80 columns.

2004-03-31  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (do_3dplot): Ignore "set grid {back|front}" in
	hidden3d mode --- they would directly contradict the idea of
	hidden-line removal.

	* docs/gnuplot.doc (grid): Document effect of hidden3d mode on
	options "back" and "front".
	(border, xtics): Document that "set grid {front|back}" also
	controls the drawing order of border and ticmarks.
	(xtics axis): Describe actual effect of on-axis tics coming too
	close to the graph border.

	* configure.in: New options --enable-h3d-quadtree and
	--enable-h3d-gridbox to control compile-time flags of hidden3d
	code.

	* src/show.c (show_version): Lots of mostly stylistic changes to
	"show version long" part.  Replaced long comma-separated chain of
	assignment statements by individual initialized variable
	definitions.  Added printouts for new feature macros
	HIDDEN3D_GRIDBOX and HIDDEN3D_QUADTREE.  Joined string output by
	fputs into the fprintf() format string.  Broke the list of
	compiler flags into two lines.

	* src/hidden3d.c (HIDDEN3D_GRIDBOX, HIDDEN3D_QUADTREE): Renamed to
	avoid namespace collisions since these are now globally visible.
	Used to be called TEST_GRIDBOX and TEST_QUADTREE.  Changes occur
	all over hidden3d.c.

2004-03-30  Ethan Merritt  <merritt@u.washington.edu>

	* src/axis.c: Fix another case of arithmetic assignment to a
	boolean.

2004-03-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (plot3d_lines_pm3d, plot3d_points_pm3d,
	get_surface_cbminmax): Make local copy of
	plot->pm3d_color_from_column a TBOOLEAN.

	* src/pm3d.c (pm3d_plot): Likewise.

	* src/hidden3d.c (in_front): Simplify by removing almost-boolean
	local variables v{1,2}_inside_p.

2004-03-29  Ethan Merritt  <merritt@u.washington.edu>

	* src/hiddden3d.c: Must not do arithmetic using TBOOLEANs!!!

2004-03-29  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* PATCHLEVEL: Increased for yet another release candidate tarball.

	* src/version.c: Updated accordingly.

	* lisp/.cvsignore: Add autom4te.cache to set of ignored names.

2004-03-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* tutorial/Makefile.am.in: Add tutorial.toc to CLEANFILES.

2004-03-29  Per Persson  <persquare@users.sf.net>

	* term/aquaterm.trm: Major update to driver.
	Built if libaquaterm present, requires AquaTerm 1.0 or later.

2004-03-29  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Fix up a blunder exposed by making TBOOLEAN an actual boolean
	type: the TBOOLEAN argument "head" of term->arrow() was misused as
	an integer.
	
	* src/term_api.h (TERMENTRY): Change type of argument "head" of
	function pointer "arrow" to int.

	* src/term.c (do_arrow): Changed type of argument 'head' to int.

	* term/tpic.trm (TPIC_arrow): Likewise.

	* term/tgif.trm (TGIF_arrow): Likewise.

	* term/texdraw.trm (TEXDRAW_arrow): Likewise.

	* term/pstricks.trm (PSTRICKS_arrow): Likewise.

	* term/metapost.trm (MP_arrow): Likewise.

	* term/metafont.trm (MF_arrow): Likewise.

	* term/latex.trm (LATEX_arrow): Likewise.
	(best_latex_arrow): Likewise.

	* term/gpic.trm (GPIC_arrow): Likewise.

	* term/fig.trm (FIG_arrow): Likewise.

	* term/epslatex.trm (EPSL_arrow): Likewise.

	* term/eepic.trm (EEPIC_arrow): Likewise.

	* term/dumb.trm (DUMB_arrow): Likewise.

2004-03-27  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Further fixes to enhanced text mode. Revise option
	parsing so that it is not sensitive to the command line order.

2004-03-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/config.nt: Remove HAVE_STDBOOL_H and HAVE__BOOL again ---
	turns out MSVC doesn't have them.

2004-03-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg: Added -DHAVE_STDBOOL_H to the compile
	command for pgnuplot.exe to avoid compiler warnings.

2004-03-25  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Prevent wrap-around of ruler coordinates.

2004-03-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gplt_x11.c: References to pipe_died must be surrounded by
	#ifdef PIPE_IPC.

	* config/config.os2: #undefine HAVE_STDBOOL_H and HAVE__BOOL.

2004-03-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/config.amg config/config.cyg config/config.mgw
	config/config.nt config/config.os2: Added new macros
	HAVE_STDBOOL_H and HAVE__BOOL needed by my change to the TBOOLEAN
	setup in syscfg.h two days ago.

	* src/term.c (curr_arrow_headfilled): Changed type from TBOOLEAN
	to int, because this variable has more than 2 possible values.

	* src/term_api.h (curr_arrow_headfilled): Changed extern
	declaration accordingly.

2004-03-24  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Change window size immediately on 'm' toggle.

	* term/gd.trm: Update comments on libgd version requirements.

2004-03-23  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: If gnuplot exits while "x11 -persist" is active,
	hand over mousing of last active plot to gnuplot_x11. This fixes
	the test case provided with bug #921033.  Also, continue to honor
	'm' key as a toggle for mousing in detached windows.

2004-03-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* configure.in (AC_HEADER_STDBOOL): Added call to this macro.

	* src/syscfg.h: Rewrite the definition of FALSE, TRUE and TBOOLEAN
	from scratch, this time based on autoconf's recommendations.  The
	previous version collided with a "#define bool _Bool" found
	somewhere deep in the Mac OS X system headers.

2004-03-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (t_timelevel): Start enum values at 1, to avoid
	wrap-around of expression TIMELEVEL_SECONDS - 1.
	(make_auto_time_minitics): Fine-tune thresholds and generate tick
	step sizes to get more sensible minor tick steps.
	(quantize_time_tics): Only set timelevel[axis] to a higher value
	if the tic step is at least one unit long.
	(time_tic_just): Remove superfluous update of local variable just
	before exit from function.
	(setup_tics): Handle reverted time/date axes correctly.

2004-03-22  Ethan Merritt  <merritt@u.washington.edu>

	* src/term.c src/gplt_x11.c term/gd.trm term/pdf.trm term/x11.trm
	term/dumb.trm term/post.trm: Revamp the implementation of the '@'
	character (phantom box) in enhanced text processing.  This fixes
	bug #906056 "@-aligned string does not work with font change".
	Basically it adds a save/restore position command to the
	term->enhanced_open() routine, and brackets the @-text with a save
	and restore.  Probably a PostScript guru can beautify my code
	further.

2004-03-21  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Add an enhanced text mode for the svg
	terminal. It's not perfect, but it works well enough to overcome
	some of the text formatting limitations in the svg plain text
	mode.

2004-03-18  Ethan Merritt  <merritt@u.washington.edu>

	* term/dumb.trm: Fix segfault on 'unset output' while in dumb
	terminal.

2004-03-15  Hans-Bernhard Broeker  <broeker@ac3b07.physik.rwth-aachen.de>

	* src/axis.c (load_range): Un-set 'reverse' option if fixed range
	specification is given in forward order.

2004-03-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* PATCHLEVEL: Raised to 2 for new release candidate.

	* src/version.c: Updated.

	* docs/doc2texi.el (d2t-texi-header): Updated version to 4.0,
	changed "organized by" entry from Dave to Lars.  Added Copyright
	year entry for 2004.

	* docs/titlepag.ms: Likewise.

	* docs/gnuplot.texi: Regenerated.

	* docs/Makefile.in ($(srcdir)/gnuplot.texi): Renamed rule target
	to include $(srcdir).  Fixed copy command to pull gnuplot.doc,
	into build directory, not gnuplot.texi.

2004-03-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	The fix for SF bug "[905651] Grid and border overlap the plot".
	This is rather elaborate, unfortunately:

	* src/graph3d.c (USE_GRID_LAYERS): New feature test macro.  Turned
	on automatically for now. If PM3D is on , this is forced on, too.
	(whichgrid): Removed global variable.
	(do_3dplot) [USE_GRID_LAYERS]: Draw back part of grid before the
	plotted data/functions, and front part afterwards, by passing a
	new argument to draw_3d_graphbox().
	(draw_3d_graphbox): Added new argument 'whichgrid' to control
	which parts of the graph box will be drawn.  Default is ALLGRID,
	i.e. draw all of it.  All calls updated accordingly.
	(draw_3d_graphbox) [USE_GRID_LAYERS]: Use new parameter to decide
	which parts to actually draw.  Changed #if PM3D to USE_GRID_LAYERS
	to enable this former PM3D-only code for general usage.
	(xtick_callback, ytick_callback, ztick_allback): Removed former
	PM3D-only checks --- they're done in graphbox now, before calling
	gen_tics().

	* src/pm3d.h (PM3D_HAVE_SOLID): New macro, default value zero.
	Disables pm3d option {transparent|solid}, which is no longer
	needed --- it's a duplicate of what 'set grid front' already
	achieves.
	(pm3d_struct) [!PM3D_HAVE_SOLID]: Remove struct field
	corresponding to disabled option.

	* src/pm3d.c (pm3d) [!PM3D_HAVE_SOLID]: Remove initializer of
	removed struct field.
	(pm3d_reset) [!PM3D_HAVE_SOLID]: Remove operation to clear removed
	struct field.
	
	* src/set.c (set_pm3d) [!PM3D_HAVE_SOLID]: Ignore disabled option,
	warn if running interactively.

	* src/show.c (show_pm3d) [!PM3D_HAVE_SOLID]: Disable display of
	removed option.

	* src/save.c (save_set_all) [!PM3D_HAVE_SOLID]: Disable saving of
	removed option.

	* docs/gnuplot.doc (pm3d): Removed documentation of no longer
	existant option.
	(grid): Document new default layering of 3D grid/boundary.

2004-03-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* tutorial/tutorial.tex tutorial/header.tex: Updates about
	TeX-friendly terminals in gnuplot 4.0.

	* term/gd.trm term/gif.trm: Don't print debugging message.

2004-03-10  Ethan Merritt  <merritt@u.washington.edu>

	* term/cgm.trm: Revise the conditional code sections so that it is
	possible to select USE_ULIG_FILLEDBOXES without PM3D.

2004-03-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gnupmdrv.rc: Renamed menu entry "~data style" to "style
	~data", and same for "~function".

	* config/config.mgw config/config.os2: #define
	HAVE_TIME_T_IN_TIME_H.

	* ChangeLog: Fixed typos and spaces in author names and their
	e-mails in ChangeLog entries.

2004-03-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/doc2texi.el: Add @dircategory Math to place the gnuplot
	info file into a suitable place in the master info directory page.

	* docs/gnuplot.texi: Updated accordingly.

2004-03-07  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Selecting linetype -2 worked only because bounds
	checking was incorrect.  Now treat LT_BACKGROUND, LT_NODRAW, and
	other negative linetypes as a request for the background color.

	* src/term.c: Allow explicit vertical offset of 0 in enhanced text
	mode overprint statement.  Patch by Harald Harders (SF.net bug
	report #911068).  Overprint positioning remains inexact at best in
	non-PostScript drivers.

2004-03-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.h (STORE_WITH_LOG_AND_UPDATE_RANGE): Added check
	against infinities and NaNs.  Most paths were already blocked, but
	modern systems can have "inf" and "nan" right in the datafile,
	which wasn't tested against.

2004-03-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (fit): Clarify behaviour in case no "using"
	specification was given.

2004-03-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/standard.c (f_tanh): Added extra code to return an exact 1.0
	for large absolute arguments.  Fixes SF bug #908184.

	* term/x11.trm [TERM_HELP]: Explain colour control via command
	line options more clearly, including the -xrm for colors other
	than the background.

	* docs/gnuplot.doc (random, palette): Fixed entries showing up as
	sub-topics in the wrong places of gnuplot.gih.

2004-03-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc term/x11.trm: Fix entries appearing in 'help
	help'.

2004-02-27  Ethan Merritt  <merritt@u.washington.edu>

	* term/mif.trm: Revise #ifdef so that it compiles if you select
	configure --disable-filledboxes

	* src/gplt_x11.c: Add #ifdef so that it compiles if you select
	configure --disable-pm3d

2004-02-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/config.cyg config/config.mgw config/config.os2: Shape
	these config files to the form of config.hin generated by
	./configure. This will more easily facilitate to synchronize
	particular #(un)define options added to the ./configure procedure
	in future.

2004-02-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Fix SF bug [ 905691 ] "save" does not save correct arrow heads.

	* src/term_api.h (t_arrow_head): New enum type to provide manifest
	constants for arrow head choices.
	(arrow_head_names): Added declaration of new global in term.c.
	(arrow_style_type): Change type of member "head" from int to new
	enum.

	* src/term.c: Define constant strings for arrow head placement
	options.

	* src/save.c (save_set_all): Use new string constant to correctly
	output head placement options.

2004-02-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc term/x11.trm: Added missing labels for hypertext
	references.

2004-02-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/config.amg config/config.cyg config/config.mgw
	config/config.os2: Changed GP_FIT_ERRVARS from #undef to #define
	(complies with the default value of ./configure).

2004-02-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (bind, mouse variables, if, using, label,
	mouse, x11 mouse, pm3d, palette, style arrow, style line): Removed
	help entries that would go directly under 'help'.
	(pm3d): Remove help entries that suggest 'set pm3d' has sub-nodes:
	it doesn't.
	
	* term/vgagl.trm [TERM_HELP]: Removed help entries that would go
	directly under 'help'.

	* term/x11.trm: Likewise.

	* term/pc.trm (PC_move, PC_vector, PC_put_text): Change coordinate
	arguments to unsigned int to match terminal API.

	* src/term.h [DOS386]: Allow DOS386 platforms to load the
	PC-specific driver section, too (--> Watcom).

	* src/plot3d.h: Prepend 'extern' to turn erroneous definition into
	a declaration.

	* src/plot3d.c (plot_has_palette): Moved definition here, from
	src/plot3d.h.

	* src/plot.c (main): Leave at end of main using return statement,
	not the exit() system call.  Exit() confuses compilers that expect
	main to return an int.

	* src/bf_test.c (main): Likewise.

	* docs/doc2tex.c docs/doc2rnh.c docs/doc2ms.c docs/doc2ipf.c
	docs/doc2hlp.c docs/doc2gih.c docs/checkdoc.c (main): Likewise.

	* docs/doc2rnh.c (main): Replace one EXIT_SUCCESS returned on
	error condition by EXIT_FAILURE.

	* config/makefile.wc: Lots of changes to make this ancient
	orphaned file workable with current releases of the Watcom
	compiler.  Will need further files config/config.wc
	src/makefile.awc and to actually work, though.  Converted to Unix
	text file format in CVS.

	* config/README: Converted to Unix text file format.

	* config/config.cyg (HAVE_TIME_T_IN_TIME_H): Add this missing
	configuration item.

2004-02-22  Ethan Merritt  <merritt@u.washington.edu>
	
	* src/gplt_x11.c: When drawing rotated text, only modify pixels
	that actually contain part of the text. Fixes bug #668782.  Patch
	originally submitted by Mike Sutton
	<suttonm@users.sourceforge.net>, lightly modified by me.  NB: This
	code makes refreshing the plot window very slow if rotated text is
	present.  It is particularly noticeable when the window is
	resized.

2004-02-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Fix SF bug: [ 666462 ] steps/histeps calculation/display problem.
	
	* src/graphics.c (edge_intersect_steps, ): Replace invidual tests
	against axis range ends by calls to macro cliptorange(), which can
	handle reverted ranges.
	(edge_intersect_fsteps): Likewise.
	(two_edge_intersect): Use GPMAX() of axis endpoints instead of
	axis.max element to compare to, again to avoid surprises with
	reverted axes.
	(do_key_sample): De-ANSI-fied.  Reindented.

2004-02-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Tagged a patchlevel 1 to incorporate some post-last-minute
	changes:
	
	* PATCHLEVEL: Incremented by 1 for these post-release changes.

	* src/version.c: Updated.
	
	* configure.in (X11 handling): Append ${EXEEXT} to gnuplot_x11
	program name to allow building on X11 platforms that use .exe
	extensions for programs (Win32, OS/2).

	* config/config.mgw config/config.cyg config/config.os2: Remove
	'#' lines that aren't actual preprocessor commands.

	* src/win/wgraph.c (GraphStart): Don't grab keyboard focus unless
	mouse mode is on.

2004-02-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* demo/electron.dem (3rd plot): Use "set key default" to get a
	sensible position of the key.  Without it, it's outside the page
	and you get terminal driver errors.

2004-02-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Tagged and released version 3.8k.0, which also serves as release
	candidate #1 for release as version 4.0.
	
2004-02-18  Ethan Merritt  <merritt@u.washington.edu>
	
	* src/readline.c term/x11.trm: Patch by Bill Fenner fixing bug
	#899245, suspend/resume with gnu readline requires us to trap
	EINTR.

2004-02-18  Ethan Merritt  <merritt@u.washington.edu>

	* demo/webify.pl demo/Makefile.am.in: Make output html compliant
	with 4.0.1 transitional standard.  Add enhancedtext.dem to the
	list of auto-generated html pages.

2004-02-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* configure.in (--disable-defined-var): Remove annotation as
	EXPERIMENTAL.
	(--disable-fiterrvars): Changed default to enabled, removed
	annotation as EXPERIMENTAL.

2004-02-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/config.cyg config/config.mgw config/config.os2: Added
	#undef GP_FIT_ERRVARS and #define GP_ISVAR.

        * src/plot3d.c: Issue a warning when trying to draw surface with
	pm3d style and there has not been previous "set pm3d".  Maybe we
	could refrain from this requirement in future by adding new field
	'pm3d.on' to 'pm3d.where' in 'struct pm3d'.

2004-02-15  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c src/plot3d.c src/pm3d.c: Trivial changes to
	prevent stupid compiler warnings.

2004-02-13  Ethan Merritt  <merritt@u.washington.edu>

	* demo/prob.dem demo/prob2.dem: pause(-1) after final plot

	* term/svg.trm term/post.trm: Rearrange things slightly so that
	the output code is less ugly (cleanup of my 1 Feb 2004 patch).

2004-02-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.nt (makefile.nt, config.h): Copy makefile.nt and
	config.nt over into the src directory, if necessary.

	* src/time.c [!USE_SYSTEM_TIME] (gstrptime): Replace
	implementation of %s format.  Now reads in a double-precision
	number and uses gnuplot's own ggmtime() routine instead of library
	function gmtime().  This should fix SF bug #885279 "Reading '%s'
	timefmt is not 64 bit safe".
	(CHECK_SPACE, COPY_STRING, FORMAT_STRING): Macros moved inside
	function xstrftime() they belong to.  Changed to use do {...} 
	while(0) pattern.  #undef them after use.
 	(xstrftime): Changed return type to size_t to avoid warnings.
	(LETTER, NOTHING): Macros moved into function gstrptime() they
	belong to. #undef them after use.

2004-02-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/config.os2: Add SELECT_TYPE_ARG* definitions.

2004-02-12  Ethan Merritt  <merritt@u.washington.edu>

	* src/specfun.c demo/random.dem docs/gnuplot.doc:
	Modify behaviour of rand() function in response to bug report #870706
	    rand(0) returns a pseudorandom number generated from current seeds
	    rand(-1) resets both seeds to a standard value
	    rand(x) for x>0 sets both 32-bit seeds to x
	    rand({x,y}) for x>0 sets seed1 to x and seed2 to y

2004-02-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: Let the color sequence of the first 5 line
	types be the same as in postscript.

	* src/term.c (do_point): Let sequence of the 6 defined point types
	be the same as in postscript, png and x11.

2004-02-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/plot.c src/win/winmain.c src/win/pgnuplot.c
	term/win.trm: Let gnuplot on Windows accept the '-persist' command
	line option (preferred synonym to '-noend' and '/noend').

2004-02-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw: Missing copy of file
	VERSION into the latexing directory.

2004-02-01  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm term/post.trm term/pdf.trm term/svg.trm: In the rare
	case of a request to draw a line or polygon-fill with LT_NODRAW or
	LT_BACKGROUND it makes more sense to set the color to white than
	to black.  The x11 terminal already behaves this way.

2004-01-25  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm docs/gnuplot.doc: Take default font for gdlib
	terminals (png jpeg) from environmental variable
	GNUPLOT_DEFAULT_GDFONT.

2004-01-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/Makefile.in: gnuplot.tex needs to be latexed 3 times (it
	contains multipage toc).

2004-01-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw config/makefile.os2:
	Copy file VERSION into the latexing directory (setting TEXINPUTS
	from within Makefile does not portably work).

2004-01-17  Ethan Merritt  <merritt@u.washington.edu>

	* src/save.c src/save.h src/show.c: Consolidate the save and show
	routines for data and function plot styles into a single place.

2004-01-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Remove superfluous files from LISP_DISTCLEANFILES.

	* docs/Makefile.in: Add $(top_srcdir) to TEXINPUTS. Add installcheck
	target. Fix uninstall-gih and uninstall-info targets.

	* docs/titlepag.tex: Remove path to VERSION file, this is now taken
	care of by TEXINPUTS.

	* lisp/Makefile.am: Remove superfluous files from DISTCLEANFILES.
	Remove dist-hook.

	* src/Makefile.am: Include PKG_MAJOR in pkglibexecdir. Adjust
	X11_DRIVER_DIR accordingly. New variable pkglibexec_PROGRAMS for
	gnuplot_x11, remove install-exec-local and uninstall-local targets
	as automake creates them for pkglibexec_PROGRAMS.

2004-01-13  Ethan Merritt  <merritt@u.washington.edu>

	* src/save.c: The color axis format was not being saved; now it is.

2004-01-12  Ethan Merritt  <merritt@u.washington.edu>

	* demo/webify.pl demo/mgr.pl demo/polar.dem demo/random:
	Use 'print' rather than 'pause 0' in demos to avoid empty plots.
	Have webify.pl delete empty *.png files on exit. If gpsavediff is
	available, use it to create a script for each plot. If gnuplot.css
	is present, reference it as a stylesheet. 

2004-01-11  Ethan Merritt  <merritt@u.washington.edu>

	* src/command.c, src/term.c, term/x11.trm, docs/gnuplot.doc: 
	Add sanity checks to 'pause mouse' command; give a warning if mousing
	is not active.  For X11, do *not* terminate 'pause mouse' on normal
	input from stdin. This is necessary to allow 'pause mouse' to work
	from piped input since more commands may already be queued up in stdin.

2004-01-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d.c (geomean4): Support negative values to help splot surfaces with
	all color coordinates negative and "set pm3d corners2color geomean".

	* gplt_x11.c: Print the debugging message "gnuplot_x11 3769: mouse
	button 1 from window 1 at 0 0" only #ifdef DEBUG.

2004-01-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/configure.in: Remove superfluous file copying commands, now
	taken care of by auto* tools.

	* src/gplt_x11.c(pr_window): Bugfix: static array must be computable
	at compile time.

2004-01-07  Ethan Merritt  <merritt@u.washington.edu>

	* src/plot.c, term/x11.trm: Set stdin to unbuffered on program entry
	rather than waiting for the start of an X11 plot. All buffered input
	is lost by the call to setvbuf(), so the only safe time to call it is
	before there is any input. This fixes the latest manifestation of the
	"x11 clipboard paste problem", and also the "piping from awk" problem.

2004-01-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in, configure.vms, src/fit.c, src/gplt_x11.c, src/stdfn.h,
	term/ggi.trm, term/x11.trm: Use AC_FUNC_SELECT_ARGTYPES instead of
	AC_FUNC_SELECT and related changes.

	* config/config.amg: Updated.

	* docs/gnuplot.doc: Removed whitespace-only line as pointed out by
	"make check".

	* m4/apple.m4, m4/beos.m4, m4/msdos.m4, m4/next.m4: Newer autoconf
	versions require stricter quoting.

2004-01-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/x11.trm (X11_args) [!USE_MOUSE]: Don't try to parse
	"-nofeedback" option if mousing disabled.

	* src/command.c (test_palette_subcommand, test_time_subcommand):
	Made static; added missing local prototype.
	(test_palette_subcommand): Changed static const int "colors" to an
	enum to make it eligible as an array size under C90.  Renamed to
	"test_palette_colors" to avoid global name space contamination.
	Made several local string constant variables 'static', and removed
	a superfluous one. Reindented.

2004-01-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/Makefile.am.in: Add webify.pl to distribution.

2004-01-01  Ethan Merritt  <merritt@u.washington.edu>

	* configure.in: Fix incorrect nesting of libpdf status test.

2003-12-29  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util3d.c (polyline3d_next): Bugfix. The patch on 2003-12-19
	broke contouring in hidden3d mode.  polyline3d_previous_vertex
	wasn't updated.

2003-12-26  Jim Van Zandt  <jrv@debian.org>

	* src/set.c (load_tic_user): user tic definition can have 3rd
	token specifying minitic

	* src/axis.h: ticmark.level specifies major or minitic

	* src/axis.c (gen_tics): Request user-supplied minitics

	* docs/gnuplot.doc: document user-supplied minitics

2003-12-24  Ethan Merritt  <merritt@u.washington.edu>

	* src/show.c: Fix buffer overflow in conv_text() if the text
	contains many characters with the high bit set.

	* demo/enhancedtext.dem: Add demo for enhanced text mode.

	* demo/charset.dem: Add demo that displays font and character
	encoding.

2003-12-21  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm src/gplt_x11.c src/set.c src/term_api.h
	src/term.c: Add support for ISO-8859-15 character encoding.

	* docs/gnuplot.doc: Minor changes to What's New.

2003-12-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/x11.trm: Add missing #ifdef PIPE_IPC.

	* term/pm.trm: Remove useless declaration.

2003-12-19  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Sodipodi didn't care that the namespace URL was
	junk, but the Adobe svg viewer doesn't like this. Give it the real
	URL.

2003-12-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util3d.h (polyline3d_start, polyline3d_next): Prototypes
	added.

	* src/util3d.c (draw3d_line_unconditional): Avoid re-doing the
	linetype change if it's to the same as in the lp_style_type
	already applied.
	(polyline3d_previous_vertex): New static variable.
	(polyline3d_start, polyline3d_next): New functions. Draw connected
	polylines in 3D.  Hidden3d currently disables this --- to be added
	in later.  Polylines can't change colour in the middle of a run,
	so palette mode turns this optimization off, too.

	* src/graph3d.c (cntr3d_lines): Use new helper routines to draw
	connected polyline instead of isolated segments.
	(do_3dplot): Since cntr3d_linespoints would break polyline
	handling, call cntr3d_lines() and cntr3d_points() in a row,
	instead.
	(cntr3d_linespoints): Now unused --> #if'ed out.

2003-12-16  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c term/x11.trm: Add a new x11 command line option
	-nofeedback, and the corresponding Xresource gnuplot*feedback.  It
	disables the feedback loop by which gnuplot_x11 reports font and
	plot size information back to gnuplot via the mouse pipe. This is
	a work-around for feedback synchronization problems triggered by
	certain scripting environments and possibly by other causes under
	os2.

2003-12-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Changes in "What is New in 4.0".

	* src/mouse.c (bind_display): Minor change in the hotkey help.

	* term/post.trm (START_HELP): Fixed undefined references in
	gnuplot.tex.

	* src/gplt_x11.c: #if (USE_MOUSE && MOUSE_ALL_WINDOWS) => #if
	defined(...) && defined(...)

2003-12-15  Ethan Merritt  <merritt@u.washington.edu>

	* demo/Makefile.am.in demo/webify.pl demo/airfoil.dem
	demo/prob2.dem: Integrate generation of demo web pages into the
	Makefile, so that 'make html' autogenerates most of them.  A few
	oddball scripts need to be processed by hand.

2003-12-15  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Lauris Kaplinski <lauris@users.sourceforge.net>
	diagnosed that the reason gnuplot point styles were not displaying
	properly in some svg applications was our failure to specify the
	xlink: namespace.

	* term/post.trm: PS_filled_polygon() must flush current path on
	entry if there is one.  This fixes the missing arrow-shaft
	problems seen in arrowstyle.dem.  It is possible that the awk
	scripts in pm3d/contrib need to be modified to parse the resulting
	"stroke" command.

2003-12-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: Lowercased IF EXIST and DEL commands (there
	is a make.exe program reported to dislike uppercases).

2003-12-15  Petr Mikulik  <mikulik@physics.muni.cz>

        * src/gplt_x11.c:
        (getMultiTabConsoleSwitchCommand): New routine to return system
	command to switch to the appropriate "tab" of a multitab console
	window where gnuplot is running. Currently implemented for KDE's
	Konsole (it returns a "dcop" command).
        (process_event): Let hotkey "<space>" in gnuplot_x11 work also in
	gnuplot running in multitab KDE's Konsole.

2003-12-15  Andrey V. Panov  <panov@iacp.dvo.ru>

	* NEWS docs/gnuplot.doc src/term_api.h src/term.c src/gplt_x11.c
	src/set.c term/post.trm: New encoding koi8-r (Russian locale on Unices).
	SourceForge patch #853823.

2003-12-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/color.c (draw_color_smooth_box): Fixed position of color box
	to what it is in default view orientation, to make it stop
	rotating along with the plot.

2003-12-12  Ethan Merritt  <merritt@u.washington.edu>

	* docs/gnuplot.doc docs/gnuplot.texi term/post.trm term/x11.trm:
	Update the "New in Version 4.0" section of the docs, and change
	all the URLs for demos to point to the SourceForge web site rather
	than to Alex Woo's old web site at nasa.gov.

	* docs/gnuplot.doc docs/gnuplot.texi docs/titlepag.tex
	src/Makefile.am src/plot.c: Change references to mailing lists to

	gnuplot-info@lists.sourceforge.net
	gnuplot-bugs@lists.sourceforge.net
	gnuplot-beta@lists.sourceforge.net

	There are many more explicit references to dartmouth.edu in the
	source files and in the hard-wired Makefiles that I did not
	change.

	* demo/bivariat.dem: Fix key placement in final plot.

	* demo/webify.pl: New File. This is a perl script that converts a
	single gnuplot demo script into a web page with associated png
	images.  I used it to generate a new set of demo pages for version
	4 on gnuplot.sourceforge.net/demo/index.html

2003-12-05  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Leave current window unchanged when closing old
	window using the 'set term x11 <old> close' command.

2003-12-02  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Add conditional code to make svg output compatible
	with the Sodipodi svg viewer/editor. Sodipodi does not yet
	implement the full svg syntax, including the "currentColor"
	attribute. This change was checked for correctness using the Adobe
	svg viewer, which produces the same display given either the
	original or the simplified output.

	* term/svg.trm: Force a new graphics context whenever linewidth
	changes.

2003-12-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/tables.h (enum set_id): Renamed parser constant S_OUTPUT to
	SET_OUTPUT, in order to avoid collision with MacOS X 10.3 system
	headers.

	* src/tables.c (set_tbl): Likewise.

	* src/set.c (set_command): Likewise.

	* src/unset.c (unset_command): Likewise.

	* src/show.c (show_command): Likewise.

2003-12-01  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c src/history.c docs/gnuplot.doc: New option
	"history quiet" to suppress enumeration of history entries (helps
	cut&paste).

2003-11-30  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm src/term_api.h src/term.c: Move enhanced text mode
	parsing and processing from post.trm to the gnuplot core. This
	requires 3 new entries in TERM_TABLE for any terminal driver that
	wants to share the enhanced text code. The behaviour of the
	postscript terminal is unaffected by this change.
	
	* src/gplt_x11.c term/dumb.trm term/gd.trm term/pdf.trm
	term/x11.trm NEWS: Add enhanced text mode support to four
	additional drivers. The implementation in dumb.trm is intended as
	sample code for extending enhanced text mode support to other
	drivers.

2003-11-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Get documentation for 'palette gray' and
	'palette gamma' close together.

2003-11-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c (test_palette_subcommand): Don't forget the replot
	command after 'test palette'.

	* src/setshow.c src/set.c: Global variable enable_reset_palette to
	enable/disable reset_palette(). Required by 'test palette'.

2003-11-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: Fixed vertical and horizontal shifts
	associated to text angles.

2003-11-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* tables.c: Moved definition of test_tbl[] out of #ifdef PM3D.

	* command.c (test_palette_subcommand): Reworked 'test palette' to
	use only one temporary file.

2003-11-25  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c term/x11.trm: Clean up code to remove compiler
	warnings.

	* src/parse.h src/unset.c: Export a prototype for
	cleanup_udvlist().

	* src/command.c: Include "getcolor.h" for rgb1_to_gray prototype.

2003-11-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/variable.c (PATHSEP_TO_NUL): Reindented.  Applied do {}
	while(0) wrapper.
	(PRINT_PATHLIST): Renamed from PRINT_LOADPATH.  Reindented.
	Applied do {} while (0) wrapper.  Made pointer variable local to
	the macro, initialize it from additional argument for clarity.
	(loadpath_handler, fontpath_handler): Removed static local
	'beenhere'.  Test directly for 'p != NULL' in ACTION_GET handler
	instead.

2003-11-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c (test_palette_subcommand): Don't crash 'test
	palette' in read-only directory.

2003-11-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/xlib.h: Fixed typo (missing ` makes some of doc2xxx fail).

2003-11-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc src/gp_hist.h src/command.c src/history.c:
	Allow 'history "file"' be a pipe. New option 'history "file"
	append'.

2003-11-24  Daniel J Sebald  <daniel.sebald@ieee.org>

	* NEWS src/gplt_x11.c term/x11.trm: SourceForge patch #774822.
	Organized x11 terminal windows into a linked list. Removed the
	limit of max 16 enumerated terminal windows. New options 'set term
	x11 close' and 'set term x11 title "<title>"'.

2003-11-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/command.h src/command.c src/tables.h
	src/tables.c src/term.c: New command 'test palette' for testing
	rgb profiles of the current palette. Command 'test' gets an
	optional argument of what to test: 'test terminal' (default) is
	what 'test' currently does.  Undocumented command 'testime'
	changed to 'test time'.

2003-11-21  Ethan Merritt  <merritt@u.washington.edu>

	* src/show.c: Remove unused variables to quiet compiler warnings.

	* src/parse.c src/unset.c: Add garbage collection of defunct
	user-defined variables. This plugs a small memory leak that would
	grow into a much larger one if/when we add string variables.

	* src/graphics.c: Break out creation of key entries into a
	separate subroutine, with related code cleanup. This is more
	preparation for support of multiple keys.

2003-11-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c (drawgraph): Fix names of struct elements
	changed on 2003-11-13.

2003-11-18  Ethan Merritt  <merritt@u.washington.edu>

	* src/specfun.c: Add parens to make DEC cc compiler happy.

2003-11-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/unset.c (unset_colorbox) (unset_pm3d): Removed extra
	c_token++.

2003-11-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c (cbtick_callback): Fixed position of nomirrored
	horizontal color box tics.

2003-11-17  Ethan Merritt  <merritt@u.washington.edu>

	* term/xlib.trm src/term.h: Update xlib device to use the actual
	x11 driver routines, so the output will be identical.

2003-11-14  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm: Fix bug in enhanced text overprint mode; vertical
	offset of overprinted text is now honored as specified in the
	documentation.

2003-11-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/history.c (write_history): Typo fixed.

	* src/command.c (history_command): Better error message for the
	"history" command not being available for GNU readline.

2003-11-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/show.c docs/gnuplot.doc: Options {float | int} for
	'show palette palette <n>', and let the output go to that of 'set
	print'.

	* src/command.h src/command.c: Let variables print_out and
	print_out_name be global instead of static.

2003-11-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h src/axis.c src/plot3d.c: Renamed set_pm3d_zminmax()
	to set_cbminmax().

2003-11-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.h src/color.c src/getcolor.h src/getcolor.c
	src/gplt_x11.c src/show.c src/win/wgraph.c term/metapost.trm
	term/pdf.trm term/svg.trm: New structure rgb255_color for uchar
	r,g,b.  Renamed color_from_gray() to rgb1_from_gray(). Renamed
	rgb_from_gray() to rgb255_from_gray(). New routine
	rgb255_from_rgb1().

2003-11-10  Ethan Merritt  <merritt@u.washington.edu>

	* src/color.c: Don't try to set color of non-supporting terminals.

2003-11-06  Ethan Merritt  <merritt@u.washington.edu>

	* configure.in, term/pdf.trm:  Test for and accommodate older
	versions of pdflib.

2003-11-01  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Do not use %lg to printf doubles. Some compilers
	complain because it is not strict ANSIC.

2003-10-31  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/x11.trm src/gplt_x11.c: Added  #ifdef PIPE_IPC  where missing
	(fixes compiling X11 terminal on OS/2).

2003-10-29  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/unixplot.trm: Fix misprints in gnuplot manual
	(#13).

2003-10-27  Ethan Merritt  <merritt@u.washington.edu>

	* demo/*.dem: Replace deprecated syntax in demos with current
	preferred syntax.

2003-10-23  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Add a soft lock on the mousing pipe so that input
	from stdin is delayed until completion of a query/response operation
	over the mousing pipe.  This fixes the problem of input characters
	being lost when stdin is fast (e.g. a script) and the X11 response
	is slow. It does *not* fix the problem with unbuffered input being
	lost, e.g. from awk scripts.
	
2003-10-22  Petr Mikulik  <mikulik@physics.muni.cz> 

	* src/set.c reset_palette(): Added missing reset of variable
	pm3d_last_set_palette_mode. Bugfix by Daniel J Sebald.

2003-10-21  Ethan Merritt  <merritt@u.washington.edu>

	* src/specfun.c: Fix reported bug #826811. The inverse_error_func()
	code to perform Newton-Raphson improvement was incorrectly nested
	so that it was only invoked in 1 of 3 range cases. Also empirical
	testing indicated that a 3rd cycle of Newton-Raphson was needed.

2003-10-21  Petr Mikulik  <mikulik@physics.muni.cz> 

	Changes allowing to save gnuplot session to a pipe, for example
	save "|cat >a.gp".

	* docs/gnuplot.doc: Documentation update.

        * src/command.c capture_filename_and_pfopen(): New routine, like
        CAPTURE_FILENAME_AND_FOPEN but with popen() in addition.

	* src/command.c save_command(): Reorganized.

        * save.c save_functions() save_variables() save_all() save_term():
	Reorganized.

2003-10-17  Petr Mikulik  <mikulik@physics.muni.cz> 

	* docs/old/README.os2: File removed. Information therein were already
	moved into appropriate places of gnuplot documentation long time ago.

2003-10-17  Petr Mikulik  <mikulik@physics.muni.cz> 

	* demo/animate.dem bivariat.dem borders.dem candlestics.dem discrete.dem
	fillcrvs.dem fillstyle.dem fontfile.dem fontfile_latex.dem hidden.dem
	mousevariables.dem multimsh.dem param.dem pm3d.dem pm3dcolors.dem
	pm3dgamma.dem poldat.dem random.dem scatter.dem steps.dem textcolor.dem
	textrotate.dem timedat.dem vector.dem: Added Id: tags and trailing reset
	command where missing.

2003-10-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.h src/gp_types.h: Moved enum of MODE_QUERY, MODE_PLOT, and
	MODE_SPLOT from mouse.h to gp_types.h to be available for non-mousing
	routines as well.

2003-10-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c src/graph3d.c: Title of 'set key title' was not
	placed properly under simultaneous 'set key height'.

2003-10-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/tables.h src/tables.c: New routine lookup_table_nth.

2003-10-06  Ethan Merritt  <merritt@u.washington.edu>

	* axis.h: The recent (8 Sep) change to define NOOP as 0 caused
	gcc 3.2 -Wall to emit dozens of warning messages. Change this to
	#define NOOP ((void)0) instead.
	* interpol.c, plot2d.c: Remove extraneous redefinition of NOOP.

2003-10-06  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* configure.in (AC_PREREQ): Requirement raised to version 2.52 of
 	autoconf.
	(HAVE_DECL_SIGNGAM): New test, searches for declaration of signgam
 	variable in <math.h>.

	* src/specfun.c : General cleanup, adapting to gnuplot CodeStyle
 	conventions.  Changed function definitions to K&R style (keeping
 	ANSI prototypes).  Moved all prototypes to central place at head
 	of sourcefile.
	(signgam): Only activate own extern declaration if system provides
 	none --- might cause conflicts on strange systems.  This needs the
 	new autoconf test for HAVE_DECL_SIGNGAM.
	(ermsg): Message array marked const, moved into only routine using
 	it: mtherr().
	(polevl, p1evl): Marked argument coef and local pointer p const.
	(A, B, C, LS2PI, MAXLGM, LOGPI): Marked const; moved into the only
 	function using them: lngamma().
	(f_erf, f_erfc): Sanitized handling of local variable fsign.
	(f_erfc): Fix check for error-return from igamma().
	(f_gamma): Replace magic number 88.0 by negative of macro MINEXP.
	(pn1, pn2, pn3, pn4, pn5, pn6): Moved into single function using
 	them: igamma();
	(igamma): Remove spurious check of argument against MINEXP ---
 	gp_exp() already does that, if necessary.  This should fix SF bug
 	#806455.
	(Xm1, Xm2, Xa2, Xa2): Marked const; moved into only function using
 	them: ranf().
	(P0, Q0, P1, Q1, P2, Q2): Marked const; moved into only function
 	using them: inverse_normal_func().
	(UTHRESH, SQRTH, ndtr): Unused --- removed.
	(P, Q, R, S): Marked const, moved into only function using them:
 	erfc().
	(erfc): Only compile this if !defined(HAVE_ERFC).
	(T, U): Marked const, moved into only function using them: erf().
	(erf): Only compile this if !defined(HAVE_ERF).
	(inverse_error_func): Marked local parameter arrays a, b, c, d
 	static and const.

2003-09-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Part II of portability glitches reported by Scott Marovich from HP
 	labs:
	
	* term/x11.trm (X11_set_default_font): Made static to match
 	declaration.
	
	* term/png.trm (png_default_write_data) [PNG_NO_STDIO] : New
 	callback function to be used if libpng was built with the
 	PNG_NO_STDIO option.
	(PNG_text) [PNG_NO_STDIO]: Use it instead of png_init_io.

	* configure.in (--with-png): Test for png_create_write_struct
 	instead of png_init_io, since the latter can be removed from
 	libpng at build time.
	(--with-pdf): Remove spurious comma in test for libpdf and
 	pdflib.h precence.

2003-09-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/term.c (test_term): Fixed incomplete if statement.

2003-09-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Portability glitches reported by Scott Marovich from HP labs:

	* src/pm3d.h (PM3D_WHICH_CORNES2COLOR): Fix comma placement in
 	enumeration.

	* src/getcolor.c (color_components_from_gray): Remove trailing
 	semicolon after definition.

	* src/axis.h (AXIS_INDEX): Fix comma placement in enumeration.
	(NOOP): #define as 0 instead of /* */, to work around
 	preprocessors that forbid empty macro arguments.

	* src/gplt_x11.c (stipple_halftone_bits, stipple_pattern_bits):
 	Changed from unsigned char to straight char, to silence a compiler
 	warning.

2003-08-29 Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* configure.in (--with-pdf): Moved check for pdflib.h so it only
 	gets done if -lpdf itself was found.

	* src/beos/Makefile: Removed lots of spurious <TAB> characters.

2003-08-22  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/fig.trm, term/gd.trm, term/post.trm,
	term/x11.trm: Fix misprints in gnuplot manual (#12).

2003-08-20  Ethan Merritt  <merritt@u.washington.edu>

	* src/save.c src/show.c: Fix incomplete/incorrect description of point
	properties from 'set label' commands.

	* src/set.c docs/gnuplot.doc: Remove order-dependence of options to
	'set [xyz]label' command. Deprecate omission of 'font' keyword.

2003-08-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/parse.c (push_vars): Changed initialization to TRUE, as it
 	was before yesterday's patch.  Fixes SF bug #790489.

2003-08-17  Ethan Merritt  <merritt@u.washington.edu>

	* src/eval.h src/eval.c src/parse.c: There is no need to have
 	push_vars a global exported from eval.*; move it to parse.c, the
 	only user.

2003-08-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>
	
	* src/specfun.c [!GAMMA] (signgam): Replace explicit variable
 	definition by macro to map from sgngam in fall-back implementation
 	to default name.  Fixes gamma(x)==0 bug on Cygwin/MinGW32 builds.

2003-08-12  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Apply linewidth changes directly to pm3d mode (fixes
	bug that linewidths in pm3d were one plot late in being applied).

2003-08-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/aquaterm.trm: Updated from aquaterm cvs bugfix branch.
	Thanks to Per Persson for the note.

2003-08-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Tag and release 3.8j.0 snapshot.

2003-08-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/Makefile.am.in: Add equipo2.dat, field2xy.dat to CLEANFILES.

2003-08-05  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc: Fix misprints in gnuplot manual (#11).

2003-08-04  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c term/x11.trm docs/gnuplot.doc:  Honor explicit request
	for "bold" or "medium" font weight when parsing X11 font requests.

2003-07-31  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c:  Fix incorrect bracketing of switch statement entries
	introduced way back in Dec 2000. This fixes the "x11 clipboard" bug.

2003-07-27  Ethan Merritt  <merritt@u.washington.edu>

	* docs/gnuplot.doc docs/titlepag.tex: This is a first pass at updating
	the "What is New" section to reflect changes since version 3.7. I also
	slightly re-arranged the sections on mousing, and added my name to the
	list of contributers.

2003-07-27  Ethan Merritt  <merritt@u.washington.edu>

	* src/command.c src/mouse.c docs/gnuplot.doc: Report key modifiers
	active at the time of a mouse click in variables MOUSE_SHIFT,
	MOUSE_ALT, and MOUSE_CTRL.

2003-07-23  Ethan Merritt  <merritt@u.washington.edu>

	* configure.in: Rename the configuration option for Jaime Reed's
	'defined(var)' code, and enable it by default.  The option is now
	./configure --disable-defined-var

	* show.c: Move listing of undefined variables to an FPRINTF.

2003-07-22  Ethan Merritt  <merritt@u.washington.edu>

	* src/command.c src/command.h src/mouse.c:
	Add a new user command 'pause mouse {"text"}'.  On mouse-capable
	terminals the pause will terminate on either a mouse click or on
	a <cr>; for all other terminals it is treated as 'pause -1'.

	* src/parse.c src/parse.h: Add a new function get_udv(key) that can
	search for user-defined variables even if the key is not a token in
	the current command line.

	* src/mouse.c src/command.c: When mousing is active, each mouse click 
	in the current plot window will update the current value of user-defined
	variables MOUSE_BUTTON MOUSE_X MOUSE_Y MOUSE_X2 MOUSE_Y2. In combination
	with Jaime Reed's patch below, this allows gnuplot scripts to test for
	the presence and result of mouse input.

	* src/gplt_x11.c term/x11.trm: Continue processing mouse activity for
	all displayed X11 windows.  This is necessarily done in gnuplot_x11,
	since gnuplot discards the old scaling information each time it starts
	a new plot. The mouse position is updated in the window itself.
	There is dummy code in gplt_x11.c that logs mouse clicks to stderr, but
	ideally it should be fed to some higher-level process (e.g. Octave).

	* docs/gnuplot.doc demo/mousevariables.dem: Document new mousing
	behaviour and provide a sample script that uses it.

2003-07-22  Jaime Reed <jaime2003@users.sourceforge.net>

	* src/parse.c src/eval.h src/eval.c src/standard.c src/standard.h
	src/internal.c src/internal.h configure.in:  Create a new builtin
	function "defined(<uservar>)" that returns 1 if the user variable
	is defined and returns 0 if undefined. This was patch #714750 on
	SourceForge.  Select at build time by ./configure --enable-isvar

2003-07-15  Ethan Merritt  <merritt@u.washington.edu>

	* src/gp_types.h src/graphics.c src/plot2d.c: Create a new flag
	PLOT_STYLE_HAS_BOXES and use this to trigger filled-box processing
	rather than testing individually for each plot style that uses it.

	* src/mouse.c: #include "util3d.h" to get prototype for map3d_xy().

2003-07-10  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Gnuplot disables mousing if it thinks the 
	controlling terminal is not interactive. In this case X11_graphics()
	must not attempt to wait for a mouse event during initialization
	[Fixes reported bug that first character of input line can be lost].

2003-07-07  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Detect request for illegal window number and
	treat it as window number 0.

	* term/x11.trm: Detect missing font name during "set term x11".

	* src/command.c: Add missing line from what should have been a
	patch too trivial for me to mess up (do_string).

2003-07-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/command.c (do_string_replot): Minor simplification: use
 	gp_strdup() to duplicate current input_line string.  Add some
	blanks as per CodeStyle document.
	(do_string): Likewise.

2003-07-04  Ethan Merritt  <merritt@u.washington.edu>

	* src/command.c: Rewrite do_string() and do_string_replot() so
 	that no memory corruption occurs if extend_input_line() triggers a
 	realloc(<xxx>,input_line) during processing.

	* term/x11.trm: Font requests to a remote X-server are very slow;
 	track font used for most recent text placement and only send a
 	font request if the current text font is different from the
 	previous one.

	* src/gplt_x11.c: Collect sequential vector draws into a single
 	polyline before sending it to the X-server. This makes wide lines
 	smoother, and gives a small speed improvement for remote displays.

	* src/graphics.c: Replace problematic adjustment of key placement
 	below plot with a better one.

2003-07-02  Ethan Merritt  <merritt@u.washington.edu>

	* src/mouse.c: DU4.0 cc compiler does not automatically promote
 	argument of sqrt to (double), so change it to double explicitly.

	* demos/arrowstyle.dem, demos/vector.dem: Show more of what the
 	`plot with vectors <arrowstyle>` option can do.

2003-07-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.c (pm3d_reset): Forgotten change of the default value
 	from 'set pm3d clip1in' to 'set pm3d clip4in' in the patch from
 	2002-10-09.

2003-07-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c (do_string_replot): Don't allocate so much of the
 	temporary buffer.

2003-07-01  Ethan Merritt  <merritt@u.washington.edu>

	* src/graphics.c: Make sample arrow in plot key match the arrow
 	style used by 'plot with vectors'.

2003-06-30  Ethan Merritt  <merritt@u.washington.edu>

	* src/misc.h src/misc.c src/plot2d.c src/set.c docs/gnuplot.doc: 
	Vector plots are drawn using the linetype in a stored arrowstyle 
	structure. Make sure this defaults to the linetype for the current
	plot #, and that this and the overall plot linetype always agree.

2003-06-27  Ethan Merritt  <merritt@u.washington.edu>

	* src/set.c: Fix unexpected behaviour that 'set grid nox noy'
	turned the x and y grids ON rather than off.

2003-06-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/dxf.trm (DXF_HTIC, DXF_VTIC):  Fixed definitions so 'set
	size ratio' can work.

2003-06-25  Ethan Merritt  <merritt@u.washington.edu>

	* src/term_api.h src/command.c term/x11.trm: Define a flag
	TERM_INIT_ON_REPLOT by which a terminal driver can request that
	term->init() be called at the start of a replot command.

	* src/gplt_x11.c src/mouse.c: Send the current true size of the
	x11 display window back from gnuplot_x11 to x11.trm during
	term->init(). Use this information to update the aspect ratio.

2003-06-21  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: gnuplot_x11<->x11.trm font info exchange is now
	working.

2003-06-20  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c:
	It turns out that yesterday's patch breaks the "pause -1" command
	(it always returns immediately).  I have temporarily disabled the
	new code while I track down the problem.  The offending line is now
	protected by #ifdef X11_FONT_UPDATE.

	* term/x11.trm:
	Add an interlock so that the gnuplot_x11<->x11.trm font info exchange
	is only performed once per splot, rather than every time the view is
	changed using the mouse.

2003-06-19  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c src/graphics.c src/mouse.c src/mousecmn.h term/x11.trm
	Use existing mouse communication pipe to send X11 font characteristics 
	back from gnuplot_x11 to x11.trm. This allows gnuplot to lay out the 
	plot with v_char and h_char sizes that are correct for the current 
	default X11 font. This patch slightly changes the timing of initial
	operations over the pipe, and adds a FFLUSH(), so there is a remote 
	possibility that it also fixes a reported problem in which gnuplot_x11
	eats CPU cycles while supposedly idle. This patch should have no effect
	if gnuplot is configured with --disable-mouse.

	* term/pslatex.trm: Escape % to %% inside printf() statement.

2003-06-18  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.h: Fix FPRINTF typo.

2003-06-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* command.c do_string_replot(): Dynamically allocate temporary input
	line buffer instead of using a fix-size one. Fixes crash when replotting
	a long plot command by mouse/hotkey.

2003-06-15  Ethan Merritt  <merritt@u.washington.edu>

	* src/graphics.c: Center key title over entire key box rather than
	cramming it into the first column only.

2003-06-14  Ethan Merritt  <merritt@u.washington.edu>

	* term/epslatex.trm: Clean up file name handling; now it is OK to give
	either .eps or .tex in 'set output', or no file extension at all.

2003-06-13  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/epslatex.trm: Fix misprints in gnuplot manual.

2003-06-11  Ethan Merritt  <merritt@u.washington.edu>

	* term/epslatex.trm term/pslatex.trm: Add text rotation.

	* term/epslatex.trm: Add missing PostScript macros used by 
	t->filled_polygon.

	* src/term.c: Fix size of test polygon relative to plot.

2003-06-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL, configure.in: Add note about GNU readline bug.
	
	* docs/Makefile.in, src/makefile.all, src/term.h, term/aquaterm.trm:
	Add support for AquaTerm, a new MacOS X graphics terminal.

	* src/Makefile.am: Fix for bug #738816 "configure --without-x not
	effective".

	* src/readline.c: Remove gnuplot SIGWINCH handler, see note about
	GNU readline bug.

2003-06-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c (show_palette_fit2rgbformulae): Take care of color models.

2003-06-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c (show_palette_rgbformulae show_palette_palette
	show_palette_colornames): Fixed indentation.

2003-06-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/show.c docs/gnuplot.doc: New command 'show palette
	fit2rgbformulae'.

2003-05-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/gplt_x11.c (main) [!DEBUG]: Redirect stderr to /dev/null on
 	entry to -persist mode event loop.  Avoids hanging emacs if you
 	run "gnuplot -persist" via shell-command.  In DEBUG mode, leave it
 	alone.

2003-05-19  Ethan Merritt  <merritt@u.washington.edu>

	* term/svg.trm: Make pattern fill sequence consistent with other
 	terminal types. Fix off-by-one y coordinate error in box fill
 	code.

2003-05-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (show_palette_colornames): Fix a C++-ism (variable
 	declarations not at the beginning of a block).

2003-05-17  James R. Van Zandt  <jrv@debian.org>

	* term/README: spelling and grammar fixes

2003-05-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/svg.trm: Support filled polygons with more than 4 corners.

2003-05-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c show_palette_colornames(): Command 'show palette
	colornames': print color names and their rgb values (was printing
	only names).

2003-05-16  Ethan Merritt  <merritt@u.washington.edu>

	* src/gadgets.h src/graph3d.c src/graphics.c src/save.c src/set.c
	src/show.c src/tables.c src/tables.h src/unset.c docs/gnuplot.doc:
	Add new command options 'set key {on|off|default}'.
	Using 'set key' to restore default values is deprecated.

2003-05-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg: New configuration define
	GNUSORT.

2003-05-13  Ethan Merritt  <merritt@u.washington.edu>

	* src/plot2d.c docs/gnuplot.doc: Apply current fill style to boxes 
	drawn for 'plot with boxxyerror'.

2003-05-10  Ethan Merritt  <merritt@u.washington.edu>

	* term/x11.trm: Expand documentation of font handling.
	* src/readline.c: Allow <tab> characters in input stream.

2003-05-09  Ethan Merritt  <merritt@u.washington.edu>

	* term/cgm.trm: Add missing prototype for CGM_fillbox().
	* src/term.c: Work around Microsoft compiler inadequacy.
	* src/datafile.c: Trap missing filename in df_open().

2003-05-06  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* term/cgm.trm (CGM_fillbox): Implement pattern filled boxes,
	conditioned on USE_ULIG_FILLEDBOXES.

2003-05-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/term.c (test_term): Improvements in the 'test' command: Some of
	the text labels are in colors; added test for text at +-45 deg; added
	test for mouse and for pm3d.

2003-05-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c (recalc_ruler_pos): Take care of ruler in 'set view map'
	splot.

2003-05-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/datafile.c: Fixed #define is_comment(c): strchr(s,c) returns
	!NULL for c=0.

2003-05-03  Ethan Merritt  <merritt@u.washington.edu>

	* term/mif.trm: Implement support for filled boxes, pattern fill
	and for PM3D filled polygons.

2003-05-01  Ethan Merritt  <merritt@u.washington.edu>

	* term/pdf.trm: Remove limit of 4 vertices in fill_polygon().

2003-04-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Say that the either of `set datafile commentschars`
	characters must be the first non-blank blank character on the line.

2003-04-29  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/datafile.c src/datafile.h src/save.c
	src/set.c src/show.c src/syscfg.h src/unset.c: New option 'set datafile
	commentschars'.

2003-04-24  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm: The postscript terminal driver now implements
	pattern-fill via a (Level 1) PostScript subroutine rather than via
	a loop in the driver-level C code. Thanks to Dick Crawford.

	* src/bitmap.c src/gplt_x11.c src/win/wgraph.c 
	term/emf.trm term/gd.trm term/pdf.trm:
	Bring all terminal types that support pattern-fill into agreement
	about the order of patterns. The patterns have been chosen for
	maximum contrast in mono plots, and to favor symmetric patterns
	over diagonal lines that are hard to describe in figure captions.

	Pattern fill support is now uniform for the following terminals
		epslatex
		gd (png jpeg)
    		bitmap (pbm epson hp500c hpljii hppj)
    		pdf
		postscript
		pslatex
		windows
		x11
	Not implemented but probably should be
		aifm
		eepic
		emf

2003-04-24  Ethan Merritt  <merritt@u.washington.edu>

	* src/win/wgraph.c: Tweak previous correction to saved pen color
	so that it applies cleanly to box fill as well.

2003-04-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c (drawgraph): Fix signedness bug exposed by
	saving the "test" page to the clipboard.  Shift value of local
	variable "pen" by 2 to keep it non-negative.

	* config/makefile.cyg (CFLAGS): Add missing "endif".
	(veryclean): Remove pgnuplot.exe, too.

2003-04-18  Daniel J Sebald  <daniel.sebald@ieee.org>

	* src/gplt_x11.c (process_event): Patch "[ 707940 ] bug fix for
	graph height underflow 690018". Fixes graph size when mouse is
	on/off. The fix is simply to check if vchar > plot->height, and if
	so set plot->gheight to zero otherwise plot->gheight =
	plot->height - vchar.

2003-04-18  Harald Harders  <h.harders@tu-bs.de>

	* docs/psdoc/ps_fontfile_doc.tex: Patch "[ 696421 ] Improved
	ps_fontfile_doc". Some text is modified, the symbol table now
	includes the octal and decimal numbers of the characters.

2003-04-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* gnuplot.doc unset.c(reset_command): Remove "unset_loadpath()"
	from reset command. After discussion on gnuplot-beta list, the
	"reset" command should reset only graphics settings, while it
	should let unchanged non-graphics settings (like set term, out,
	loadpath and fontpath).

2003-04-13  Ethan Merritt  <merritt@u.washington.edu>

	* src/term.c src/graphics.c: Correct a syntax error in test for
	terminal support of filled boxes.  This fixes reported crashes
	under MSWin.

	* src/gadgets.c src/mouse.c: Fix the same syntax error in other
	files also, although no crashes have been reported for these.

2003-04-13  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Document that libgd will handle both TrueType and
	Adobe Type 1 fonts.

	* src/unset.c: Set tic label rotation to 0 on unset or reset.

2003-04-04  Ethan Merritt  <merritt@u.washington.edu>

	* term/pslatex.trm term/epslatex.trm: Add filled box support.

	* term/eepic.trm: Fix broken parsing of terminal options.

	* term/pstricks.trm: Remove unused prototype
	PSTRICKS_previous_palette.

2003-04-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.nt (winmain.obj): Don't repeat HELPFILE
	definition --- already part of CFLAGS.

2003-04-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: Support for IPFC 2.1. Use temporary script file
	when creating allterm.h.

2003-04-03  Ethan Merritt  <merritt@u.washington.edu>

	* src/term.c: Only test fill patterns on terminals that support it.

2003-04-01  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Fix bugs in parsing terminal size and setting tic size.

2003-03-31  Ethan Merritt  <merritt@u.washington.edu>

	* src/bitmap.c src/gplt_x11.c term/gd.trm term/pdf.trm:
	Add a cross-hatch fill pattern. The change to bitmap.c affects the
	epson, hpxx, and pbm terminal types.

2003-03-31  Ethan Merritt  <merritt@u.washington.edu>

	* src/bitmap.c term/pdf.trm: Revise the order of colors slightly
	to maximize contrast between successive plots (affects gd.trm also).

	* src/term.c: Add linewidth and fill patterns to terminal test.

2003-03-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c (save_set_all): Don't compare an enum label to a
 	pointer; not even if the enum is zero.  Found by John Bollinger on
 	MS VC++.

	* src/show.c (show_key): Likewise.

2003-03-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS term/gnugraph.trm term/openstep.trm: 
	Terminal provided by openstep is called "openstep", not "next".
	Terminal provided by gnugraph is called "gnugraph", not "unixplot".

2003-03-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Pronounce looking at demo/pm3d.dem.

	* demo/pm3d.dem: In demo of corners2color, transpose positions of
	'c2' and 'c3'.

2003-03-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm(PS_filled_polygon): Don't call PS_FLUSH_PATH but reset
	ps_path_count instead (flush is automatic). Fixes broken pm3d map
	layout (required by pm3dConvert*.awk scripts) due to "stroke\n" in
	PS_FLUSH_PATH.

	* demo/pm3d.dem: Replace "set view 180,..." by "set pm3d map".

2003-03-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/x11.trm: Allow to use both the default '"gnuplot_x11.exe"' and
	optional 'GNUPLOT_X11 ".exe"' for initializing X11_default_command[]
	under OS/2 and Windows.

2003-03-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (boundary3d): Avoid division by zero if graph too
 	small to contain the key.

2003-03-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/gd.trm term/gif.trm: Added #undef gdfont after it is not used
	any longer.

2003-03-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/eval.c (gp_exp): Make this a function in all cases.  If
 	MINEXP wasn't set, use special version that removes ERANGE caused
 	by large negative arguments to exp().

	* src/eval.h (gp_exp): Don't #define gp_exp() if no MINEXP set.

	* src/specfun.c (inverse_error_func): Call sanitized gp_exp()
 	instead of plain exp().
	(lambertw): Likewise.

2003-03-18  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Default to medium size font (7x13) as claimed
	by the documentation and by the output of show term; fixes
	bug 696179. If the user provides new colors in 'set term', then
	overwrite any previously specified colors (bug 702382).

2003-03-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (eval_plots): Initialize arrow_properties of plot
 	with vectors in case of no style options given by the user.

	* src/graphics.c (plot_vectors): Avoid using any coordinates of
 	UNDEFINED input points.

	* demo/vector.dem: Use set term push/pop to avoid screen terminal
 	dependency.
	
2003-03-17  Leo Brewin <leo.brewin@sci.monash.edu.au>

	* term/pdf.trm: Tell pdflib to use its built-in font metrics for
 	Symbol and ZapfDingbats fonts, since not all hosts have these.

2003-03-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* demo/pm3d.dem: Improved demo for corners2color.

	* docs/gnuplot.doc: Proofreading pm3d section.

2003-03-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/pm3d.h src/pm3d.c src/tables.h src/tables.c src/save.c
 	src/set.c src/show.c demo/pm3d.dem docs/gnuplot.doc: New pm3d
 	option 'corners2color'.

2003-03-13  Ethan Merritt  <merritt@u.washington.edu>

	* set.c: Consolidate set_{blrt}margin into a single routine, break
 	out text_label creation and label option parsing into separate
 	routines so that they can be called separately, general code
 	cleanup.

	* unset.c: Consolidate unset_{blrt}margin into a single routine.

2003-03-07  Ethan Merritt  <merritt@u.washington.edu>

	* graphics.c: Filled boxes can obscure the x-axis (see for example
 	fillstyle.dem); fix this by retracing the axes at the end of
 	plotting.

2003-03-06  Wilhelm Braunschober  <Wilhelm.Braunschober@t-online.de>

	* term/svg.trm (SVG_fixed_size): New configuration variable.
	(SVG_local_reset): New helper function to reset all to defaults.
	(SVG_options): Handle new option 'size {fixed|dynamic}'.  Fix font
 	name input to write to FontNameCur, not FontNameDef.
	(SVG_init): Use FontNameCur instead of FontNameDef.  Implement
 	encoding ISO-8859-1 and dynamic size option.

2003-03-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib/colorpts-demo.gp: Removed explicit 'set term'.

2003-03-03  Ethan Merritt  <merritt@u.washington.edu>
	
	* demo/candlesticks.dem docs/gnuplot.doc src/graphics.c:
	Allow 'set boxwidth' to control the box part of candlesticks.
	If no boxwidth is set, then default to previous behavior.

2003-03-02  Ethan Merritt  <merritt@u.washington.edu>
	
	* src/graphics.c: The calculation of plot boundary size is a tangle of
	interdependent size estimates. While not addressing the underlying
	problem, this patch at least makes the key size match the final plot
	size.

2003-02-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* demo/fillbox.dem: Update to changed syntax of filled boxplots
	and fill styles.

2003-02-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm (PS_vector): Fix bug in moveto in the previous patch.
	Add more comments on the new anti-gs-rounding-bug functionality.

2003-02-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm (PS_vector): Fix bug introduced by the changes
 	against postscript error accumulation.  Would create paths with a
 	move as the first command.

2003-02-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg config/makefile.os2:
 	Somebody has redefined HAVE_TTF to HAVE_GD_TTF without making
 	appropriate changes here!

2003-02-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c (histeps_compare): There was a wrong comparison
 	returned by this qsort-called routine, which caused 'plot with
 	histeps' buggy.

2003-02-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* ChangeLog: Modified an old log entry that contained an actual
 	RCS date tag, which caused it to be updated every time ChangeLog
 	was checked in.
	
2003-02-19  John Bollinger <bbands@yahoo.com>

	* config/makefile.nt (default): Build pgnuplot.exe, too.
	(pgnuplot.exe): New rule to build the piping helper program.
	(clean, veryclean): Modified what gets cleaned away.

2003-02-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/psdoc/ps_guide.ps: DSC requires the page separators %Page: to
	have 2 parameters.

2003-02-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm: Re-indented in several places.
	(PS_vector): Implemented workaround for apparent ghostscript bug
 	causing accumulated precision loss in long sequences of relative
 	moves / lines.

	* CodeStyle: Got rid of lots of // style comments all over the
 	source code, as well as some that look suspiciously like them.
	
2003-02-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	The patch for "fit error variables", SF patch #677470, contributed
	by <reedjs@atm.ox.ac.uk>
	
	* configure.in: Add check --enable-fiterrorvars.  If set, #defines
 	GP_FIT_ERRVARS.

	* src/fit.h (fit_errorvariables): Declare new global.

	* src/fit.c (fit_errorvariables): New global status variable to
 	choose whether fit error variables should be used.
	(regress): If enabled, set error variables to parameter errors
 	from the fit.
	(setvarerr): New function to create error variable name from that
 	of the actual fitted parameter.

	* src/tables.h (enum set_id): Renamed S_FITLOGFILE to S_FIT.
	
	* src/tables.c (set_tbl): Renamed S_FITLOGFILE to S_FIT.

	* src/set.c (set_fit): Accept new option "err$orvariables" for
 	"set fit", renamed "set fitlogfile" to "set fit", and made
 	"logfile" its other option.  Renamed function from set_fitlogfile.
	(set_command): Updated help text for 'set'.

	* src/save.c (save_set_all): Save state of fit_errorvariables.
  	Change option name to "fit".

	* src/show.c (show_fit): Display state of fit_errorvariables.
  	Renamed function from show_fitlogfile.
	(show_command): Updated help text for 'show'.

	* src/unset.c (unset_fit): Reset state of fit_errorvariables to
 	default == off.  Renamed function from unset_fitlogfile.
	(unset_command): Updated help text for 'unset'.
	(reset_command): Call unset_fit under its new name.

2003-02-16  Ethan Merritt  <merritt@u.washington.edu>

	* src/graphics.c: Fix overlooked instance of general text
	rotation angle.
	* docs/gnuplot.doc: Mention that 'set datafile missing' can be
	used to filter out NaN records.

2003-02-15  Ethan Merritt  <merritt@u.washington.edu>

	* src/gadgets.h src/gadgets.c src/set.c src/save.c src/unset.c 
	src/graph3d.c src/graphics.c src/plot2d.c src/plot3d.c:
	Move all globals related to the plot legend (key) into a single
	structure. This yields cleaner code, and should eventually allow 
	multiple legends per plot.

2003-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (fit): Mention that 'thru' doesn't apply to
 	'fit' datafile processing.

2003-02-10  Ethan Merritt  <merritt@u.washington.edu>

	* term/next.trm term/openstep.trm term/pdf.trm term/post.trm:
	Update term->v_char and term->h_char whenever font is changed.

2003-02-09  Ethan Merritt  <merritt@u.washington.edu>

	* src/gadgets.c src/gadgets.h src/graph3d.c: Remove unused parameter.
	* src/term.c: Do not calculate line spacing until after new font is set.
	Correct the placement of lines in multi-line text rotated by -90.
	* term/gd.trm: Take font height and width directly from font structure
	(corrects an error in the declared size of small font). Recalculate
	font height and width each time a new TTF font is set in PNG_set_font().

2003-02-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/configure.in: Determining emacs version was broken for GNU Emacs.

2003-02-04  Ethan Merritt  <merritt@u.washington.edu>

	* src/set.c: Trap syntax error 
	* docs/gnuplot.doc Fix indentation, and add a section for `unset`.

2003-02-04  Ethan Merritt  <merritt@u.washington.edu>

	* NEWS docs/gnuplot.doc src/datafile.c src/datafile.h src/save.c 
	src/set.c src/show.c src/unset.c: 
	Add new command `set datafile separator { whitespace | "<char>"}`.
	This allows plotting from tab- or comma- separated data files.

2003-02-04  Ethan Merritt  <merritt@u.washington.edu>

	* term/emf.trm: Revise handling of text color and point style to
 	match other terminal types. NB: Justification of rotated text is 
	still not correct.
	* term/pstricks.trm: Remove unused variable.

2003-02-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: New option --with-gihdir to specify location of
	.gih file. This is passed on to docs and src Makefiles.

	* docs/Makefile.in, src/Makefile.am: Use new GIHDIR variable for
	.gih file location.

2003-01-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: Updated file locations.

	* configure.in: Fix gih location report foobar.

	* term/x11.trm: Remove obsolete USE_X11_DRIVER code.

2003-01-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am, lisp/Makefile.am: Remove gnuplot.info and gnuplot.texi
	from gnuplot-mode build.

2003-01-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: Updated.

	* Makefile.am: Tighter integration with gnuplot-mode.

	* configure.in: Restore --with-gif=png option. Use pdflib-config if
	available. Remove conditional building of lisp/ files. Move file copy
	operation out of tutorial Makefile. Cosmetics.

	* lisp/COPYING, lisp/INSTALL, lisp/Makefile.am: New files.

	* lisp/configure.in: Updated for better integration with gnuplot as
	well as comfortable building in standalone mode.

	* lisp/gnuplot.el, lisp/gpelcard.tex: Updated to 0.6.0.

	* src/win/pgnuplot.c: Add RCS id.

	* term/gd.trm: Fix "missing initializer" compiler warning.

	* tutorial/Makefile.am.in: Move file copy operation into top level
	configure.

2003-01-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/emf.trm (min, max): Renamed internal macros to gnuplot
 	default names: GPMIN, GPMAX.

	* src/graphics.c (i_inrange): Reformatted.
	
	* src/graph3d.c (i_inrange): Reformatted.

2003-01-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Fix some bugs in handling of reversed axes.
	
	* src/axis.h (struct AXIS): Renamed element "reverse_range" to
 	"range_is_reverted", which explains its usage more clearly.  All
 	usages of this element renamed, throughout the source.
	(AXIS_INIT3D, CHECK_REVERSE): Mask "autoscale" by AUTOSCALE_BOTH
 	before comparison, to avoid disruption by AUTOSCALE_FIX{MIN|MAX}
 	bits stored in there, too.

	* src/stdfn.h (cliptorange): New macro to simplify clipping values
 	to potentially reversed ranges.

	* src/axis.c (setup_tics): Introduced local "this" pointer into
 	axis_array.  Locals fixmin,fixmax renamed to autoextend_{min|max},
 	to be more self-explanatory.
	(load_range): If range input "backwards", e.g. '[5:-5]', turn on
 	the "reverse" flag for that axis.

	* src/graphics.c (plot_impulses, plot_boxes): Replaced explicit
 	code by call to new macro "cliptorange".
	(two_edge_intersect_steps, two_edge_intersect_fsteps): Replaced
 	explicit code by calls to macros "inrange" and "cliptorange".
  	Removed some superfluous pointer increments.

2003-01-27  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Work around png/freetype detection problems with
	cygwin.

2003-01-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h: Removed patch 2003-01-25 about of the changed
 	definition of AUTOSCALE_FIXMIN and AUTOSCALE_FIXMAX. The bug of
 	reversed y-axis, "set autoscale fix" and mouse zooming seems to be
 	more tricky.

2003-01-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c: Fix typo HAVE_GD_TTY to HAVE_GD_TTF.

2003-01-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h: Change the definition of AUTOSCALE_FIXMIN from 1<<2
 	to AUTOSCALE_MIN | 1<<2. Similarly for AUTOSCALE_FIXMAX. Fixes a
 	bug of wrong z- and cb-ranges during mouse zooming of a pm3d
 	splot.

2003-01-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	A patch from Allin Cottrell <cottrell@wfu.edu> to fix unreadable
 	low-numbered linetypes in EMF terminal monochrome mode.
	
	* term/emf.trm (emf_color): New variable.
	(EMF_options): Initialize it according to monochrome/colour option
 	status.
	(EMF_dashtype, EMF_point): Use it instead of constan EMF_COLORS.
	(TERM_HELP): Slightly reformatted for linelength.

2003-01-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot.c src/set.c docs/gnuplot.doc: Let the default terminal
 	or that (re)set from gnuplot's ini file pushed automatically
 	during gnuplot's startup. Consequently, 'set term pop' will be
 	always defined to be the default terminal on the given platform,
 	unless changed explicitly by 'set term push'.

	* src/misc.h src/misc.c: New routines push_terminal() and
 	pop_terminal().

2003-01-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	New Windows menu contributed by John Bollinger <bbands@yahoo.com>:
	
	* src/win/wgnuplot.mnu: The new menu definition itself.

	* src/win/wmenu.c (MACROLEN): Increased to 10000 to accomodate
 	larger menu.

	* src/win/wresourc.h (NUMMENU): Increased to 512 to accomodate
 	larger menu.

	* src/win/wgnuplib.h (WGNUPLOTVERSION): Bumped up because NUMMENU
 	change makes DLL API incompatible.

2003-01-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ, src/syscfg.h: Update FAQ location.

	* configure.in: Fix faulty regexp in sed command and vgagl reporting.

2003-01-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm (ENHPS_recurse): Fix buggy PS output if backslash
 	is at the end of the input string.

2003-01-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pstricks.trm: Support for PM3D. Thanks to Tim Piessens for
	contribution.

2003-01-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/README src/color.c term/post.trm: Changed "continous" to
	"continuous".

2003-01-13  Hans Werner Strube  <strube@physik3.gwdg.de>

	* term/fig.trm: Fix text centering for nonzero text angle.

2003-01-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot3d.c (get_3ddata): Move dgrid3d call outside if-else
 	block to have it work with binary and matrix data, too.

2003-01-09  Ethan Merritt  <merritt@u.washington.edu>

	* docs/gnuplot.doc: Document Mike Kay's addition of font and
 	textcolor to tick label settings.

2003-01-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg config/makefile.os2:
 	Sort terminals in the docs alphabetically, i.e. generate allterm.h
 	like in docs/Makefile.in.

2003-01-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* doc/gnuplot.doc: Remove duplication of hypertext labels "set
 	encoding" and "plotting styles".

2003-01-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg config/makefile.os2:
 	Update -D... symbols for the changed syntax of gd/png/jpeg/gif
 	checks.
	
2003-01-07  Mike Kay <Mike.Kay@noaa.gov>

	* src/axis.h src/color.c src/gadgets.c src/gadgets.h src/graph3d.c
 	src/graphics.c src/save.c src/set.c src/show.c src/unset.c: Allow
 	user to specify textcolor and font for axis tick labels.

2002-12-27  Ethan Merritt  <merritt@u.washington.edu>

	* src/set.c: Check for legal value of linetype in
 	parse_colorspec().

	* src/unset.c: Invoke 'unset_missing' during a reset. Avoid
 	calling int_error() from inside a reset, because this prevents it
 	from restoring the interactive context on exit.

2002-12-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Completely rewritten and simplified checks for
 	png, gd, and the required support libraries. Other minor cleanups.

	* config/config.amg, config/makefile.cyg, config/makefile.mgw,
 	config/makefile.os2, src/show.c, src/term.h, term/gd.trm,
 	term/png.trm: Update all preprocessor symbols related to new
 	gd/png/jpeg checks.

2002-12-17  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Initialize gcCurrentFunction because gcc is too
 	stupid to see that it can never be used before it is set.

	* src/misc.c: Do not allow input of negative pointsize or
 	linewidth.

	* term/gd.trm: Check for valid linetype (Mike Kay
 	<kay@fsl.noaa.gov>).

2002-12-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Fix typo in allterm.h generation.

2002-12-17  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c: Fix saving of 'set xtics 7'.  Patch from
 	Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>.

	* src/fit.c (fit_command): Replace EOF by DF_EOF in return value
 	check of df_readline call.

2002-12-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Adjust DEFAULT_INCLUDES and INCLUDES. Remove
	jpeg.trm from CORETERM. New generated file term.h, used instead of
	../src/term.h, and adjust dependencies accordingly. Better rule to
	generated allterm.h.

	* term/epslatex.trm: Fix typos in help section (was labeled as post
	instead of epslatex).

	* term/pdf.trm, term/svg.trm: Fix indentation of term help section.

	* term/png.trm: Rename "png (OLD)" to "png_old" to allow for
	alphabetical sorting of term help entries.

	* term/vgagl.trm: Remove spaces-only line from end of term help.

2002-12-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Add DEFAULT_INCLUDES. Update CORETERM. Add
	gnuplot.out to CLEANFILES. Prepend config.h to allterm.c

	* docs/checkdoc.c, docs/doc2gih.c, docs/doc2hlp.c, docs/doc2ipf.c,
	docs/doc2ms.c, docs/doc2rnh.c, docs/doc2rtf.c, docs/doc2tex.c,
	docs/termdoc.c, docs/xref.c: Fix compiler warnings, ansify.

	* docs/gnuplot.doc: Update copyright date.

	* docs/psdoc/Makefile: Fix clean target.

	* docs/psdoc/ps_fontfile_doc.tex: Harald Harders' patch to improve
	ps fontfile documentation.

2002-12-13  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* term/cgm.trm, term/eepic.trm, term/hpgl.trm: Another installment
	of documentation fixes.

2002-12-15  Ethan Merritt  <merritt@u.washington.edu>

	* configure.in: If the TTF support routine in libgd is found under its
	old name gdImageStringTTF then force gd.trm to use old name instead of 
	the newer gdImageStringFT.  This addresses support request 652960, and
	is necessary for compatibility with libgd < 1.8.4. 

2002-12-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg: Compile doc2tex with
	allterm.h so that gnuplot.tex documents all terminal drivers, not only
	those currently used.

	* post.trm(START_HELP): Added label 'postscript fontfile'.

2002-12-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/titlepag.ms docs/titlepag.tex docs/gnuplot.doc: Added my name to
	the authors section.

2002-12-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* gnuplot.doc: Removed references to `help vgagl`.

	* post.trm(START_HELP): Fixed broken reference to `postscript fontfile`.

	* x11.trm(START_HELP): Added label 'help x11 pm3d'.

	* vgagl.trm(START_HELP): Added label 'help vgagl'.

2002-12-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/titlepag.tex: Added fancy headings. Better procedure to read
	gnuplot version from file VERSION.

2002-12-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Regenerated and updated.

	* docs/doc2texi.el: Add all terminal drivers to d2t-terminal-list.

	* src/Makefile.am: Don't create temporary getcolor_x11.c.

	* src/Makefile.maint: Fix logic for updating version.c.

2002-12-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c(set_terminal): Don't display messages of 'set term push'
	when in interactive mode.

2002-12-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/term.c(term_end_multiplot): Remove c_token++. It fixes commands
	like 'unset multiplot; another command;'.

2002-12-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wpause.c (PauseBox): Nigel Nunn's change to the message
 	loop of the pause window to avoid CPU hogging.

2002-12-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/unset.c (reset_command): Call unset_view() before resetting
 	yrange because its reverse status depends on splot_map_active.

2002-12-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/gd.trm term/gif.trm term/png.trm: Replaced typo "ingoring"
 	by "ignoring".

2002-12-11  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* term/djsvga.trm, term/eepic.trm, term/epson.trm, term/fig.trm,
	term/gif.trm, term/latex.trm, term/mif.trm, term/post.trm,
	term/pslatex.trm, term/tpic.trm, term/xlib.trm: More of same.

2002-12-11  Johannes Zellner  <johannes@zellner.org>

	* docs/titlepag.ms docs/titlepag.tex docs/gnuplot.doc
 	docs/gnuplot.texi: Added my name to the authors section.

2002-12-09  Ethan Merritt  <merritt@u.washington.edu>

	* src/unset.c: Implement 'unset style arrow'.

	* src/set.c src/setshow.h: Comment out unused function
 	delete_arrowstyle(prev,next).

2002-12-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp: gnuplot-mode updated to 0.5t.

2002-11-27  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: Subtract 1 from plot->cmap->allocated
	in PaletteSetColor so that the resulting color index is
	always valid.

2002-12-04  Ethan Merritt  <merritt@u.washington.edu>

        * docs/gnuplot.doc: Alphabetize and re-organize 'set style' options.
	  The layout could use more work to make the html and tex-derived
	  documentation come out right.
	* docs/doc2texi.el: Add gd.trm and jpeg.trm to the list of files
	  searched while generating documentation.
        * term/png.trm: Modify documentation/help tags to distinguish new
	  and old png drivers.
        * term/post.trm: Delete extraneous documentation/help tag.

2002-12-03  Ethan Merritt  <merritt@u.washington.edu>

        * term/gd.trm: Prevent buffer overflow on really long font names.

2002-12-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c(plot_filledcurves): Added forgotten points=0; after
	call to finish_filled_curve(). If fixes sequent drawing of closed curves
	from one data file.

2002-12-01  Ethan Merritt  <merritt@u.washington.edu>

        * term/cgm.trm: Tweak code so gcc3.2 does not complain about
	ill-defined behavior of a[i]=b[i++].

2002-11-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util3d.c (draw3d_line_unconditional): Removed the GP_INLINE
 	qualifier.  MSVC build would fail otherwise.
	
2002-11-27  Johannes Zellner  <johannes@zellner.org>

	* term/cgm.trm:
	- "plot w filledcurves" didn't use the correct line color
	- replaced a few assertions by "truncations" at term->xmax /
	  term->ymax

2002-11-26  Ethan Merritt  <merritt@u.washington.edu>

        * src/save.c src/set.c src/show.c src/unset.c src/tables.c
 	src/tables.h docs/gnuplot.doc: Change syntax from 'set missing
 	"<string>"' to 'set datafile missing "<string>"'. The old syntax
 	is still accepted.

2002-11-26  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/be.trm, term/cgm.trm, term/x11.trm: Fix
 	more misprints in documentation.

2002-11-26  Peter Wegener  <pete@shirkhan.ilr.ing.tu-bs.de>

	* src/Makefile.am: Allow overriding X11_DRIVER_DIR from
 	environment.

2002-11-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/winmain.c (WinMain) [MSC, WIN32]: Use predefined __argc
 	and __argv instead of old hack to generate them from scratch,
 	which couldn't cope with blanks in file names or quoted arguments.

2002-11-15  Ethan Merritt  <merritt@u.washington.edu>

        * src/term.h src/show.c: Accommodate minor inconsistencies in the
	PNG options in various Makefile.{OS} files.

2002-11-13  Ethan Merritt  <merritt@u.washington.edu>

        * configure.in: Tweak the logic to correctly handle a more complete
	set of combinations of old/new libgd old/new PNG driver and 
	--with/--without/--with=dir/ configuration options.

2002-11-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c(xtick_callback): Remove extra } when #ifndef PM3D.

2002-11-05  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/atariaes.trm, term/atarivdi.trm: Fix more
	misprints.

2002-11-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c (regress): Fix SF bug # 631323: spelling "occured" -->
 	"occurred".

2002-11-03  Harald Harders  <h.harders@tu-bs.de>

	* src/save.c: Fix crash from saving arrowstyle.

2002-11-01  Ethan Merritt  <merritt@u.washington.edu>

        * src/axis.c src/gadgets.c src/graph3d.c src/term.c term/pdf.trm:
 	Remove unused variables and add #include statements to pick up
 	missing function prototypes. This fixes current crop of warnings
 	from gcc -Wall.

2002-10-31  Ethan Merritt  <merritt@u.washington.edu>

        * prepare: Fix capitalization of 'Makefile.in' in prepare script.

2002-10-25  Ethan Merritt  <merritt@u.washington.edu>

        * term/pdf.trm: Bring pattern fill behavior into conformity with
 	other terminals (opaque background, continuous lines).

2002-10-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* prepare: Added sed command to fix a bug in automake's output to
 	src/Makefile.in: missing $(EXEEXT).

2002-10-25  Ethan Merritt  <merritt@u.washington.edu>

        * src/graphics.c src/win/wgraph.c term/fig.trm term/pdf.trm:
 	Replace tests on fillstyle parameter to use enums FS_* instead of
 	pure constants.

2002-10-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* win/winmain.h win/winmain.c(kill_pending_Pause_dialog(void)): New
	routine. Kills pending "Pause" dialog box on Windows. Called from
	bail_from_command_line().

	* command.h command.c(call_kill_pending_Pause_dialog(void)): New
	routine. Calls win/winmain.c: kill_pending_Pause_dialog().

	* plot.c(bail_to_command_line): On Windows, call 
	kill_pending_Pause_dialog() when you bail to command line. Needed if
	gnuplot encounters a (re)plotting error when Pause dialog is displayed 
	(e.g. due to very small ranges in mouse zoom or log axis for negative 
	values in data file). Otherwise the Pause dialog stays on the desktop
	until you quit gnuplot.

2002-10-21  Ethan Merritt  <merritt@u.washington.edu>

        * NEWS, docs/gnuplot.doc: Add reference to current `set style fill`
	and `set style line` commands.

2002-09-21  Harald Harders  <h.harders@tu-bs.de>

	* NEWS demo/all.dem demo/arrowstyle.dat demo/arrowstyle.dem
	docs/gnuplot.doc src/axis.c src/axis.h src/gadgets.c src/gadgets.h
	src/graph3d.c src/graphics.c src/graphics.h src/misc.c src/misc.h
	src/plot2d.c src/save.c src/set.c src/setshow.h src/show.c src/tables.c
	src/tables.h src/term.c src/term_api.h src/unset.c term/fig.trm:
	New 'set style arrow' and back angles for arrow head (see Patches:
	[587056] arrow styles via 'set style arrow').

2002-09-21  Harald Harders  <h.harders@tu-bs.de>

	* docs/psdoc/Makefile docs/psdoc/ps_fontfile_doc.tex: This patch
	improves the documentation for ps type1 font embedding. A table
	containing the most important LaTeX text fonts is added. 

2002-10-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/command.c src/command.h src/graph3d.c
	src/graph3d.h src/mouse.c src/plot2d.c src/plot3d.c src/pm3d.c
	src/pm3d.h src/save.c src/set.c src/show.c src/unset.c: New command
	'set view map': forces splot into a layout suitable for 2D maps. 
	New global variable: int splot_map. New routines splot_map_activate()
	and splot_map_deactivate().

2002-10-20  Ethan Merritt  <merritt@u.washington.edu>

        * src/gplt_x11.c: Fix crash if asked to draw rotated empty string.

2002-10-18  Shigeharu Takeno  <shige@iee.niit.ac.jp>

	* docs/gnuplot.doc, term/atariaes.trm, term/atarivdi.trm, term/be.trm,
	term/x11.trm: Fix a number of misprints.

2002-10-18  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* term/linux.trm(LINUX_setup): Make driver work with devfs.

2002-10-17  Harald Harders  <h.harders@tu-bs.de>

	* term/epslatex.trm: Surround the graph by \begingroup ... \endgroup so
	that 'unitlength' is not changed globally.

2002-10-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw config/makefile.os2:
 	Added HAVE_DIRENT_H.

2002-10-11  Harald Harders  <h.harders@tu-bs.de>

	* src/misc.c(recursivefullname): Fix.

2002-10-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/misc.c: Indentation, ansification.

	* term/post.trm: Fix typo.

2002-10-11  Harald Harders  <h.harders@tu-bs.de>

	* src/misc.c(recursivefullname), src/util.c(existdir),
	src/variable.c(fontpath_tbl): Fontpath fix for Windows.

2002-10-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Add one missing }.

2002-10-09  Johannes Zellner  <johannes@zellner.org>

	* term/cgm.trm: fixed bug #616167 "cgm color problem"

2002-10-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/plot.c(main) makefile.cyg makefile.mgw: Added --help and
	--version switches.

2002-10-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c: Added missing #ifdef PM3D around declaration of 
	static ... set_palette_... routines.

2002-10-09  Johannes Zellner  <johannes@zellner.org>

	* TODO: started a section for what has to be done before releasing 4.0

2002-10-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/post.trm(delete_ps_fontfile): Fix compilation for non-PM3D.

2002-10-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm: Remove compiler warning.

2002-10-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/misc.c (parse_fillstyle): Make the bulk of this function
 	conditional on USE_ULIG_FILLEDBOXES.  If that's not defined, bail
 	out with an int_error(), instead of a mere int_warn().

	* src/plot2d.c (eval_plots): Fix --disable-filledboxes compile by
 	adding an #ifdef USE_ULIG_FILLEDBOXES around a block.

2002-10-09  Harald Harders  <h.harders@tu-bs.de>

	* src/variable.c: Patch #611546 "Save wrong for loadpath and
 	fontpath".  If the local values for fontpath or loadpath is empty
 	while system values are defined, the save command saves the first
 	path entry which it shouldn't.

2002-10-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Enable filledboxes and relative-boxwidth by
 	default.  Remove EXPERIMENTAL labels. Rename help text for options
 	that are enabled by default.

	* src/plot.c(main): Remove non-standard and undocumented -? and
 	-help switches.

2002-10-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.c: Changed default value from 'set pm3d clip1in' to
 	'set pm3d clip4in'.

	* docs/gnuplot.doc: Pronounce 'set pm3d clip...' in 'help clip'.

2002-10-09  Johannes Zellner  <johannes@zellner.org>

	* src/plot.c(main): Added --help / --version switches.

2002-10-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Format for string of zoomed coordinates changed to
 	%.12g to avoid error message "Can't plot with an empty range".

2002-10-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/unset.c (unset_tics): Change condition that triggers freeing
 	of the list of user-defined tics to fix crash in surface1.dem.

2002-10-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in, config/config.amg, src/stdfn.h: Change test for time_t
	in <time.h> to not require time_t define in config.h. This removes the
	need for acconfig.h.

2002-10-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/specfun.c: Error codes DOMAIN, SING etc. are not available on
	every platform, thus define MTHERR_* constants explicitly.

2002-10-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: Use temporary getcolor_x11.c when compiling
	gnuplot_x11.exe.

2002-10-04  Ethan Merritt  <merritt@u.washington.edu>

        * src/set.c src/setshow.h src/unset.c: Free list of user ticmarks on 
	reset or unset [<axis>]tics.

	* src/datafile.c: If "set missing" is active, notify calling routine
	of missing data. Previously "set missing" was effectively a noop.

2002-10-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gnupmdrv.rc src/os2/dialogs.h src/os2/gclient.c: Update of
	menu entries of gnupmdrv with respect to the current state of hotkeys
	and mousing.

2002-09-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: Support for textcolors.

2002-09-29  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Improve vertical placement of rotated text.

2002-09-27  James R. Van Zandt  <jrv@debian.org>

	* term/cgm.trm (cgm_default_color_table): Adjust default colors
	for better contrast with background and each other.

2002-09-09  Johannes Zellner  <johannes@zellner.org>

	* term/cgm.trm: Point types and line types (colors) similar
	to the postscript driver.

2002-09-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Integrated SF Patch #606726 by Harald Harders. This implements a
 	new setting "fitlogfile" to override the default filename
 	"fit.log" for the fit result log.
	
	* src/fit.c (fitlogfile): Renamed from logfile, and made
 	externally visible instead of file-global.
	(fitlogfile_default): New variable to hold default log file name.
	(fit_command): Replaced code to determine file name by call to
 	getfitlogfile.
	(getfitlogfile): New function.  Extracted from fit_command, and
 	extended to check new user-settable variable fitlogfile before
 	using environment variable $FIT_LOG or the default.  Returns

	* src/fit.h (fitlogfile, getfitlogfile): Declare new exports of
 	fit.c.

	* docs/gnuplot.doc (environment): $FIT_LOG is only the default,
 	but no longer the fixed filename for the fit log output.
	(fit): Reference "set fitlogfile" to override $FIT_LOG or
 	"fit.log", respectively.
	(fitlogfile): Document new option.

	* src/tables.h (set_id): New entry S_FITLOGFILE.

	* src/tables.c (set_tbl): New entry to handle set/show/unset
 	fitlogfile.

	* src/set.c (set_command): Added handling of fitlogfile to error
 	message and big switch block.
	(set_fitlogfile): New function to implement "set fitlogfile".

	* src/show.c (show_command): Added handling of fitlogfile to error
 	message, big switch block.
	(show_fitlogfile): New function to implement "show fitlogfile".
	(show_all): Show fitlogfile, too.

	* src/unset.c (unset_command): Added handling of fitlogfile to
 	error message and big switch statement.
	(unset_fitlogfile): New function to implement "unset fitlogfile".
	(reset_command): Clear fitlogfile as part of a "reset".

	* src/save.c (save_set_all): Save the state of fitlogfile, too.

2002-09-26  Ethan Merritt  <merritt@u.washington.edu>

	* src/plot2d.c: Fix boxwidth handling when relative-boxwidth disabled.
	* demo/all.dem demo/fillstyle.dem docs/gnuplot.doc 
	src/bitmap.c src/gadgets.c src/gadgets.h src/gp_types.h src/gplt_x11.c 
	src/graph3d.c src/graphics.c src/graphics.h src/hidden3d.c src/misc.c 
	src/misc.h src/plot2d.c src/save.c src/set.c src/show.c src/tables.c 
	src/tables.h src/term_api.h src/unset.c 
	term/gd.trm term/post.trm term/svg.trm:
	Remove filledboxes as separate plot style. Remove bsolid and bpattern
	as separate fill styles. New consolidated syntax for default is
	`set style fill <fillstyle>` where <fillstyle> is 
	{empty | solid <density>| pattern <n>} {noborder | border <lt>}`.
	Individual plot commands with style boxes or candlesticks can override
	this default, e.g.  plot ... with boxes fill <fillstyle>.
	Fill pattern auto-increments for successive datasets or functions.

2002-09-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pm.trm src/os2/gclient.c: Support for rotated text.

2002-09-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: config.h is in src/.

2002-09-24  Hans Olav Eggestad <hans.olav.eggestad@jordforsk.no>

	* src/save.c: Consolidate dump of data and function plot styles.

2002-09-23  Ethan Merritt  <merritt@u.washington.edu>

	* src/set.c: Restore previous behavior of blank user tic marks.

2002-09-16  Harald Harders  <h.harders@tu-bs.de>

	* configure.in, src/misc.c, src/util.c, src/variable.c: Preliminary
	workaround for missing <dirent.h>.

2002-09-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (load_tic_user): Make sure ticdef.def.user is
 	initialized.  Fixes bug #607839.  Moved assignment of ticdef.type
 	here.
	(add_tic_user): Made 'static', local prototype added.  Superfluous
 	casts and checks removed. Removed assignment of ticdef.type
	(free_marklist): Moved local variable `freeable' into block.
	Removed pointless casts.

	* src/axis.h (add_tic_user): Removed prototype that never belonged
	here.

2002-09-09  Johannes Zellner  <johannes@zellner.org>

	* src/mouse.c: changed "pointtype 1" to "point pt 1" which conforms to
	the changed point option for 'set label'.

2002-09-09  Johannes Zellner  <johannes@zellner.org>

	* src/plot.c: reordering: init_color() must come BEFORE load_rcfile().

2002-09-06  Harald Harders  <h.harders@tu-bs.de>

	* demo/Makefile.am demo/Makefile.am.in docs/psdoc/ps_fontfile_doc.tex
	demo/fontfile.dem demo/fontfile_latex.dem: Redo fontfile demos to use
	commonly available fonts.

	* term/post.trm src/misc.c src/misc.h: Add reset command
	'set term post nofontfiles'.

2002-09-05  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c term/x11.trm: Support for rotated text.

2002-09-03  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c: Avoid use of snprintf().

2002-09-03  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm: (Harald Harders) Report FontName of embedded fonts.

	* term/gd.trm: Do vertical justification based on full character cell.

2002-09-02  Harald Harders  <h.harders@tu-bs.de>

	* NEWS demo/fontfile.dem docs/gnuplot.doc docs/psdoc/Makefile
	docs/psdoc/README docs/psdoc/ps_fontfile_doc.tex src/misc.c src/misc.h
	src/plot.c src/save.c src/set.c src/show.c src/tables.c src/tables.h
	src/term.c src/util.c src/util.h src/variable.c src/variable.h
	term/post.trm: Implementation of PFA, PFB and TTF font support in
	postscript: encapsulate the font definitions directly into the gnuplot
	output postscript file. New command 'set fontfile'. New option 'set
	term postscript ... fontfile'.

2002-09-02  Ethan Merritt  <merritt@u.washington.edu>

        * src/axis.h src/graph3d.c src/graphics.c src/set.c:
	Modularize the routines for label and tic-label handling.

2002-08-30  Ethan Merritt  <merritt@u.washington.edu>

	* src/term.c term/amiga.trm term/cgm.trm term/epslatex.trm 
	term/metapost.trm term/next.trm term/openstep.trm term/post.trm
	term/x11.trm:  Remove global default font from term.c and make all
	drivers keep their own default font so they don't cross-contaminate.

	* src/graphics.c src/save.c src/set.c src/show.c docs/gnuplot.doc
	demo/fillbox.dem demo/candlesticks.dem demo/candlesticks.dat:
	Add new filledbox style options 'bsolid' and 'bpattern'.
	Draw filledbox style in key rather than a line.

2002-08-30  Volker Dobler  <v.dobler@web.de>

	* NEWS demo/all.dem demo/pm3dcolors.dem demo/pm3dgamma.dem
	docs/gnuplot.doc src/Makefile.am src/color.c src/color.h src/getcolor.c
	src/getcolor.h src/gplt_x11.c src/plot.c src/save.c src/set.c
	src/show.c src/tables.c src/tables.h src/win/wgraph.c term/metapost.trm
	term/pdf.trm term/post.trm term/svg.trm term/x11.trm: New color modes
	for pm3d, see `help palette`: `defined`, `file`, `functions`, `model`,
	`gamma`. Additions to `show palette ...`. New option `set terminal
	postscript ... palfuncparam`.

2002-08-28  Ethan Merritt  <merritt@u.washington.edu>

	* docs/gnuplot.doc term/hpgl.trm term/epslatex.trm:
	Spell-check and fix typos in documentation.

2002-08-28  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Fix error in terminal initialization.

2002-08-27  Ethan Merritt  <merritt@u.washington.edu>

	* term/gif.trm term/png.trm: Update TERM_HELP sections
	so that auto-generation of documentation is consistent. 
	
	* term/gd.trm: Add terminal options nointerlace, notransparent, 
	and retain terminal options across calls to set term. Move
	default font properties into the per-terminal data structure.

2002-08-27  Ethan Merritt  <merritt@u.washington.edu>

	* term/jpeg.trm: Add placeholder file so that auto-generation of
	documentation includes a section on jpeg.

2002-08-27  Volker Dobler  <v.dobler@web.de>

	* src/color.c: Use signed int for cblabel positioning.

2002-08-25  Ethan Merritt  <merritt@u.washington.edu>

	* src/gplt_x11.c term/x11.trm: Add support for selecting x11 fonts.
	The syntax is `set term x11 font "<fontspec>"` where <fontspec> is
	either a full x11 font names or a string "<font>,<size>,<slant>".
	Some attempt is made to recognize PostScript font names and substitute
	a TTF equivalent if the initial request fails.

2002-08-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c: Added 'include "gp_hist.h".

	* src/gadgets.h: Added declarations for apply_textcolor() and
	reset_textcolor().

2002-08-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: Automatic positioning of the color box label.

2002-08-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c src/axis.h src/axis.c: Added global routine
	widest_tic_callback() for the calculation of the length of the widest
	tic label. Removed similar routine widest2d_callback(), which was
	available only for 2d plots.

2002-08-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c: Obvious typo "inrange (0.0, X_AXIS.min, Y_AXIS.max)"
	corrected.

2002-08-24  Ethan Merritt  <merritt@u.washington.edu>

	* src/axis.c src/axis.h src/graphics.c src/save.c src/set.c src/show.c
	src/unset.c docs/gnuplot.doc: Allow text rotation by artibitrary angle
	in tic labels `set xtics rotate by <ang>`.

2002-08-24  Ethan Merritt  <merritt@u.washington.edu>

	* term/post.trm: Detect and modify non-PostScript font names to insure 
	that legal PostScript is generated and that font size is correct.

2002-08-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/fig.trm: Don't reset terminal options. Improved documentation.

2002-08-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/gd.trm: New option 'set term png ... {no}crop'.

2002-08-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gnuplot.doc: Added documentation that 'set term <term>' does not
	reset (previous) options.

2002-08-23  Ethan Merritt  <merritt@u.washington.edu>

	* src/datafile.c docs/gnuplot.doc: Parsing datafile lines that contain
	quoted strings: "hello world" is now accepted as a single column.

2002-08-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/svg.trm: Support arbitrary text rotations.

2002-08-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot3d.c: Fixed 'reset; splot ... with pm3d at ...'.

2002-08-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gplt_x11.c: Removed unused field 'offset' from 'struct
	t_sm_palette'.

2002-08-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.h src/color.c: Removed unused field 'offset' from 'struct
	t_sm_palette'.

2002-08-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Added documentation for 'set label ... font'.

2002-08-19  Harald Harders  <h.harders@tu-bs.de>

	* docs/gnuplot.doc src/misc.c src/tables.c: Let style 'with vectors'
	use plural (as all other plotting styles) instead of singular
	'with vector'. Note: it does not change any functionality.

2002-08-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Remove false warning when rotating splot by mouse and
	there is a log axis.

2002-08-16  Harald Harders  <h.harders@tu-bs.de>

	* NEWS docs/gnuplot.doc src/gadgets.h src/gadgets.c src/plot2d.c
	src/plot3d.c src/save.c src/set.c src/show.c src/tables.h src/tables.c
	src/unset.c: New option 'set key {no}autotitles'.

2002-08-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc term/post.trm: Added some hyperlinks.

2002-08-15  Harald Harders  <h.harders@tu-bs.de>

	* term/post.trm: Documentation about Symbol-Oblique.

2002-08-14  Harald Harders  <h.harders@tu-bs.de>

	* src/readline.c: Remove compiler warning.

	* term/post.trm: Fix writing an error message to gpoutfile instead of
	stderr.

2002-08-01  Ethan Merritt  <merritt@u.washington.edu>

	* term/next.trm (NEXT_put_text): Fix incorrect multiplication of
 	text rotation angle by 90 degrees.

	* term/openstep.trm (NEXT_put_text): Dito.

	* term/post.trm (ENHPS_put_text): Dito.

	* term/rgip.trm (RGIP_put_text): Dito.

2002-08-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/README: Updated documentation of _fillbox() terminal entry
 	previously incorrectly referred to as _boxfill().  Mention usage
 	by "with filledboxes".
	
	* src/interpol.c (cp_implode): Introduced special handling for
 	former zeroes on log axes, now represented by type==OUTRANGE,
 	value==-VERYLARGE. Avoid SIGFPE crash on Alpha.

2002-08-01  Ethan Merritt  <merritt@u.washington.edu>

	* src/plot2d.c (eval_plots): Fix buggy test if current plot style
 	is FILLEDCURVES.

	* src/set.c (set_style): Dito.

2002-07-26  Ethan Merritt  <merritt@u.washington.edu>

	* NEWS docs/gnuplot.doc demo/all.dem demo/textrotate.dem
 	src/bitmap.c src/color.c src/gadgets.h src/gplt_x11.c
 	src/graph3d.c src/graphics.c src/save.c src/set.c src/show.c
 	src/term.c term/README term/cgm.trm term/dxf.trm term/dxy.trm
 	term/eepic.trm term/emf.trm term/emxvga.trm term/fg.trm
 	term/fig.trm term/gd.trm term/gif.trm term/gnugraph.trm
 	term/gpr.trm term/hp26.trm term/hp2648.trm term/hpgl.trm
 	term/latex.trm term/linux.trm term/metapost.trm term/mif.trm
 	term/multitos.trm term/pc.trm term/pdf.trm term/pm.trm
 	term/post.trm term/pslatex.trm term/pstricks.trm term/regis.trm
 	term/svg.trm term/tgif.trm term/tpic.trm term/unixpc.trm
 	term/vgagl.trm term/vws.trm term/win.trm term/x11.trm: Support for
 	arbitrary text rotations. New option 'set label ... [no]rotate
 	[by] ...'.

2002-07-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (show_style): Add missing c_token++. Patch by Harald
 	Harders, SF #586987.

2002-07-25  Harald Harders  <h.harders@tu-bs.de>

	* term/post.trm: New options 'butt' and 'round' for line caps and
 	line joins.

2002-07-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm: Better patch to stroke pending graphic element,
 	needed in PS_filled_polygon() and PS_previous_palette().

2002-07-24  Harald Harders  <h.harders@tu-bs.de>

	* src/term.c: Closed outline path for filled arrow heads.

2002-07-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm: In PS_filled_polygon(), stroke pending graphic
 	element.

2002-07-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/unset.c: Forgotten reset of title's textcolor.

2002-07-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/datafile.c: Fix reading color binary files.

2002-07-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/save.c: Save the (no)filled option for arrows.

2002-07-23  Harald Harders  <h.harders@tu-bs.de>

	* NEWS docs/gnuplot.doc src/gadgets.h src/graph3d.c src/graphics.c
 	src/graphics.h src/set.c src/show.c src/term.c src/term_api.h: New
 	option 'set arrow ... filled | nofilled' for filled arrow heads.

2002-07-23  Ethan Merritt  <merritt@u.washington.edu>

	* src/graphics.c docs/gnuplot.doc: Allow filled boxes in
 	candlestick plots, under control of the "set style fill ..."
  	command.

2002-07-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: Fix misplaced call to reset_textcolor().

	* src/plot3d.h src/plot3d.c src/graph3d.c: Do not call
	term->previous_palette() if !plot_has_palette.

2002-07-22  Ethan Merritt  <merritt@u.washington.edu>

	* demo/textcolor.dem demo/all.dem: Demo for text color.

	* src/gadgets.c: Fix for default textcolor.

2002-07-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/metapost.trm: Fix wrong indentation in the documentation
	section.

	* config/makefile.cyg config/makefile.mgw: Fix if .. endif clause for
	optional PDF terminal.

	* term/svg.trm: Support for "textcolor ...".

	* term/mif.trm: Documented option "color".

2002-07-21  Ethan Merritt  <merritt@u.washington.edu>

	* NEWS docs/gnuplot.doc src/color.c src/gadgets.c src/gadgets.h
	src/gplt_x11.c src/graph3d.c src/graphics.c src/plot3d.c src/save.c
	src/set.c src/show.c src/term.c src/win/wgraph.c term/cgm.trm
	term/gd.trm term/mif.trm: Implementation of 'textcolor ...' for 
	title, [x|y|z|cb|...]label and labels.

2002-07-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/show.c docs/gnuplot.doc: New option 'add2history' for
	'show plot'.

	* src/command.c: Separate chained (s)plot + replot command sequence
	as displayed by 'show plot' by ", " instead of ",". 

2002-07-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/ggi.trm: Minor changes in the documentation.

	* term/metapost.trm: Fix `something' => `something` in the
	documentation section.

2002-07-10  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Allow any sizes of TTF fonts.

2002-07-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/metapost.trm: Fix color reset, improved documentation
	(contributed by Arun Persaud <apersaud@lbl.gov>).

2002-07-09  Ethan Merritt  <merritt@u.washington.edu>

	* term/gd.trm: Fix for selecting a TTF font.

2002-07-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib/pm3dConvertToImage.awk: Don't fail on empty map. Treat
	properly both cases of scans_in_x.

2002-07-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.h src/pm3d.c: Removed unused field use_column in
	pm3d_struct.

2002-07-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/mif.trm term/post.trm: Changed "continous" to "continuous".

	* term/metapost.trm: Support for 'set palette maxcolors'.

	* term/post.trm: Added "0 setgray" for the case Color==false in the
	definition of "DL".

2002-07-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib/pm3dConvertToImage.awk: Fix for compressing several
	images in one postscript file.

2002-07-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot3d.c: Fallback to PM3DSURFACE style for 2 or 4 columns is no
	more required.

2002-07-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot3d.c: Error message for "using 1:2:3:4" when neither pm3d
	nor `using ... palette` is specified.

2002-07-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/datafile.c demo/pm3d.dem: Binary datafiles now accept 'using'
	with 4 parameters for independent z and color values of splotting
	'with pm3d' and 'with lines|points palette'.

2002-07-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/plot3d.c docs/gnuplot.doc: Support plotting surfaces with
	color lines or points with color according to explicitly given 4th
	column, e.g. "splot ... using 1:2:3:4 with [line|point] palette".

	* src/plot3d.c: The color for the color value of lines, colors, pm3d
	vertices is taken from the 3rd data column unless the 4th column is 
	explicitly stated by "using"; thus, the same splot is obtained
	regardless whether the input data file has 3 or 4 columns.

	* src/axis.h: Added condition "|| PM3D_IMPLICIT == pm3d.implicit" into
	macro NEED_PALETTE(plot).

	* src/datafile.h src/datafile.c: Routine df_3dmatrix(): don't use
	macro NEED_PALETTE(plot), but take parameter input_palette() --- this
	avoids #include "pm3d.h" in datafile.c.

2002-06-16  James R. Van Zandt  <jrv@debian.org>

	* term/cgm.trm: silently drop any labels outside the CGM plot
	window.  (This should eliminate the errors like "gnuplot:
	../term/cgm.trm:1150: CGM_write_int: Assertion `value <= 32767'
	failed.  Aborted (core dumped)".	

2002-06-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/fig.trm: Support for 'set palette maxcolors <n>'. Treat properly
	the case of color palette and monochrome fig file.

2002-06-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pdf.trm term/svg.trm: Support for 'set palette maxcolors <n>'.

	* term/win.trm: Better document the meaning of 256 levels in
	WIN_make_palette(). Remove the previous change on limiting the gray
	into [0;255] as this is actually done in wgraph.c.

2002-06-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pdf.trm term/svg.trm: Don't use GetColorValueFromFormula()
	mapping for red color when drawing gray output.

2002-06-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/README src/color.c: Removed the change of set_color(gray) made
	two days ago. Thus it still calls term->set_color(g) with g=[0:1].
	All drivers are now responsible that they don't overflow for a value
	outside this range.

	* term/cgm.trm term/fig.trm term/gd.trm term/ggi.trm term/gif.trm
	term/metapost.trm term/pm.trm term/tgif.trm term/vgagl.trm
	term/win.trm: In set_term(double gray), take care for gray<0 and
	gray>=1.0.

2002-06-09  Johannes Zellner  <johannes@zellner.org>

	* term/gd.trm: Replaced (int)rint(x) --> (int)(x + 0.5).

2002-06-08  Petr Mikulik  <mikulik@physics.muni.cz>

	[This change removed on 2002-06-10]

	* src/README src/color.c: Routine  void set_color(double gray)  which
	calls term->set_term(gray): do not pass gray >= 1.0 to terminals
	with discrete palette (applies also for postscript if 'set palette
	maxcolors n'). Most terminals currently reference their discrete 
	palette entries (elements in the palette array) by
	   color_number = (int)(gray * sm_palette.colors)
	which goes beyond the upper bounds for gray==1. From now,
	term->set_color(g) will no more get value g>=1.0.

2002-06-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw config/makefile.os2:
 	Minor changes relative to the new gd driver.

2002-06-08  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm: Changes to make it compile w/o PM3D defined.

	* term/gif.trm: Move boxfill out of the PM3D definition, so that
	it is also available if PM3D is not defined.

2002-06-08  Johannes Zellner  <johannes@zellner.org>

	* term/fig.trm term/svg.trm: Added ifdefs for USE_ULIG_FILLEDBOXES.

	* term/gd.trm: Use gdImagePtr /after/ gd.h is included.

	* src/gplt_x11.c: Removed unused functions.

2002-06-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/metapost.trm: In the documentation section, fixed `latex' to
	`latex` --- the reason for doc2rtf to crash.

2002-06-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/metapost.trm: Add pm3d capability, patch by Arun Persaud
	<apersaud@lbl.gov>.

2002-06-05  Johannes Zellner  <johannes@zellner.org>

	* src/pm3d.c: Yet again improved scansautomatic.

2002-06-05  Johannes Zellner  <johannes@zellner.org>

	* term/gd.trm:
	- macro Y(y)
	- PNG_point plus related functions, implementing the pointtypes
	  as in post / X11 ...

2002-06-05  Johannes Zellner  <johannes@zellner.org>

	* term/gd.trm: Filledboxes.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm: Removed SVG_StyleStrokeColor() which was unused.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* term/pdf.trm: Changes for 'linetype palette'.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* term/pdf.trm: 'filledboxes pattern' for the pdf driver.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* term/pdf.trm: 'filledboxes solid' for the pdf driver.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm: Use USE_ULIG_FILLEDBOXES to allow building w/o
	filledboxes support.

2002-06-04  Johannes Zellner  <johannes@zellner.org>

	* src/readline.c: Install a SIGWINCH handler to solve BUG 533101
	'gnuplot exits immediately when the terminal is resized'.

2002-06-03  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm:
	- new pointtypes for svg (as X11 / post)
	- implemented pm3d 'splot ... with points lt palette'
	- implemented pm3d 'splot ... with lines  lt palette'
	- implemented 'filledboxes'

2002-05-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Explicit linking with libfreetype does not add
	-lfreetype to TERMLIBS if successful.

2002-05-29  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/internal.c (BAD_DEFAULT): Fix typo in message text:
 	"internal" <-- "interal".

	* term/svg.trm (SVG_init): Change self-description of SVG output
 	file to no longer give the name of the original author of svg.trm.
  	Output the version number and patchlevel of gnuplot instead.

2002-05-29  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm src/gplt_x11.c term/README: First 13 pointtypes
 	like in the postscript driver. --> new point types circle and
 	upside-down triangle and all shapes also filled.

	point  pointtype
	    0          1  plus
	    1          2  X
	    2          3  star
	    3          4  box
	    4          5  box                   filled
	    5          6  circle
	    6          7  circle (disk)         filled
	    7          8  triangle
	    8          9  triangle              filled
	    9         10  upside down triangle
	   10         11  upside down triangle  filled
	   11         12  diamond
	   12         13  diamond               filled

	* gplt_x11.c: Replaced the info 'drawing ...' in the xwindow's
 	title bar by a watch cursor. Removed the message which tells how
 	many pm3d colors could be allocated.

2002-05-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw config/makefile.os2:
 	Support all compile options for the new gd driver.

	* config/makefile.mgw: Added compile options for the pdf driver.

2002-05-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/Makefile.in: New install-els target to install the .el
 	files.

2002-05-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc: Fix misc. typos, reported by Shigeharu Takeno.

	* lisp/*: Update to gnuplot-mode 0.5r.

	* src/unset.c: Define reset_colorbox() static.

	* term/metapost.trm: Patch by Dirk Krause, which includes a previous
	patch by Phillip Wood. New features:
	o A "la$tex" option to switch to LaTeX.
	  In LaTeX mode no \setfont... instructions pointing to "cmr10"
	  are written. Font setup is done in the preamble.
	o An "a4$paper" option to pass the [a4paper] option
	  to the document class. By default this option is not written.
	o The "ps$nfss", "psnfss-v$ersion7" and "nops$nfss" options
	  to include \usepackage instructions for PSNFSS 8, older version
	  or no PSNFSS.
	o The "pro$logues n" (n must be replaced by the number you want)
	  and "nopr$ologues" options to add a "prologues:=2;" line to the
	  output. When using metapost to produce standalone images,
	  "prologues:=2;" causes metapost to include font information into
	  the EPS output.

2002-05-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* specfun.c: Add new implementation of lngamma(),
 	inverse_normal_func(), inverse_error_func(), based on CEPHES
 	library, and NIST. Contributed by Dietmar Warning.

2002-05-16  Johannes Zellner  <johannes@zellner.org>

	* term/gd.trm, term/linux.trm: Added prototypes, removed unused
 	variable.

2002-05-16  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm: Added shape-rendering:crispEdges to render
 	surfaces correctly, changed color spec to rgb() which is more
 	readable.

2002-05-16  Johannes Zellner  <johannes@zellner.org>

	* term/svg.trm, docs/gnuplot.doc pm3d/README: pm3d support for the
 	svg driver.

2002-05-16  Johannes Zellner  <johannes@zellner.org>

	* term/pdf.trm: Small changes for error messages.

2002-05-15  Johannes Zellner  <johannes@zellner.org>

	* term/pdf.trm, docs/gnuplot.doc, pm3d/README: pm3d support for the pdf
	driver.

2002-05-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Fix for broken --without-tutorial option.

2002-05-13  Ethan Merritt  <merritt@u.washington.edu>

	* configure.in: Improved testing for libfreetype dependency in libgd.

2002-05-01  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Mention PNG supports pm3d.

2002-04-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Quoting and cleanup. Should now work with autoconf 2.5x.

2002-04-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/amiga.trm (AMIGA_linetype): Use mnemonic name L_TYPE_NODRAW
 	in checks for valid linetypes.

	* term/cgm.trm (CGM_linetype, CGM_linecolor, CGM_dashtype): Dito.

	* term/emf.trm (EMF_linetype, EMF_linecolor, EMF_dashtype): Dito.

	* term/fig.trm (FIG_linetype): Dito.

	* term/pdf.trm (PDF_Pen_RealID): Dito.

	* term/svg.trm (SVG_Pen_RealID): Dito.

	* term/svg.trm (SVG_init): Give SVG output a 'viewBox' attribute
 	to make it freely scalable.  This is essentially the same as an
 	PostScript's %%BoundingBox.

	* term/post.trm: Remove explict path from #include of "getcolor.h".

2002-04-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Updated filename for gplotlib archive.

	* config/config.amg: Make it a copy of config.hin with system-specific
	changes.

	* config/makefile.amg: Updated.

	* src/amiga.c: Conditional inclusion of config.h.

	* term/amiga.trm: Two bugfixes.

	* term/cgm.trm: Use M_PI_2 instead of M_PI/2.

2002-04-26  Ethan Merritt  <merritt@u.washington.edu>

	New term/gd.trm driver to support PNG and JPEG files by using
 	libgd version 1.8 or greater. Includes support for TrueType fonts,
 	line width, and transparency. Back compatibility option
 	--with-gif=png uses the old gif.trm driver to produce a png image
 	instead.
	
	Files modified:
	    README.1ST		explains choice of GIF or PNG/JPEG
	    term/gd.trm		new file; contains both png and jpeg drivers
	    term/gif.trm	allow PNG_FOR_GIF with new libgd
	    src/term.h		check PNG_FOR_GIF, HAVE_GIF, HAVE_NEWGD flags
	    src/show.c		report configuration options 
	    configure.in	the messy part
	    config/makefile.mgw	totally untested by me
	
	Symbols defined during configuration:
	    HAVE_GIF	# will add gif.trm terminal driver
	    HAVE_PNG	# will have png support (either old or new)
	    HAVE_LIBPNG	# will add png.trm (*old*) terminal driver
	    HAVE_JPEG	# will add jpeg support via gd.trm
	    HAVE_LIBGD	# defined if either the old or new libgd is present
	    HAVE_NEWGD	# defined if new libgd (contains PNG and JPEG support)
	    HAVE_TTF	# support TrueType fonts via new libgd+libfreetype
	    PNG_FOR_GIF	# will trigger dummy gdImageGif definition
	
	Relevant configuration options:
	  --with-gd[=PATH]        specify location of Tom Boutell's gd library
	  --with-jpeg[=PATH]      optionally override location of libjpeg
	  --with-libpng[=PATH]    optionally override location of libpng 
	  --with-freetype[=PATH]  optionally override location of libfreetype
	  --with-gif=png          'set term gif' produces png images instead
	  --with-png[=PATH]       enable *old* png terminal 

2002-04-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c src/pm3d.c: Move term->previous_palette(); from
	pm3d.c:pm3d_draw_one() to graph3d.c:do_3dplot(). Fixes plotting
	several color surfaces to postscript files. Maybe the terminal entry
	previous_palette() should be dropped completely as it is used only
	for postscript files to write the palette and all its color surfaces
	in between gsave/grestore.

2002-04-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c (save_set_all): Fix quoting of 'set missing' save text.

2002-04-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Patch from Dietmar Warning <dwarning@danalyse.de>: 
	
	* term/tkcanvas.trm (TK_put_text): Quote-protect characters that
 	would be interpreted by Tcl/Tk if not in tk_perl mode of
 	operation.

2002-04-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc: Added missing documentation of timefmt %s
 	specifier to read seconds-since-the-epoch timestamps.

2002-04-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (print_table): Replaced hard-coded axis identifiers
 	of 2002-04-05 patch by those axes actually used by the current
 	dataset, so x2 axis plots will use the x2 format.

	* src/hidden3d.c (in_front): In Test 7, addressed an old FIXME by
 	not declaring an edge invisible if it's entirely inside the 3D
 	triangle.  This fixes a bug where duplicated edges (like the two
 	sides of the seam in a parametric cylinder) would be completely
 	invisible.  OTOH, it brings back some of the old bleed-through
 	type of artefacts, because it can't decide which of two copies of
 	such an edge should be visible.  Before this patch it would draw
 	neither.  Now it draws both.
	(UINT_BITS, COORD_TO_BITMAXK, CALC_BITRANGE) [TEST_GRIDBOX]: Moved
 	these macro definitions towards that of type polygon, which they
 	directly work on.
	(COORD_TO_TREECELL) [TEST_QUADTREE]: Likewise, but moved towards
 	definition of quadtree.
	(in_front): Replaced magic number for size of classification by
 	useful term.
	(general) Several functions re-indented to unify code layout
 	within this module.
	
2002-04-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (print_table): Implemented usage of 'set format'
 	strings by 'set term table' output columns. This has been
 	documented forever, but never correctly implemented yet.  An
 	earlier attempt was incomplete.  Now calls gprintf() to do the
 	actual work, so gnuplot's extended format specifiers like
 	'%s*10^{%S}' also work in table output.  Also added treatment of
 	CANDLESTICKS and FINANCEBARS plot styles.

	* src/plot3d.c (print_3dtable): Likewise, except that the 3D case
 	had been working to some extent, already.  But it didn't support
 	format specifiers other than the standard C ones.

	* src/axis.c (gprintf, mant_exp, decimalsign): Two functions and
 	one global variable move away from here, into util.c.  These used
 	to be private to the axis module, but are now used by other parts
 	of the program, too.

	* src/util.h, src/util.c, * src/axis.h: Likewise.

2002-04-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (set margin): Added a small note about the lack
 	of effect of margin settings upon 3D plots.

2002-03-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Massively edited contribution from Lutz Maibaum:
	
	* term/post.trm (PS_fillbox) [USE_ULIG_FILLED_BOXES]: Implement
	pattern-filling for postscript, too.  Currently produces a whole
	line of postscript output per pattern line.  This is not very
	elegant compared to a possible implementation as a (set of)
	PostScript macro(s). 
	
2002-03-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Brought in a patch from Stephan Boettcher to add a new command
	"set print". SF Patch # 533094.
	
	* docs/gnuplot.doc (commands->print): Point towards "set print".
	(commands->set->print): Document new option "set print".

	* src/command.c (print_out, print_out_name): New variables to
	store status of 'set print' option.
	(print_set_output, print_show_output): New functions to make it
	accessible to other modules.
	(print_command): Respect new setting by directing all output to
	the specified stream.

	* src/command.h (print_set_output, print_show_output): Prototypes
	added.

	* src/tables.h (set_id): Added enum value S_PRINT.

	* src/tables.c (set_tbl): Added entry for "set/show print"
	command.
	
	* src/show.c (show_command): Handle new case "show print". Added
	to list of options displayed.
	(show_print): New function, implements "show print".

	* src/set.c (set_command): Handle new case "set print".  Added to
	the list of options displayed.
	(set_print): New function, implements "set print".

	* src/unset.c (unset_command): Handle new case "unset print".
	Added to the list of options displayed.
	(unset_print): New function, implements "unset print".

2002-03-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Added many "see web page" and "see demo" so that 
	the URLs to _demo_.html are not so alone. Helps printed gnuplot 
	documentation.

2002-03-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gp_types.h src/datafile.c src/graph3d.c src/hidden3d.c
	src/plot3d.c src/pm3d.c: Do not store the color of a 3D coordinate in
	separate field 'color' of 'struct coordinate', but in the first field
	unused by 3D. This is currently 'ylow', and it gains access by
	'#define CRD_COLOR ylow'. This saves 8 B for each data point.
	  A proposal for the future, aiming to reduce the memory allocated,
	is the complete separation of 2d and 3d coordinates and reorganization
	of their storage...

	* win/wgraph.c: Remove compiler warning.


2002-03-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	MS VC++ build patches from John Bollinger <bbands@yahoo.com>:

	* config/makefile.nt (MACHINE): Don't strictly require
 	$PROCESSOR_ARCHITECTURE in their environment variable
	(bf_test.exe): Change "cd" argument to be more portable.
	(clean, veryclean): Avoid error spurious messages by not deleting
 	non-existant files.

2002-03-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.h src/command.c: Routine do_string() always available
	(only #ifdef USE_MOUSE up to now).

	* src/set.c: Reimplemented "set term push" to issue the complete
	"set term <pushed_name> <pushed_opts>" command.
	Added a hint to set_termoptions().

	* src/show.c: Leading three spaces instead of \t for 'show term' in 
	order to better format terminals with multiline options.

	* term/x11.trm: Let X11_default_command be "gnuplot_x11.exe" for both
	OS/2 and Windows.

2002-03-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/x11.trm: Show the expected gnuplot_x11 path if it cannot be
	executed.

2002-03-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/epslatex.trm term/pslatex.trm: Minor modifications of the
	documentation section.

	* docs/gnuplot.doc: Refer to pm3d clipping from	'set clip'. Other
	minor modifications. 

2002-03-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h src/axis.c src/datafile.c src/plot3d.c: Fixed color axis
	autoscale. Removed update_pm3d_zrange(). Organize that 
	STORE_WITH_LOG_AND_UPDATE_RANGE(point->color, ...) is called only
	if (NEED_PALETTE(this_plot)).

	* src/gp_types.h: Declare struct coordinate's color only #ifdef PM3D.

2002-03-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/term.h: Updates in SHORT_TERMLIST: do not include regis and tek
	terminals for non-relevant platforms.

2002-03-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (zeroaxis): Add some examples to make the
 	syntax more transparent for newbies.

2002-03-21  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2 src/os2/gclient.c: Get it to build again.

2002-03-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: Remove my "//PM" tags. Remove encapsulated
	comments due to the 2002-03-16: // => /* */ replacement.

	* config/makefile.os2: Let runtime be dependent on config.h.

	* src/help.c src/pm3d.c src/set.c: Remove compiler warnings.

2002-03-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (tic_unitz): New variable for truly 3D ticmark
 	lines. Stores z component of tickmark direction routine.
	(draw_3d_graphbox): Extend computation of tic line directions to
 	cover 3 dimensions.
	(xtick_callback, ytick_callback): Make use of new tic_unitz
 	variable, and change all xticks to use term->v_tic, all yticks to
 	term->h_tic.  Fold local variable "dirn" into "scale".

2002-03-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/os2/gclient.c: Weeded out all C++-style // comments.
  	CodeStyle disallows them.
	
	* src/pm3d.c (pm3d_plot): Use coordinate field "color" instead of
 	"ylow", for PM3D.
	(filled_color_contour_plot): Changed type of local variable
 	pm3d_color_from_column to TBOOLEAN.

	* src/plot3d.c (get_3ddata): Use coordinate field "color" instead
 	of "ylow", for PM3D.

	* src/graph3d.h (struct surface_points): Changed type of
 	pm3d_color_from_column to TBOOLEAN.

	* src/graph3d.c (plot3d_lines_pm3d, plot3d_points_pm3d): Use
 	coordinate field "color" instead of "ylow", for PM3D.

	* src/datafile.c (df_3dmatrix): Write to coordinate field "color"
 	instead of "ylow", for PM3D. Call STORE_WITH_LOG_AND_UPDATE_RANGE
 	instead of update_pm3d_range.

	* src/gp_types.h (struct coordinate): Add separate element 'color'
 	to avoid the PM3D stuff having to abuse ylow for storing it.

	* src/hidden3d.c (store_vertex): Made color_from_column available
 	in non-PM3D compiles, too. Changed its type to TBOOLEAN.  Use the
 	new "color" field instead of "ylow".
	(build_networks): Have local variable color_from_column regardless
 	of PM3D. Change its type to TBOOLEAN, too.

	* src/plot3d.c (grid_nongrid_data): Dito.

	* src/axis.c (update_pm3d_zrange): Moved #ifdef PM3D inside the
 	function, so it's available, but a no-op, if PM3D is disabled.
  	Put in hacks to avoid -Wunused.
	
	* src/axis.h (NEED_PALETTE) [!PM3D]: Make this #defined in
 	non-PM3D mode, too, for easier coding.
	(update_pm3d_zrange): Moved prototype out of #ifdef PM3D block.
 	
	* src/plot3d.c (calculate_set_of_isolines): Make the 'pal'
 	argument exist independently of PM3D.  Was making the code harder
 	to parse for no benefit.  Add hack to avoid -Wunused warning,
 	instead.
	(eval_3dplots): Changed call accordingly.

2002-03-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/cgm.trm (struct cgm_properties, cgm_current, cgm_next,
 	cgm_reset): Separate type definition from that of variables.
	(CGM_set_color): Fix off-by-one error in conversion.  Patch from
 	Mike Sutton.

2002-03-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util3d.c (draw3d_point_unconditional): New routine
 	containing the main part of former draw3d_point.  Provides an
 	second entry point to be used by:
	(draw3d_line_unconditional): If v2 is NULL, redirect call to
 	draw3d_point_unconditional.  Moved code before draw3d_line and
 	flagged it GP_INLINE, to make automatic inlining of this routine
 	easier for the compilers.
	(draw3d_point): Call new routine draw3d_point_unconditional to do
 	the real work, if hidden3d isn't applicable.

2002-03-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/setshow.h src/set.c src/unset.c docs/gnuplot.doc: Added reset
	for colorbox and palette. 'unset colorbox' resets the default values.

2002-03-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.c: Fix in get_pm3d_at_option().

	* src/win/wmenu.c: Fix missing end of comment.

2002-03-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Minor corrections.

	* src/readline.c src/win/geticon.c src/win/wgnuplib.c src/win/wgraph.c
	src/win/winmain.c src/win/wmenu.c src/win/wpause.c src/win/wprinter.c
	src/win/wtext.c: Remove MinGW32 compiler warnings.

2002-03-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc demo/pm3d.dem src/pm3d.h src/pm3d.c src/save.c
	src/set.c src/show.c src/tables.h src/tables.c: New pm3d option 
	{no}ftriangles to draw flushing color triangles at scan tails with
	different number of points.

2002-03-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/internal.c: Merge purec_matherr() into matherr().

	* src/plot.c: Remove purec_matherr().

	* src/syscfg.h: Define GP_MATHERR as purec_matherr for Pure-C.

2002-03-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/tables.h src/tables.c src/set.c: Set colorbox, palette and p3md
	options via lookup tables.

2002-03-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wgraph.c src/win/winmain.c: Remove MinGW32 compiler
 	warnings.

2002-03-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/titlepag.sty: Changes for the title page of gnuplot.tex:
 	Show up-to-date gnuplot version (from the file VERSION) and the
 	last modification date (from the rcs date tag).

2002-03-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.win (CFLAGS) [WIN32]: Added flags to define
 	GP_MATHERR, GP_EXCEPTION and HAVE_STRUCT_EXCEPTION_IN_MATH_H.

	* config/config.nt (HAVE_STRUCT_EXCEPTION_IN_MATH_H,
 	HAVE_STRINGIZE): Added these definitions.

	* src/syscfg.h (STRUCT_EXCEPTION_P_X): Moved definition block to
 	here, from internal.c.  Use GP_EXCEPTION_NAME as the name of this
 	structure.  Clarify behaviour by #defining this to be an empty
 	macro if matherr() doesn't take an argument.

	* src/internal.c (GP_MATHERR): Renamed, was matherr.
	(matherr, exception): Removed #defines, as they are no longer
 	useful.

2002-03-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* PORTING, config/buildvms.com, config/config.cyg, config/config.mgw,
	config/config.nt, config/makefile.dj2, config/makefile.emx,
	config/makefile.g, config/makefile.tc, config/makefile.win: Remove
	ANSI_C symbol. Add PROTOTYPES and HAVE_STRINGIZE where appropriate.

	* config/config.amg, config/makefile.amg: Config file support for
	Amiga SAS/C.

	* configure.in: Add test for struct exception in <math.h>. Remove
	duplicate definition of HAVE_LIBPDF.
	
	* docs/Makefile.in, docs/checkdoc.c, docs/doc2gih.c, docs/doc2hlp.c,
	docs/doc2ipf.c, docs/doc2ms.c, docs/doc2rnh.c, docs/doc2rtf.c,
	docs/doc2tex.c, docs/xref.c, src/bf_test.c: Include syscfg.h instead
	of ansichek.h.

	* src/fit.c, src/stdfn.h, src/util.c, src/util.h: Use STDC_HEADERS
	instead of ANSI_C.

	* src/internal.c(matherr): Cleaner implementation using autoconf and
	config file based symbols.

	* src/syscfg.h: Don't include ansichek.h. Move __PROTO and generic
	declarations here from ansichek.h. Define fallbacks for
	GP_EXCEPTION_NAME and GP_MATHERR.

2002-03-06  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2: Finally get it to build again.
	Drop third set of compiler/etc. flags. Use ../config.h,
	add dependencies for docs and better clean up temporary files.

2002-03-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Another set of patches for MS VC++ build from John Bollinger:

	* config/config.nt (HAVE_GETCWD, PROTOTYPES): Added these
 	#defines.

	* config/makefile.nt (CFLAGS, LDFLAGS): Added some flags to enable
 	compilation with pdflib, and multithreading-enabled libc.
	(TERMFLAGS): Added -I for pdflib.
	(linkopt1.msw): Added pdflib.lib to list of things to link.

2002-03-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Remove ANNOUNCE-MOUSE from EXTRA_DIST. Don't include
	.cvsignore files in make dist.

	* config/Makefile.am.in: Add config.* files to EXTRA_DIST.

	* src/Makefile.am: Remove ipc.h from gnuplot_SOURCES.

	* term/x11.trm: Remove reference to ipc.h.

2002-03-04  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>
	* config/config.os2 config/makefile.os2: Some fixes to
	get it build again (#define PROTOTYPES, TERMFLAGS updated)

2002-03-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib/pm3dCompress.awk: Fixed "N g" to "2 index g N" in
 	the compressed map.

2002-03-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Add test for struct exception in math, take from
 	Octave.

2002-03-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw config/makefile.nt
 	config/makefile.os2: Moved HAVE_ and other #defines to config.xxx
 	files. Compile with -DHAVE_CONFIG_H.

	* config/config.cyg config/config.mgw config/config.nt
 	config/config.os2: New files, with HAVE_ #defines and more.

2002-03-01  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/win.trm: Removed unused WIN_scale(). Terminals are not
 	allowed to do their own scale().

	* term/vws.trm: Removed unused VWS_scale(xs, ys).

2002-02-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h src/axis.c src/datafile.c src/plot3d.h src/plot3d.c
 	src/pm3d.h src/pm3d.c: Moved color axis autoscaling and pm3d
 	zminmax setting to axis.c in order to improve the source code
 	modularity.

2002-02-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/datafile.c: Include plot3d.h. Added missing #ifdef PIPES.

	* src/gadgets.c: Removed unused variables.

	* src/gpexecute.c: Include mouse.h for WIN_IPC.

	* src/gplt_x11.c: Change #if PM3D to #ifdef PM3D.

	* src/plot3d.h src/plot3d.c src/datafile.c: Move definition of
 	NEED_PALETTE to plot3d.h.

	* src/specfun.c: Fix RCSid to RCSid().

	* term/cgm.trm: Added missing #ifdef PM3D.

2002-02-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Patches for MS VC++ from John Bollinger <bbands@yahoo.com>:
	
	* src/internal.c (matherr) [__MSC__]: Add #defines to make it work
 	with MS VC++.

	* config/makefile.nt (CFLAGS): Repaired after removal of all the
 	NO_FLAGS.  Added lots of /DHAVE_SOMETHING's.
	(LDFLAGS, TERMFLAGS): Added stuff to compile in libpng and libz.
	(linkopt1.msw): Added stuff to compile with libpng and libz. Removed 
	spurious mention of mouse.obj which is already in $CORE_OBJS.

2002-02-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw config/makefile.cyg: Fixing broken makefiles
 	due to recent removal of NO_ symbols.  Create a temporary config.h
 	file in order to avoid 12 lines of text for each gcc command (too
 	many HAVE_ symbols).

2002-02-25  Hans-Bernhard Broeker  <hbb@ballermann.oche.de>

	* docs/titlepag.tex: Minor spelling correction of my last name.

	* term/emf.trm (emf_justify): Unused --> removed.

	* term/epson.trm (nec_driver): Register NEC_linetype, not
	b_setlinetype, for this driver.

	* term/epslatex.trm (EPSL_fillbox): Cast argument to void, to quell
	"unused" warnings.

	* term/hpljii.trm (HPLJII_putc): Cast argument to void, to quell
	"unused" warnings.

	* term/gpic.trm (GPIC_text_angle): Cast argument to void, to quell
	"unused" warnings.

	* term/tek.trm (TEK40linetype): Cast argument to void, to quell
	"unused" warnings.

	* term/dumb.trm (DUMB_arrow): Cast argument to void, to quell
	"unused" warnings.

	* term/cgm.trm (CGM_make_palette, CGM_set_color,
	CGM_filled_polygon): Prototypes added. Definition K&R'ized.
	(CGM_find_font, CGM_set_font): Changed from TERM_PUBLIC to
	'static'. Prototype moved into TERM_BODY section.

	* src/strftime.c (fill, number): Prototypes added.

	* src/graphics.c (finish_filled_curve, place_arrows,
	place_labels): Prototypes added. Definitions K&R'ized.
	(place_grid): Prototype added.

	* src/pm3d.c (filled_color_contour_plot, pm3d_plot): Turned
	static. Prototype moved from pm3d.h to here.
	(pm3d_rearrange_part): Prototype added, definition K&R'ized. 
	(pm3d_plot): Definition K&R'ized.

	* src/graph3d.c (place_arrows3d): Renamed, to distinguish it from
	same-named function in graphics.c.  Prototype added.
	(place_labels3d): Dito. And definition K&R'ized.
	(whichgrid): Turned static.

	* src/axis.c (axis_position_zeroaxis): Turned static. Prototype
	moved from axis.h to here.
	(quantize_duodecimal_tics): Turned static. Prototype added.

	* src/mouse.h [_MOUSE_C || _GPLT_X11]: Removed hacked definitions
	from header file, leaving only the extern declarations.
	
	* src/mouse.c (mouse_setting, modifier mask): Definitions now
	here.

	* src/gplt_x11.c: *TONS* of internal variables and functions
	turned static.
	[USE_MOUSE] (_GPLT_X11): Removed #define, no longer needed.

	* src/term.h: Moved VGAGL part into #ifdef LINUXVGA part, since
	VGAGL doesn't work if LINUXVGA isn't compiled in, too.

	* term/linux.trm (LINUX_graphics_allowed): Added declaration of
	variable to TERM_PROTO section.  Variable itself flagged
	TERM_PUBLIC.

	* term/vgagl.trm (VGAGL_options): Removed extern declaration of
	LINUX_graphics_allowed where it shouldn't be.

	* src/ipc.h: Contents of file moved into term_api.h and term.c,
	file itself removed.
	
	* src/term.c, src/readline.c, src/plot.c, src/command.c: Removed
	#include of "ipc.h".

	* src/term.c [PIPE_IPC] (ipc_back_fd): Turned static.

	* term/epslatex.trm (EPSL_header): Turned static.

	* term/pslatex.trm (PSLATEX_auxfile): Turned static.

	* term/svg.trm (SVG_xSize, SVG_ySize, SVG_xLast, SVG_yLast,
	SVG_LineType, SVG_LineWidth, SVG_TextAngle, SVG_TextJust,
	SVG_fontNameDef, SVG_fontSizeDef, SVG_fontNameCur,
	SVG_fontSizeCur, SVG_groupIsOpen, SVG_pathIsOpen, SVG_path_count,
	SVG_pens, SVG_fontAscent, SVG_fontDescent, SVG_fontLeading,
	SVG_fontAvWidth): Turned static.

	* term/pdf.trm (myPDF, PDF_xLast, PDF_yLast, PDF_LineType,
	PDF_LineWidth, PDF_TextAngle, PDF_TextJust, PDF_fontNameDef,
	PDF_fontNameCur, PDF_fontSizeCur, PDF_pageIsOpen, PDF_pathIsOpen,
	PDF_fontAscent, PDF_fontDescent, PDF_fontLeading,
	PDF_fontAvWidth): Turned static.

	* term/hpgl.trm (HPGL2_dashed, HPGL2_solid, HPGL2_font_num,
	HPGL2_font_num_current, pspointset, HPGL2_point_size,
	HPGL2_point_size_current): Turned static.
	(PCL_dim): Turned static.  Definition moved to other static vars.
	
	* term/cgm.trm (cgm_basic_font_data, cgm_font_data): Turned
	static.  Uncluttered definitions of struct type definition and of
	variables of that type.

	* term/x11.trm (X11_ipc_back_fd): Removed this macro which just
	hid accesses to global variable ipc_back_fd. All uses of it
	replaced by ipc_back_fd itself.
	
	* src/datafile.c (df_filename): Turned static.  Declaration moved
	to a different section of the source.
	
	* term/driver.h: Removed directory path from #include of syscfg.h.
	Added #include <stdio.h> to make it self-contained.

	* src/strftime.c: Move #include "stdfn.h" out of TEST_STRFTIME
	block to provide definition of size_t.

2002-02-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* PORTING, configure.vms, config/buildvms.com, config/makefile.ami,
	config/makefile.cyg, config/makefile.mgw, config/makefile.os9,
	config/makefile.st, config/makefile.unx, config/makefile.win,
	src/plot.c, src/stdfn.c, src/stdfn.h, src/syscfg.h, src/variable.c,
	term/amiga.trm: Remove all header file and function related NO_*
	preprocessor symbols and use HAVE_* instead.

2002-02-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/README: Added documentation on mouse, hotkeys, terminal 
	communication and pm3d internals.

	* pm3d/old-docs: Removed.

2002-02-21  Johannes Zellner  <johannes@zellner.org>

	* src/pm3d.c: Improved 'scans automatic' for the case where all points
	of some scans are undefined.

2002-02-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.dj2 (CFLAGS): Added -DHAVE_ATEXIT.  Changed default
	compile flags to -O2 -g.
	(EXENAME): Changed to gp38.

	* config/makefile.nt (CFLAGS): Added -DHAVE_ATEXIT.

2002-02-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (quantize_normal_tics): Changed name and meaning of
 	first argument: it's now the length of the range to be covered,
 	instead of the log10 of the length. All calls have to be changed!
  	Modified the calculations inside to reduce the risk of FP
 	inaccuracies biting in. In particular avoid possible differences
 	between pow10() and dbl_raise(10.0,).
	(quantize_duodecimal_tics): New function, derived from
 	quantize_normal_tics.  Subdivides ranges with a base-12 rather
 	than a base-10 quantity (--> 60 seconds/minutes, 24 hours, 12
 	months). Uses a stepsize sequence of 1-2-3-6-12 instead of
 	1-2-5-10 in quantize_normal_tics.
	(quantize_time_tics): Calls to quantize_normal_tics changed. Some
 	just had the log10 removed (see above), others were commented out,
 	or replaced by calls to quantize_duodecimal_tics. This is a lot
 	saner than the previous code that piled lots of base-10
 	subdivision attempts on top of each other, and avoids problems
 	with rounding errors, too.
	(time_tic_just): Large parts of this function deactivated ---
 	their work is no longer necessary since the automatically placed
 	will now (almost) always be in the right position already.
	
	* src/contour.c (contour): Changed call of quantize_normal_tics
 	and added a comment what it does.

2002-02-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/all.dem: Fix typo.

2002-02-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: Updates for color axis, pm3d, palette and colorbox.

2002-02-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw: Added -DNO_SETVBUF; removed backslashes.

2002-02-19  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2 src/gplt_x11.c term/x11.trm: Some fixes for X11
	stuff on OS/2 (make it build again and fix search for application
	defaults).

2002-02-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* demo/fillbox.dem: Changed style of 'pause' messages in demo, and got
	rid of CR+LF line breaks.

2002-02-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/graph3d.h src/plot3d.c src/pm3d.c
	src/pm3d.h src/set.c: Allow plotting surfaces at different altitudes
	in one graph by explicitly specifying 'at <where>' in the 'splot'
	command, e.g. "splot ... with pm3d [at option]".

2002-02-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* demo/fillbox.dem: New demo for filled boxes plotting style.

	* src/win/wgraph.c (drawgraph): Handle case where one GWOPBLK is
	exactly full, but a next one hasn't been allocated.

2002-02-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* demo/all.dem: Added fillcrvs.dem demo.

	* demo/fillcrvs.dem: New demo for filled curves.

	* demo/poldat.dem: Reduced file size.

	* demo/mgr.dem: Typo fixed; replaced pause text "<CR>" by "(-> return)"
	as in other demos.

2002-02-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/README: Updated.

	* pm3d/old-docs/README: Completely new contents. This file contains 
	technical documentation on gnuplot internals which I was coding (pm3d,
	mouse, hotkeys and communication). It should be renamed (name to be
	decided) and moved to the src directory.

	* pm3d/old-docs/*: Files removed except for README, see above.
	
	* ANNOUNCE-MOUSE: Removed.

2002-02-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot3d.h src/plot3d.c src/datafile.c src/pm3d.c: New fix of
	cb-axis autoscale for binary datafiles. Now pm3d splots should work
	with all combinations of linear and logarithmic z and cb axes.

2002-02-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/plot3d.c: Let the default legend title for  splot 'a.dat' binary
	is just  'a.dat'  instead of the current  'a.dat' binary  while for
	'a.dat' binary using 2:1:3  all 4 words as now.

2002-02-15  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/command.c src/plot.c src/os2/dialogs.c src/os2/gclient.c
	src/os2/gnupmdrv.c src/os2/gnupmdrv.h: Clean up procedure to find 
	help files on OS/2. Convert //-style comments to /**/

2002-02-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c src/mouse.c src/plot3d.c src/save.c src/show.c:
	Let them compile without PM3D #defined.

2002-02-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Add missing .trm files to CORETERM. Always build
	gnuplot.info. Improve install and uninstall targets.

	* tutorial/Makefile.am.in: Use $(top_srcdir) instead of hardcoded path.

2002-02-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.c: Fix of cb-axis autoscale for binary and with palette
	splots.

2002-02-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (show_version): Have "show version long" display the
 	currently selected path to the X11 driver, too.

2002-02-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c: Command 'set grid front|back' should select the
 	default grid.

2002-02-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c src/unset.c: Commands '(un)set log ...' now correctly
 	parse the argument.

	* src/tables.h src/tables.c: New routine lookup_table_nth_reverse.

2002-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* NEWS: Mention changes to X11 outboard driver path and removal of
 	--with-x11-driver.

	* INSTALL: Update configure --help excerpt: mention --exec-prefix,
 	explain gnuplot_x11 installation place, and remove mention of
 	--with-x11-driver option.  Change instructions on running
 	un-installed gnuplot to use GNUPLOT_DRIVER_DIR instead of PATH
 	overrides.

2002-02-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/stdfn.h src/stdfn.c src/command.c: Let the
	'pause' command support subsecond waiting time resolution. Macro 
	GP_SLEEP uses the high-resolution sleep if available for specified
	compilers, or uses usleep() if defined HAVE_USLEEP.

2002-02-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Add check for usleep().

	* demo/Makefile.am.in: Pass GNUPLOT_DRIVER_DIR in the environment to
	let gnuplot use the uninstalled X11 driver.

	* man/Makefile.am: Fix lasergnu installation to honour DESTDIR.

	* src/Makefile.am: Install gnuplot_x11 into $(pkglibdir)/$(PKG_MAJOR)
	instead of $(bindir).

2002-02-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Don't change splot view if there is a log axis with a
	negative range coordinate.

	* src/unset.c: Remove #ifdef USE_MOUSE inside another USE_MOUSE.

2002-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/x11.trm: #include <ctype.h>.  Some stylistic changes here and
	there.
	[USE_X11_DRIVER]: Conditionalized the existence of the 'driver' option
	upon this macro. Turned off by default.
	(X11_full_command_path): New variable, stores path-expanded name of
	gnuplot_x11 driver.
	(parse_driver): Replaced free+alloc by a realloc, and individual
 	comparisons by isspace() calls.  Implemented expansion of gnuplot_x11 
	driver command name by prepending the environment variable 
	$GNUPLOT_DRIVER_DIR if that is defined and valid, or the default 
	configure'd X11_DRIVER_DIR if not.
	(X11_init): Use expanded pathname in execvp() calls.
	(TERM_HELP): Documented $GNUPLOT_DRIVER_DIR override.

2002-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/stdfn.c (strerror, strstr, strchr): Prototypes of fallback
 	implementations moved from here to src/stdfn.h.
	(sleep) Duplicate prototype removed.
	(memcpy): Return type of fallback implementation corrected. Prototype 
	moved to src/stdfn.h.

2002-02-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS src/plot3d.h src/pm3d.h src/color.c src/graph3d.c src/mouse.c
	src/plot3d.c src/pm3d.c src/set.c src/unset.c src/util3d.c: Implemented
	'set log cb'. From now, z and cb axes are completely independent on
	both the value range and the lin/log base.

2002-02-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in, src/Makefile.am: Remove --with-x11-driver configure
	option and related changes.

2002-02-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/x11.trm (X11_options): Kill some more erroneous commas in X11 
	terminal option string.  Thanks to Don Taber, again.

2002-02-13 Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	The 'decimalsign' patch by Harald Harders. Posted to SF.net, edited 
	by me before inclusion.
	
	* src/axis.c (gprintf): If decimalsign option is in use, replace '.' 
	generated by numerical printouts by the requested string.
	(decimalsign): New global variable to hold status of new option.

	* docs/gnuplot.doc: Documented new 'set decimalsign' option.
	
	* src/tables.h: Added enum entry S_DECIMALSIGN.

	* src/tables.c (set_tbl): Added parse entry for 'dec$imalsign' option.

	* src/show.c (show_command): Added 'decimalsign' to list of available 
	options.  Added treatment of S_DECIMALSIGN case.
	(show_all): Show decimalsign status, too.

	* src/set.c (set_command): Added 'decimalsign' to list of available
	options. Added treatment of S_DECIMALSIGN case.
	(set_decimalsign): New function.  Implements 'set decimalsign'.

	* src/unset.c (unset_command): Added 'decimalsign' to list of available
	options. Added treatment of S_DECIMALSIGN case.
	(unset_decimalsign): New function.  Implements 'unset decimalsign'.
	(reset_command): Unset decimalsign option, too.

	* src/save.c (save_set_all): Save new option value.

2002-02-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/x11.trm (X11_options): Removed superfluous comma, broke
 	re-readability of term_options string.  Found and fixed by Don Taber 
	<dtaber@blackrat.risc.rockwell.com>.

2002-02-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c: For 'splot ... with ... palette', draw key as a line
	or point/dot sequence with a color gradient according to the color
	range of the function/datafile itself, not over the whole global color
	range.

2002-02-05  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg config/makefile.mgw: Add -DHAVE_ATEXIT.

2002-02-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Patch from Levente Novak <lnovak@dragon.klte.hu>, edited by me:

	* term/tgif.trm (TGIF_filled_polygon): Break long TGIF command
 	into several lines to not overflow limits imposed by programs
 	reading this format.  
	
	* term/tgif.trm (TGIF_make_palette, TGIF_set_color,
 	TGIF_filled_polygon): Codesyle fixes.  Function definitions are
 	supposed to be in K&R, not ANSI C style.  Plus some whitespace and
 	indentation fixes.

2002-02-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/plot.c, src/stdfn.h, term/x11.trm: Clean up atextit() handling.

	* src/specfun.c: More meaningful error messages for removed functions.

2002-02-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c: For 'splot ... with ... palette', draw key as a line
	or point/dot sequence with a color gradient.

2002-02-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/gadgets.h src/gadgets.c src/plot2d.c
	src/plot3d.c src/save.c src/set.c src/show.c src/tables.h src/tables.c
	src/unset.c: New option 'set key {no}enhanced'.

	* term/post.trm: Add label "?enhanced postscript".

2002-02-01  Petr Mikulik  <mikulik@physics.muni.cz>

	* demo/pm3d.dem: Remove warning that pm3d works on some terminals
	only.

	* docs/gnuplot.doc: Minor fixes.

2002-02-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/hidden3d.c (draw_line_hidden): Changed local variables
 	vstore1 and vstore2 from pointers to indices, to avoid yet another
 	dangling pointer problem caused by realloc() happening at a time I
 	hadn't expected.

2002-02-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/README: Corrected type of last argument of term->arrow()
	Re-indented a bit.
	
2001-02-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/pgnuplot.c: Added comment about -mno-cygwin option to be
 	used to avoid GPLification of pgnuplot by use of Cygwin's DLL.

	* config/makefile.cyg (pgnuplot.exe): Added rule to build the
 	helper program.
	(default, all): Added dependencies on pgnuplot.exe.
	(install): Added command to install pgnuplot.exe, too.

	* config/makefile.mgw (install): Also install pgnuplot.exe.

2002-01-31  Petr Mikulik  <mikulik@physics.muni.cz>

	* demo/all.dem demo/pm3d.dem demo/clip14in.dat demo/triangle.dat:
 	New files for pm3d demo.

	* pm3d/demo: Directory removed (contents merged with demo/).

2002-01-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/contour.c(chk_contour_kind): Remove unnecessary FPRINTF
	statements.

	* src/gplt_x11.c, term/x11.trm: Cleaning up, indentation, ANSIfication.

	* src/plot.c(main): Fix two minor bugs which only show if neither
	atexit() nor on_exit() are available.

	* src/util.c(os_error): Replace fprintf errno with perror().

2002-01-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/demo/pm3dColumn.gpi: Use 'set term push/pop' and close
	output data file.

2002-01-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL, README: Fix references to distribution files.

	* configure.in: Fix libpng and libpdf tests so that these libraries
	are always searched for. Remove "EXPERIMENTAL" notice for pdf driver.
	Clean fix for non-zero exit code problem.

2002-01-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (plot3d_lines_pm3d): Fix line misordering in
 	color_axis handling.

2002-01-27  Johannes Zellner  <johannes@zellner.org>
	* term/ggi.trm: Remove stdin buffering like in x11.

2002-01-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot3d.c (get_3ddata): Change usage of HUGE to VERYLARGE,
 	with is guaranteed to be defined.

2002-01-27  Johannes Zellner  <johannes@zellner.org>

	* pm3d/demo/pm3dColumn.gpi: A 90 deg rotated 3d sinc which
 	demonstrates the difference between coloring according to the z
 	value and according to a specific data column.

2002-01-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/cgi.trm: By permission of the original author, Ronald Florence,
	remove the non-commercial use clause and switch to gnuplot license.

	* term/metafont.trm: Fix typo (lowerrcase instead of lowercase).

2002-01-26  Johannes Zellner  <johannes@zellner.org>

	* pm3d/demo/pm3dColumn.gpi: Quick demo for the new pm3d features.

2002-01-26  Johannes Zellner  <johannes@zellner.org>

	* src/plot3d.c src/plot3d.h src/pm3d.c: Some bug fixes and
 	improvements for the new pm3d functionality.

2002-01-26  Johannes Zellner  <johannes@zellner.org>

	* src/plot3d.c src/graph3d.c src/graph3d.h src/gp_types.h
 	src/hidden3d.c src/pm3d.c src/pm3d.h src/color.c docs/gnuplot.doc:
 	pm3d coloring from an arbitrary data column for data splots
	(column 2 or 4).

2002-01-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* configure.in: Added 'exit 0' at end.  Without it make stops
 	after running "config.status --recheck".

	* src/specfun.c: Removed prototypes of former static functions
 	lgampos, lgamneg.
	(lngamma): Added missing return statement.
	(lngamma, inverse_normal_func, inverse_error_func): Moved error
 	message to stderr.

2002-01-25  Johannes Zellner  <johannes@zellner.org>

	* src/plot3d.c: Scaling for 'linetype palette' was broken after
 	the previous changes (at least for 'set pm3d explicit').

2002-01-25  Johannes Zellner  <johannes@zellner.org>

	* src/pm3d.h src/pm3d.c src/set.c src/show.c src/save.c
	src/graph3d.c src/misc.c src/pm3d.c src/pm3d.h src/plot3d.c
	src/gp_types.h src/graphics.c src/tables.c docs/gnuplot.doc: pm3d
	option 'explicit / implicit' and related functionality.

2002-01-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c (save_set_all): Removed unused variable. Fixed highly
	probable typo this_arrow->layer in the middle of 'set label'
	treatment.
	
2002-01-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS: Added some text from ANNOUNCE-MOUSE.

	* ANNOUNCE-MOUSE: Added a header to that file with two paragraphs 
	which are worth saving, in my opinion. That's a technical docs for
	mouse and its communication.

	* INSTALL: Added section "Running gnuplot on OS/2" from README.os2.

	* docs/old/README.os2: Added a note that this file can be removed.

	* config/makefile.cyg: Added -DHAVE_SLEEP -DNO_SETVBUF.

	* docs/gnuplot.doc: Several small corrections.

2002-01-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Updated to current version.

	* tutorial/Makefile.am.in: Rename PLT_SOURCES to PLT_FILES and add
	target for pdf.

	* specfun.c: Remove all code that was labeled for non-commercial use
	only (lgamneg, lgampos, lngamma, inverse_normal_func,
	inverse_error_func). This means that the gamma, inverse normal, and
	inverse error function are not available anymore on platforms that
	don't have native implementations.

2002-01-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/doc2tex.c: Replace typesetting of _ from "{\tt\_}" to "\_".

2002-01-24  Johannes Zellner  <johannes@zellner.org>

	* src/readline.c term/x11.trm: Implemented the non-buffered
	stdin for the X11 driver (and ONLY for the X11 driver) to solve
	problems with
	   1) escape sequences (like the "up" arrow),
	   2) pasting commands with the mouse.

2002-01-24  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c term/x11.trm: Implemented rotated text for the x11
	driver.

2002-01-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc: Fixed all-spaces line and spurious <TAB>
 	character.

2002-01-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.cyg: Improvements, easily editable options.

	* src/win/wgnuplib.h: _fstr* functions are declared in Cygwin.

2002-01-23  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm: Split the driver path into words so that something
	like
	    set term x11 driver "strace -f -o strace.out ./gnuplot_x11"
	can be used (nice for debugging for example).

2002-01-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/history.c: Fix for "history !first_command_in_history".

	* src/command.c: Fix for "history !load".

2001-01-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (boundary): Moved calls to set the axis endpoints
 	up here.  Fixes bug in key placement caused by uninitialized
 	variables used by map_position().
	(do_plot): Removed them from here.
	(boundary): Disallow key entry height to become zero --- want to
 	divide by it later.

2002-01-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: Remove references to the GP_PATH_* macros.

	* configure.in: General cleanup and bugfixing. Replace all references
	to GP_PATH_* macros with code that uses generic autoconf macros.

	* src/graphics.c: Make finish_filled_curve() static.

	* VERSION, src/version.c: Increment version to 3.8i, update date
	and copyright.

	* m4/path-hdr.m4, m4/path-lib.m4: Remove.

2002-01-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc src/gadgets.h src/gadgets.c src/graph3d.c
	src/graphics.c src/save.c src/set.c src/show.c src/tables.h
	src/tables.c src/unset.c: New option 'set key height <height>'.

2002-01-18  Clark Gaylord  <cgaylord@vt.edu>

	* Change all references in documentation from gnuplot.org to
	gnuplot.info.

2002-01-17  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm term/emf.trm: Removed unused variables.

2002-01-17  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm src/unset.c src/gplt_x11.c: Removed the
	X11_unset_pm3d() function which made multiplot not working on X11.
	Introduced a variable plot->release_cmap in gplt_x11.c for
	controlling freeing of pm3d colors.

2002-01-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/titlepag.tex: Have \usepackage{hyperref} only once.

2002-01-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/demo/Demo.gp: Remove 'set term pop' after 'reset' (the latter
	does not change terminal).

2002-01-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* plot.c: Fix load_rcfile() to properly	report the startup filename
	(needed if it contains a typo).

	* misc.c: Fix one c_token++ from yesterday.

2002-01-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gadgets.c src/gadgets.h src/graphics.c src/graphics.h
	src/misc.c src/misc.h src/plot2d.c src/save.c src/set.c src/show.c
	src/tables.c src/tables.h docs/gnuplot.doc NEWS: Implemented options
	for plotting style 'with filledcurves [options]'.

2002-01-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* INSTALL: Added paragraph about avoiding floating point exception
 	crashes on Alpha CPUs caused by lack of IEEE compatibility.

2001-12-19  Namio Matuda  <matuda@film.s.dendai.ac.jp>

	* docs/doc2tex.c docs/titlepag.tex: Added some more hypertext
 	facilities into gnuplot.pdf (eg "see `xyz`" makes a link to the
 	page of the section of `xyz`).

	* docs/gnuplot.doc: Typos and fixes for better support of the
 	above.

	* term/be.trm term/gnugraph.trm term/openstep.trm term/next.trm
 	term/tek.trm term/unixplot.trm: Typos and fixes to avoid various
 	LaTeX warnings (eg undefined references and multiply-defined
 	labels) in the preparation of gnuplot.pdf.Introduced definition of
 	TERM_HELP_GNUGRAPH and TERM_HELP_NEXT. Changes labels and
 	START_HELP/END_HELP arguments for gnugraph and openstep.

2001-12-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wtext.c: Reallocate larger keyboard buffer instead of
 	silently ignoring input characters coming into an overfull buffer
	(fixes piping 'plot "-" ... e' with large data sets, for
 	instance).
	
2001-12-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/epslatex.trm (EPSL_put_text): Fix bug that would output TeX
 	code into the PostScript file.  Report and bugfix by
 	<Ralf_Ahlbrink@web.de>.
	
2001-12-17  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/util.c: Fix graph_error() to avoid gnuplot crash for log
 	axes with negative min/max range value in splot.

	* src/pm3d.c: More appropriate error message for negative cb range
 	and log z axis.

2001-12-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: Fine tuning of the default color box size and
 	position (take in/out/mirror/scale of tics into account). Remove
 	the obsolete code of PUT_ZMINMAX_AROUND used before the cb-axis
 	has been implemented.

	* src/pm3d.c: Remove obsolete comments.

2001-12-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Routine do_event(): Disable event processing for
 	undefined terminals (fixes crash when mouse is on and non-existing
 	terminal is set).

2001-12-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (eval_plots): Yet another fix for linestyle
 	handling.  Plots with no "lt" or "lw" option at all would not get
 	their linewidth, pointsize and other options set up properly.

	* src/plot3d.c (eval_3dplots): Dito.

2001-12-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (eval_plots): Re-do handling of possible
 	duplication of line/point style options. Fixes "plot 2 lt 2, 1 lt
 	1" which would plot both in linetype 1 introduced by Petr's "any
 	order of options" patches.  The line/point style options have to
 	be all together, now. And some codestyle fixes and reindentation.

	* src/plot3d.c (eval_3dplots): Dito.

	* src/misc.c (lp_parse): Codestyle fixes.

2001-12-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (setup_tics): Went over automatic ticmark extension
 	of axis endpints.  Moved calculation of timelevel[axis] before the
 	tic extension.
	(round_outward): New function. Extracted and recombined code from
 	setup_tics, that handled ticmark extension. Extended to handle
 	time/date axes with their slightly irregular tic steps.
	(make_auto_time_minitics): Added cast to int to quell unsigned
 	comparison warning.

2001-12-04  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/fit.c: Fix buffer overflows regarding env vars used for
 	fitting.

2001-12-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c (save_set_all): Put #ifdef PM3D around pm3d-only code
 	regions.

	* src/show.c (show_command): Dito.

2001-12-01  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/eval.c src/fit.c src/plot.c src/os2/gclient.c
	config/makefile.os2: Abandon EMX non-standard signal processing
	model. Also avoid calling PM-term functions if it's not running.

2001-11-29  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/datafile.c src/misc.c src/plot2d.c src/plot3d.c: Allow
	(nearly) any order of options in plot and splot commands. Actually,
	this "any order" applies separately inside the group of options
	- for a datafile [see df_open() in datafile.c]
		every matrix binary index thru using
	- for plot commands [see plot2d.c]
		smooth title notitle axes with
	- for splot commands [see plot3d.c]
		title notitle with

	* src/tables.h src/tables.c: Comment out plot_tbl[] as (1) it has
	not been used for 2 years, (2) if used any later, it will have to
	be split into datafile_tbl[] and plot_tbl[].

2001-11-29  Guillaume Allegre  <Guillaume.Allegre@imag.fr>

	* docs/gnuplot.doc: Fix inconsistency in the document: many examples
	use the 'set no...' syntax instead of the 3.8-new syntax 'unset'.

2001-11-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/specfun.c: Remove "non-commercial" clause for ibeta() and
	igamma() by permission of the original author, Jos van der Woude.

2001-11-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c: Fix  splot 'a.dat' with ... palette  crash if
	'a.dat' contains a single scan only.

2001-11-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c: Allow any order of options in 'set arrow'.
	Fix default value in 'set label' be 'nopoint'.

	* src/show.c: Fix crash in conv_text() for NULL pointer. Fix
	'show label' for labels with no label text specified.

2001-11-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/misc.c: Allow any order of lt, lw, pal, ps, pt options in
	'with <style> <options>'. Allow the smooth color change of lines,
	points and dots by syntax 'with <style> palette' instead of 
	'with <style> lt palette' (but keep the parser understanding the
	older syntax too).

	* docs/gnuplot.doc: Better documentation for 'with <style> palette'
	in 'with <style>' section. A section for 'lines' added (currently it
	was commented out).

2001-11-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (do_3dplot) [PM3D]: Handle plot style FILLEDBOXES
 	by falling back to IMPULSES.

	* src/hidden3d.c (build_networks) [PM3D]: Ditto.

2001-11-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_label): Corrected as yet un-ChangeLog'ed new code
 	from Petr that allows linetypes to be set for labels and relaxes
	the syntax for that command a lot.

2001-11-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/gadgets.h src/mouse.h src/graph3d.c src/graphics.c src/save.c
	src/set.c src/show.c docs/gnuplot.doc NEWS: 'set label' with any
	line type (colour), point type and point size; further allow any
	order of options.

2001-11-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/datafile.c (f_column): Added missing implementation of
 	'column(-2)' in using expressions.  Removed offset by one of value
 	held in "column" variable to de-obfuscate the code a bit.

2001-11-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* NEWS: Lots of additional fixes and new features mentioned, and
 	some entries moved to the correct release they came with.

2001-10-31  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/axis.h src/axis.c src/graphics.c src/save.c src/set.c
 	src/unset.c src/show.c src/graph3d.c docs/gnuplot.doc NEWS: New
 	options for 'set grid': {layerdefault | front | back}.

	* src/save.c: Labels and arrows were not saving "back", "front"
 	option.

2001-10-31  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (boundary3d): Fix computation of current aspect
 	ratio by casting input variable to double.

2001-10-26  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c term/tgif.trm term/pm.trm term/gif.trm term/fig.trm
	term/cgm.trm: The first and the last colour ranges in 'set palette
	maxcolors' were different (half of the range) than the "inner"
	colour ranges. I.e. now	the discrete palette drivers have the 
	set_color(gray) routine coded like
	    int gif_color = (int)( gray * sm_palette.colors );
	instead of the previous
	    int gif_color = (int)( gray * (sm_palette.colors-1) + 0.5 );
	Some other drivers have already this code, so all is unified now.

	* term/post.trm: If 'set palette maxcolors', then the colour for the
	last colour box [(colors-1)/colors; 1.0] should equal the last colour
	from the mapping formulae, as for the discrete palette drivers.

	* src/win/wgraph.c: Support for 'set palette maxcolors'.

2001-10-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

        * win/pgnuplot.c (cbGetTextWindow): Revert return value to behave
        like the documentation of the EnumThreadWindows() Win32 API call
        expects it.

2001-10-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (boundary) Add code to handle `set size square' or
 	`set size ratio <number>' for 3D plots, too. Code essentially
 	copied out of the one found in 2D equivalent function `boundary'.
	(boundary3d): Remove stale argument `scaling' and code trying to
 	use it --- term->scale() was disallowed long ago.
  	(do_3dplot): Remove local variable `scaling' and code
 	setting/using it.

	* src/graphics.c (boundary): Remove unused argument 'scaling'
	(do_plot): Remove local variable `scaling' which used to be passed
 	to boundary(), where it wasn't used anyway.

2001-10-11  Dick Crawford <crawford@arete.com>

	* term/post.trm (PS_header): Old PostScript linewidth patch for
 	dotted axis linetype finally brought into 3.8 branch. Affects
 	macros /BL, /AL, /UL, and /LTa. /UL macro fixed to avoid problems
 	with dash pattern length definition for zero linewidth.

2001-10-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/color.c (draw_color_smooth_box) [PM3D]: Change order of
 	operations to ensure setup_tics() sees the COLOR_AXIS as
 	log-scaled, if it is.  Use new AUTOSCALE_FIXMIN and
 	AUTOSCALE_FIXMAX flags instead of a blunt AUTOSCALE_NONE override
 	to avoid extending the color box beyond the useful z range.

2001-10-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c docs/gnuplot.doc: New autoscale option:
	`set autoscale keepfix` autoscales all axes while keeping the fix
	settings.

	* src/mouse.c: Let hotkey 'a' do `set autoscale keepfix` instead
	of `set autoscale`.

2001-10-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot3d.c (grid_nongrid_data): Fix bug in code to handle the
 	case of a sampling point falling exactly onto one of the input
 	data points, by adding a break statement to bail out of the inner
 	loop.

2001-10-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (SHOW_AUTOSCALE): Use new local variable to make code
 	more readable.  Only output " (min)" or " (max)" if they're not
 	both on.  Don't print an extra TAB if non-parametric. Start a new
 	line occasionally, to make avoid overly long output lines.

	* src/mouse.c (apply_zoom): New static variable autoscale_copies
 	to remember the state of 'set autoscale'.  Zooming overwrites
 	this, so it has to be recovered at 'unzoom' time.  Fill
 	autoscale_copies upon the initial zoom that leaves 'un-zoomed'
 	state, and restore it whenever "previous zoom" or "unzoom"
 	builtins return to the original settings.  Resized internal string
 	buffer to allow for longer mouse-generated command.
	(OUTPUT_AUTOSCALE): New macro to help with that task. Visible only
 	inside apply_zoom().
	(apply_zoom): Save the `set_{min|max}' fields instead of
 	`{min|max}' for retrieval by "previous zoom" or "unzoom" builtins,
 	as those represent the user-serviceable parts of the status.

2001-10-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib/pm3dConvertToImage.awk: Fix for a too early "stroke"
	in converting colour images (replace "/g {stroke" by "/g {Stroke").

2001-10-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (gen_tics): Renamed local variable `ticmin' to
 	`internal_min', to match its twin `internal_max' in one block.
  	Don't round internal_{max|min} outwards if ticstep is ridiculously
 	large. This effectively turned off tic position clipping, and
 	would lead to coordinate overflow in terminal drivers.

	* term/debug.trm (DEBUG_arrow): Corrected type of argument `head'
 	to TBOOLEAN.

	* term/gif.trm (GIF_make_palette): Fix incorrect call of debug macro
	FPRINTF().

2001-10-01  Slaven Rezic  <slaven.rezic@berlin.de>

	* term/tkcanvas.trm: No more warnings if running with perl -w. Take
	-highlightthickness into account for height/width computation. Use
	a subroutine reference rather than a subroutine name in the perl
	version (as in my original patch). Doc fix for perl sample.

2001-09-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (plot_c_bars): Changed candlesticks behaviour to
	ignore order of high and low prices, as was long since claimed by
	the docs, but not actually done in the code.

	* docs/gnuplot.doc: Corrected documentation about candlesticks
	behaviour if open and close prices are exchanged.  Some spurious
	whitespace removed to please 'make check'.

2001-09-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c docs/gnuplot.doc: New autoscale option:
	`set autoscale {{axis}{...|fix} | fix}` to easily set fixmin and
	fixmax in one command for one or all axes.
	* src/unset.c: Wrong indentation of two "}" in unset_autoscale().

2001-09-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/gplt_x11.c (GR_MAKE_PALETTE, GR_RELEASE_PALETTE,
	GR_SET_COLOR, GR_FILLED_POLYGON): Renamed so they all have an X11_
	prefix now, like their copies in x11.trm.
	(exec_cmd): Extend parsing of GR_FILLED_POLYGON case to allow for
	large polygons being broken into several lines. Uses new static
	variables `saved_npoints' and `saved_i' to keep state from one
	partial line to the next.

	* term/x11.trm (X11_filled_polygon): Protocol for filled_polygon
	call changed. Now uses continuation lines to break up large
	polygons like those you get from Petr's filledcurves feature.
	Incomplete lines have an "xxxx" at their end; continuations are
	flagged by a -1 in the number-of-points field.

2001-09-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wcommon.h src/win/wgnuplib.c: New routine
	LocalReAllocPtr().

	* src/win/wgraph.c: Dynamically allocate enough memory for a
	polygon with many corners (fixes 'plot with filledcurves').

2001-09-19  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* INSTALL docs/gnuplot.doc: Fix old URLs (use gnuplot.org now);
	add hyperlinks. Move pointers to frontends for gnuplot.

	* configure configure.in docs/Makefile.in: Let configure 
	check for even more utils which we use. Always check for emacs.

2001-09-18  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/readline.c: Fix Gnuplot-readline implementation to
	distinguish between VIO and xterm on OS/2.

	* term/post.trm: Fix broken PS code for Symbol Oblique font
	definition. Thanks to Michael Vulis from MicroPress.

	* src/getcolor.c: Drop duplicate #includes.

2001-09-18  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2: Various updates/fixes/new targets, ...

2001-09-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	The remainder of Uli Gruenebaum's filled boxes implementation,
	reviewed and massively changed by me.

	* term/win.trm (WIN_boxfill): Renamed from WIN_filledbox.
	Parameter `linetype' renamed to `style'.
	(WIN_boxfill) [USE_ULIG_FILLEDBOXES]: Send a W_fillstyle opcode to
	tell the new code how the interior of the rectangle is to be
	filled.

	* src/win/wgraph.c [USE_ULIG_FILLEDBOXES] (halftone_bitmaps,
	halftone_num, halftone_brush, halftone_bitdata, halftone_bitmap,
	pattern_bitmaps, pattern_num, pattern_brush, pattern_bitdata,
	pattern_bitmap, brushes_initialized): New file-scope variables to
	implement fillbox extension.
	(MakePens) [USE_ULIG_FILLEDBOXES]: Create GDI brushes for filling.
	(DestroyPens) [USE_ULIG_FILLEDBOXES]: Delete brushes here.
	(drawgraph) [USE_ULIG_FILLEDBOXES]: Implement drawing of filled
	boxes. W_fillstyle gives the style, a W_move specifies the top
	left corner, and the (x,y) pair sent with the W_boxfill specifies
	the width and height of the box.

	* src/win/wgnuplot.mnu: Added menu entry for filledboxes style.

	* src/win/wgnuplib.h (WGNUPLOTVERSION): Increased to reflect API
	extension.
	(W_boxfill): Renamed from W_filledbox.
	(W_fillstyle): New operation token; used to transmit fill type and
	parameter before a W_boxfill.

	* src/graphics.c [USE_ULIG_FILLEDBOXES] (plot_boxes): Reindented.

2001-09-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util.c: Add #include "datafile.h" to pull in prototype of
	J. Van Zandt's new df_showdata() function.

2001-09-18  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* configure.in docs/Makefile.in: Check for PlainTeX, dvips as
	well.

2001-09-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/prob.dem, demo.prob2.dem, demo/random.dem, demo/stat.inc:
	Remove "non-commercial" clause by permission of the original
	author, Jos van der Woude.

2001-09-18  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* lisp/Makefile.in lisp/configure.in lisp/configure: Some more
	checks; get additional targets to work.

2001-09-18  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* doc/.cvsignore docs/psdoc/.cvsignorelisp/.cvsignore: Add missing
	entries.

2001-09-17  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2: Add missing dependency.

2001-09-17  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/save.c (save_set_all): Fixed saving of 'set grid'. Was
	completely broken since my change to store gridding status in the
	axis structs.

	* src/unset.c (unset_style): Removed incorrect c_token increase.

2001-09-16  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* src/datafile.c: New function df_showdata() displays the current
	data file line (up to 77 characters, including leading spaces) for
	an error message.

	* src/datafile.h: export df_showdata(), but not df_filename or
	df_string.

	* src/util.c: display file data using function rather than
	macro. 

2001-09-13  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* term/post.trm: Replace code like "if (float f)" at
	least by a still questionable boolean expression

2001-09-11  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* term/gif.trm: Fix a C++ comment. We are still using C89!

2001-09-05  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* term/epslatex.trm term/svg.trm: Two no-op changes to
	make gcc happy and remove (bogus) compiler warnings

2001-09-08 Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc src/gp_types.h src/graphics.c src/save.c
	src/show.c src/tables.c term/post.trm NEWS: Implemented plotting
	of filled curves for terminals supporting pm3d --- req. termentry
	filled_polygon(). Syntax:
	     set style [data | function] filledcurves [options]
	     plot ... with filledcurves [options]
	Options are not yet implemented -- this is let as a homework
	for somebody else.

	* term/x11.trm: Don't crash on X11_ipc overflow when "too many"
	vertices passed into X11_filled_polygon(). This should be properly 
	fixed by an X11 programmer according to the hint therein.

2001-09-07 Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Use %g format instead of %f when placing labels by
	mouse.

2001-09-06 Petr Mikulik  <mikulik@physics.muni.cz>

	* src/internal.c: matherr(exception) unsupported by mingw compiler.

2001-09-05  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* .cvsignore docs/.cvsignore: Add entries

2001-09-05  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/Makefile.am tutorial/Makefile.am: fixes to make
	automake 1.5 happy. Should work as well with automake 1.4.

2001-09-04  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* src/util.c (int_error et al.): Optionally print bad line from
	data file. 

	* src/datafile.c: Export filename of data file and pointer to
	current line, for error and warning messages.

	* src/time.c (gstrptime): Before syntax errors and warnings, ask
	for bad data string to be printed.

2001-09-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c term/gif.trm docs/gnuplot.doc: Support for
	filled boxes, i.e. termentry fillbox(), for the Presentation
	Manager and GIF terminals. However, only solid colours implemented,
	i.e. no density nor pattern styles.

2001-09-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: Bugfix for reversing axes during zoom.

2001-08-31  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (typedef enum t_timelevel): New type to give names to
	values of timelevel[] array.
	(timelevel): Type changed to array of t_timelevel.
	(make_auto_time_minitics): Renamed former function make_ltic() to
	this.  Parameter type changed to t_timelevel, and enum labels used
	instead of magic numbers inside the functions.
	(copy_or_invent_formatstring): Use new enum labels.
	(quantize_normal_tics): Renamed former function set_tic() to more
	descriptive name.
	(make_tics): Remove local variable l10, and. Extracted the timetic
	quantization part into a separate function.
	(quantize_time_tics): New function, extracted out of make_tics().
	Unused code and variables commented #if'ed out. Use new
	t_timelevel names.
	(setup_tics): Fix bug with fixed-increment series ticks on
	time/data axes. timelevel[axis] wasn't defined at all, in that
	case, using whatever value was left in there from the previous
	plot. BAD thing.
	(gen_tics): Call of make_ltic() renamed.
	(time_tic_just): Type of "level" argument changed to t_timelevel.
	Use t_timelevel names.

	* src/contour.c (contour): Changed call of renamed function
	set_tic.

	* src/axis.h (quantize_normal_tics): Changed prototype to reflect
	renamed function set_tic().

2001-08-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	A monster patch by Ulrich Gruenebaum. Implements plotting of
	filled boxes for some terminals, by exploiting the unused 'style'
	parameter of the existing termentry function term->fillbox().
	Also adds unrelated enhancements to the FIG terminal driver.
	Heavily edited by me before checkin.

	* term/post.trm (PS_header) [USE_ULIG_FILLEDBOXES]: Add PostScript
	macro for solid-filled boxes.
	(PS_fillbox) [USE_ULIG_FILLEDBOXES]: Implement solid-filled boxes
	by calling that macro.

	* term/fig.trm: Added a set of new options: "solid", "dashed",
	"textnormal", "textspecial", "texthidden", "textrigid" and
	"version".
	(FIG_DEFAULTVERSION): New macro.
	(enum FIG_TEXT_STYLEBITS): New enum to give names to bits
	controlling the text output style of the new fig driver:
	FIG_TEXT_RIGID, FIG_TEXT_SPECIAL, FIG_TEXT_POSTSCRIPT and
	FIG_TEXT_HIDDEN.
	(FIG_TEXT_NORMAL): New macro. Equals FIG_TEXT_POSTSCRIPT.
	(FIG_text_flags, FIG_version, FIG_solid): New status variables
	storing added FIG terminal options.
	(FIG_opts): Added lookup table entries for new options.
	(enum FIG_id): Added tokens for new options.
	(FIG_options): Mention new options in error message. Parse and
	handle them.
	(FIG_init): Output different file header, depending on the
	"version" option active.
	(FIG_linetype): Handle option "solid".
	(FIG_put_text): Removed autodetection of suspected LaTeX input in
	output string.  Replaced by FIG_text_flags, which is controlled by
	the user.
	(FIG_boxfill): New function. Optionally implements filled boxes if
	USE_ULIG_FILLEDBOXES is set.
	(fig_driver): Add boxfill entry. Document all the new options.

	* term/epson.trm (EPSON_linetype, EPSON_move, EPSON_vector,
	EPSON_put_text, EPSON_text_angle, NEC_move, NEC_vector,
	NEC_put_text, NEC_text_angle, STARC_move, STARC_vector,
	STARC_put_text, STARC_text_angle): Pointless macro renames of
	bitmap module's functions removed. Use the original functions in
	the termentry struct registrations instead.
	(epson180_driver, epson60_driver, epsonlx_driver, nec_driver,
	okidata_driver, starc_driver, tandy60_driver): Add termentry field
	to call b_boxfill().

	* term/png.trm (png_driver): Termentry field to call b_boxfill
	added.

	* term/pbm.trm (PBM_move, PBM_vector, PBM_text_angle,
	PBM_put_text): Pointless macro renames of bitmap module's
	functions removed. Use the original functions in the termentry
	struct registrations instead.
	(pbm_driver): Termentry field to call b_boxfill added.

	* term/hppj.trm (HPPJ_move, HPPJ_vector, HPPJ_text_angle,
	HPPJ_put_text): Pointless macro renames of bitmap module's
	functions removed. Use the original functions in the termentry
	struct registrations instead.
	(hppj_driver): Termentry field to call b_boxfill added.

	* term/hpljii.trm (HPLJII_move, HPLJII_vector, HPLJII_text_angle,
	HPDJ_text_angle, HPDJ_put_text): Pointless macro renames of bitmap
	module's functions removed. Use the original functions in the
	termentry struct registrations instead.
	(hplj22_driver, hpdj_driver): Termentry field to call b_boxfill
	added.

	* term/hp500c.trm (HP500C_move, HP500C_vector, HP500C_text_angle,
	HP500C_put_text): Pointless macro renames of bitmap module's
	functions removed. Use the original functions in the termentry
	struct registrations instead.
	(hp500c_driver): Termentry field to call b_boxfill added.

	* src/beos/GPBitmap.cpp (display): Add comment about style
	parameter no longer being unused.

	* term/epslatex.trm: Dito.

	* term/djsvga.trm: Dito.

	* term/ggi.trm: Dito.

	* src/unset.c (unset_boxwidth) [USE_ULIG_RELATIVE_BOXWIDTH]: Reset
	boxwidth_is_absolute, too.
	(unset_fillstyle) [USE_ULIG_FILLEDBOXES]: New Function. Resets
	fillstyle to default status: enabled, solid fill, 100 percent
	density.
	(unset_style) [USE_ULIG_FILLEDBOXES]: Call unset_fillstyle for
	commands "unset style" and "unset style filling". Change error
	message text to mention "filling" option.
	(unset_style): Use lookup table instead of individual calls to
	almost_equals().

	* src/tables.c (show_style_tbl) [USE_ULIG_FILLEDBOXES]: Add parse
	entry for "{set|show|unset} style filling".
	(plotstyle_tbl) [USE_ULIG_FILLEDBOXES]: Add parse entry for
	plotstyle "filledboxes".

	* src/tables.h (enum show_style_id) [USE_ULIG_FILLEDBOXES]: Add
	token for SHOW_STYLE_FILLING.

	* src/show.c (show_command, show_style): Capitalized first word of
	message for "show data style" & friends.
	(show_boxwidth) [USE_ULIG_RELATIVE_BOXWIDTH]: Handle
	relative/absolute option, too.
	(show_fillstyle) [USE_ULIG_FILLEDBOXES]: New function.  Displays
	state of "set style filling".
	(show_style) [USE_ULIG_FILLEDBOXES]: Handle "show style filling",
	too.  Show filling style if "show style" was given without
	options.
	(show_styles): Fix typo in name displayed for "candlesticks"
	style.
	(show_styles) [USE_ULIG_FILLEDBOXES]: Allow data/function style to
	be "filledboxes", too.

	* src/set.c (set_command): Fix position and mention of 'style' in
	list of allowed "set" parameters displayed upon inputting of a
	nonexistant one.
	(set_boxwidth) [USE_ULIG_RELATIVE_BOXWIDTH]: Handle
	relative/absolute option, too.
	(set_fillstyle) [USE_ULIG_FILLEDBOXES]: New function.  Parses and
	implements "set style filling" command options.
	(set_style): Use lookup table instead of individual
	almost_equals() calls.
	(set_style) [USE_ULIG_FILLEDBOXES]: Handle "filling" style, too.
	Adapt error message if nonexistant style name given.

	* src/save.c (save_set_all) [USE_ULIG_RELATIVE_BOXWIDTH]: Save
	status of relative/absolut flag, too.
	(save_set_all) [USE_ULIG_FILLEDBOXES]: Save "set style filling"
	status. Allow "filledboxes" in "set style {data|function}".

	* src/plot2d.h (boxwidth_is_absolute)
	[USE_ULIG_RELATIVE_BOXWIDTH]: Add external declaration.

	* src/plot2d.c (boxwidth_is_absolute)
	[USE_ULIG_RELATIVE_BOXWIDTH]: New global status variable storing
	relative/absolute bit.
	(get_data, print_table) [USE_ULIG_FILLEDBOXES]: Treat FILLEDBOXES
	just like BOXES.
	(get_data) [USE_ULIG_RELATIVE_BOXWIDTH]: Don't calculate boxwidth
	yet, if boxwidths are set to relative.
	(eval_plots, parametric_fixup) [USE_ULIG_RELATIVE_BOXWIDTH]: Set
	up xlow and xhigh if boxwidth set to absolute.

	* src/misc.c (get_style) [USE_ULIG_FILLEDBOXES]: Add "filledboxes"
	to message listing allowed plot style names.

	* src/hidden3d.c (build_networks) [USE_ULIG_FILLEDBOXES]: Ignore
	FILLEDBOXES just like BOXES and other non-3D styles.

	* src/graphics.c: Add #include of plot2d.h (but see the FIXME
	comment accompanying it!).
	(do_plot) [USE_ULIG_FILLEDBOXES]: Add boolean "filling" arguments
	to calls of plot_boxes(). Add code to handle "filledboxes".
	(plot_boxes) [USE_ULIG_FILLEDBOXES]: New argument tells if boxes
	are meant to be filled or not. Implement filling by calling
	term->boxfill().
	(plot_boxes) [USE_ULIG_RELATIVE_BOXWIDTH]: Optionally modify
	boxwidth gnuplot would usually have chosen by the factor specifyed
	by "set boxwidth <factor> relative".

	* src/graph3d.c (do_3dplot) [USE_ULIG_FILLEDBOXES]: Add entries
	for handling "filledboxes" the same as "boxes", i.e. map them over
	to "impulses".
	(xtick_callback, ytick_callback, ztick_callback): Added vertical
	adjustment argument to call of clip_put_text_just.

	* src/gplt_x11.c [USE_ULIG_FILLEDBOXES] (stipple_halftone_width,
	stipple_halftone_height, stipple_halftone_num,
	stipple_halftone_bits, stipple_pattern_width,
	stipple_pattern_height, stipple_pattern_num, stipple_pattern_bits,
	stipple_halftone, stipple_pattern, stipple_initialized): New
	file-scope macros and variables.
	(delete_plot): Delete pattern filling pixmaps.
	(exec_cmd): Extend implementation of 'F'illbox command in gnuplot
	command stream.
	(display): Initialize pattern filling pixmaps.
	(process_event): Release pixmaps on ConfigureNotify X11 event.

	* src/gp_types.h [USE_ULIG_FILLEDBOXES] (enum PLOT_STYLE): Added
	label for new plotstyle.

	* src/gadgets.c (fillstyle, filldensity, fillpattern)
	[USE_ULIG_FILLEDBOXES]: New global status variables controlling
	how boxes are to be filled.
	(clip_put_text_just): Added argument to specify vertical
	adjustment. Use it to call write_multiline().

	* src/gadgets.h (clip_put_text_just): Prototype adjusted.
	(fillstyle, filldensity, fillpattern) [USE_ULIG_FILLEDBOXES]:
	External declarations added.

	* src/color.c (cbtick_callback): Add argument JUST_TOP or
	JUST_CENTRE to calls of clip_put_text_just.

	* src/bitmap.c (b_setpixel, b_setmaskpixel)
	[USE_ULIG_FILLEDBOXES]: Flagged these GP_INLINE for better
	optimization prospects.
	(fill_bitmap_width, fill_bitmap_height, fill_halftone_num,
	fill_halftone_bitmaps, fill_pattern_num, fill_pattern_bitmaps):
	New file-global macros and variables to hold filling patterns.
	(b_boxfill) [USE_ULIG_FILLEDBOXES]: New function. Was missing from
	bitmap module, before.  Does all the actual work for filled boxes.

	* src/bitmap.h (b_boxfill): Prototype added.

	* docs/gnuplot.doc: Document new options: "plot ... with
	filledboxes", "set style filling", "set boxwidth <width>
	{{relative|absolute}}"

	* configure.in: Added --enable handlers for the new optional
	extensions.

2001-08-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/png.trm (PNG_text): Corrected size parameters of two
	memset() calls. Simplified from png_write_rows() for 1 row to the
	simpler png_write_row() call. Removed old code that had long since
	been #if'ed out in favour of calling b_getpixel().

2001-08-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util3d.c (draw3d_point) [PM3D] : Implement "linetype palette"
	option for pointsymbols by calling set_color() if the use_palette
	flag is set.

	* src/graph3d.c (cntr3d_impulses, cntr3d_lines,
	cntr3d_linespoints, cntr3d_points) [PM3D]: Ensure that points on
	base contours have the actual contour z value for the real_z
	element of struct vertex.  This is needed to make contour lines
	have the right colours in "linetype palette" mode.

2001-08-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/stdfn.c: Move gp_stricmp and gp_strnicmp prototypes from
	here to src/stdfn.h where they belong.
	(gp_strnicmp): Made third argument type size_t, to more closely
	mimic the XPG4 Unix standard function strncasecmp() it will
	replace.

2001-08-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term.c (list_terms): Sort terminals by name before
	displaying. Code by Ulrich Gruenebaum, modified and cleaned up by
	me
	(termcomp): New function. Comparison function for qsort() to be
	used by list_terms.

2001-08-17  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Some bits extracted from a patchset by Ulrich Gruenebaum
 	<grueneba@zkom.de>:

	* src/stdfn.c (gp_stricmp): Corrected sign of return value, to
	match that of predefined library function stricmp() which it tries
	to mimic. I changed arguments to 'const', and internal variabales
	to unsigned char to avoid char signedness and constness problems.
	(gp_strnicmp): Dito.

	* docs/gnuplot.doc: Fixed minor typo in "help set" text.

2001-08-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_label): Don't reduce pointstyle number modulo
	POINT_TYPES --- the terminal drivers know how to deal with that,
	already, and POINT_TYPES is incorrect for many terminals.  Removed
	long-commented-out checks, while at it, and fixed indentation.

	* doc/gnuplot.doc: Lots of typos fixed.  Reported by Shigeharu
	Takeno <shige@iee.niit.ac.jp>.

2001-08-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	A new 'smooth' method, implemented by Todd Lewis
	<utoddl@email.unc.edu>. This is a modified version of Patch
	#438326 from SourceForge.

	* src/gp_types.h (enum PLOT_SMOOTH): New label SMOOTH_FREQUENCY.

	* src/tables.c (plot_smooth_tbl): Added parse table entry for
	smooth option 'f$requency'.

	* src/plot2d.c (plot_smooth_names): Added entry for "Frequency".
	(eval_plots): Added handling for case SMOOTH_FREQUENCY.

	* src/interpol.c (do_freq): New function to implement 'smooth
	frequency'. Takes care of extending the axis ranges, if
	autoscalilng.
	(gen_interp_frequency): New function, replaces gen_interp() for
	this particular smoothing method.
	(cp_implode): Avoid division by number of imploded input
	datapoints, so we get counts or sums instead of averages.

	* docs/gnuplot.doc: Document new 'smooth frequency' option.

	* demo/steps.dem: Added demonstration plot to show typical use of
	'smooth frequency' to collect a histogram from unsorted data.

2001-08-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_arrow): Avoid overwriting linetype or
	{nohead|head|heads} status of an existing arrow if it's redefined
	without repeating this part of the spec.

	* src/axis.c (grid_selection): Global variable removed.
	(axis_output_tics): Removed grid bit pattern argument; don't pass
	it on to gen_tics().
	(gen_tics): Removed grid bit pattern argument. Use new axis struct
	fields to set up grid drawing information for callback functions.
	(some_grid_selected): New function. Needed to replace cases where
	all grid bits were tested simultaneously by comparing
	'grid_selection == GRID_OFF'.

	* src/axis.h (struct axis): Two new fields 'gridmajor' and
	'gridminor' to replace `grid_selection'.

	* src/color.c (draw_color_smooth_box): Removed grid bits from
	argument list of gen_tics() call.

	* src/graph3d.c (do_3dplot): Check axis fields instead of global
	variable.
	(draw_3d_graphbox): Remove grid bit patterns from calls to
	gen_tics().

	* src/graphics.c (boundary): Removed dummy zero argument in calls
	to gen_tics().
	(do_plot): Removed GRID_* arguments from calls to
	axis_output_tics().

	* src/mouse.c (builtin_toggle_grid): Call some_grid_selected() to
	decide about toggling off or on.

	* src/save.c (save_set_all): Reimplemented saving of 'set grid'
	specifications to use new axis fields.

	* src/set.c (set_grid): Dito, for 'set grid'.

	* src/show.c (show_grid): Dito, for 'show grid'. And fixed display
	of polar grid angular distance.

	* src/unset.c (unset_grid): Dito, for 'unset grid'

2001-08-06  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/tables.c (command_ftbl, plot_tbl, plot_axes_tbl,
	plot_smooth_tbl, save_tbl, set_tbl, set_hidden3d_tbl, set_key_tbl,
	show_style_tbl, plotstyle_tbl, ): All turned 'const'ant.
	(lookup_table): Argument tbl flagged 'const'ant.
	(lookup_ftable): Argument ftbl flagged 'const'ant.

	* src/axis.c (axis_defaults, axisname_tbl): Turned 'const'ant.

	* src/bitmap.c (fnt5x9, fnt9x17, fnt13x25): Turned 'const'ant.

	* src/bitmap.h (typedef char_box): Added 'const' qualifier to
	match fnt* arrays.

	* src/eval.c (ft): Turned 'const'ant.

	* src/getcolor.c (ps_math_color_formulae): Turned 'const'ant

2001-08-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (copy_or_invent_formatstring): Renamed from
	timetic_format(), two arguments removed. Does more than before,
	now.  Returns pointer to the string it creates, so mouse.c doesn't
	need access to axis.c internal variable ticfmt[].

2001-08-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc: Document the change to the cubic spline
	sampling range.

	* src/interpol.c (do_cubic): Sample the generated cubic spline
	only across the current xrange, instead of the whole range of
	input datapoints.
	(cp_approx_spline, cp_tridiag): Changed calls to int_error() to
	report the position by the token saved in struct curve_points.

	* term/emf.trm (EMF_STOCK_OBJECT_FLAG): To avoid possible
	signed-ness issue if a K&R C compiler is used, construct 32-bit
	numbers with bit 31 set by shifting, not as a manifest constant.

	* term/tek.trm (CT_draw_vpoint, CT_lines): dito.

	* src/term.c (null_linewidth, set_font_null, PUTTEXT_null,
	LINETYPE_null, MOVE_null, null_scale): Added void-casts to avoid
	warnings about unused parameters.

	* src/plot.c (inter): Dito.

	* src/graph3d.c (xtick_callback, ytick_callback, ztick_callback):
	Dito.

	* src/gpexecute.c (pipe_died_handler): Dito.

	* src/fit.c (ctrlc_handle): Dito.

	* src/datafile.c (df_2dbinary): Dito.

	* src/binary.c (free_vector): Removed unused argument nh.
	(extend_vector, retract_vector): Removed unused argument old_nh.
	(free_matrix): Removed unused argument nch.
	(free_convert_matrix): Removed unused arguments nrh, ncl and nch.
	(all over the place): Fixed up calls to these functions.

	* src/contour.c (put_contour_cubic): Use arguments xx_min and
	yy_min, not file-scope variables x_min and y_min.
	(put_contour_bspline): Removed unused arguments z_level, xx_min,
	xx_max, yy_min and yy_max.
	(put_contour): Removed arguments in calls to put_contour_cubic and
	put_contour_bspline. Removed now unused argument z_level.
	(gen_contours): Removed argument z_level from call to put_contour.

	* src/binary.h, src/contour.h: Updated prototypes of modified
	functions.

2001-07-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Release 3.8g snapshot

2001-07-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/version.c: Version 3.8g, update date and copyright.

	* configure.in: Streamlining, implement changes required by updated
	GP_PATH_LIB macro.

	* m4/path-lib.m4: Do not automatically add found libraries to LIBS.
	Instead, define a new variable gp_LIBRARY_libs that can be used in
	configure.in.

2001-07-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/eval.c, src/internal.c, src/standard.c, src/specfun.c,
	src/parse.c: Large-scale renovation of the whole eval/parse stuff.
	Avoid (unsafe!) casting function pointers. Moved lots of code from
	one module to another to improve coherency of modules.

	* src/README: Describe the details of the above change, which
	really are too long for a ChangeLog entry.

	* src/*.[ch]: Don't #include "interpol.h", but rather "eval.h",
	which is now the central interface header of all the eval/parse
	stuff.

	* src/gp_types.h: Removed #ifdef'ed-out type definitions that had
	long since been moved to eval.h and command.h

	* src/parse.c (convert): Function moved here, from util.c, and
	turned 'static'.
	(factor): Make HP-UX bug workaround code the only version --- it
	already was functionally identical to the generic one, anyway.

	* src/util.c (convert): Deleted.
	* src/util.h (convert): Prototype removed.

2001-07-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wtext.c (DragFunc): Changed argument of first
	DragQueryFile() call from 0xffff to (UINT)-1, to work on Win32,
	and Win16.

2001-07-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/interpol.c (cp_implode): Typo fixed. Would set 'x' when it
 	was trying to un-log a 'y' value.
	(cp_approx_spline, gen_interp, cp_tridiag, solve_five_diag):
 	Removed casts when assigning pointers coming from gp_alloc.
  	Re-grouped for() loops a bit.

2001-07-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (xtick2d_callback, ytick2d_callback): Cast arg
 	"axis" to void, once, to avoid warning about unused parameter.
	(widest2d_callback): Use same trick for arguments axis, place and
 	grid, which are irrelevant to this function.

	* src/color.c (cbtick_callback): Mark parameter "axis" as
 	intentionally unused, by cast to void.

	* src/syscfg.h (SORTFUNC_ARGS): If not #define'd, define it to be
 	"const generic *".
	(sortfunc): Removed, as it's no longer used.

	* src/interpol.c (compare_points): Changed arguments to type
 	SORTFUNC_ARGS. Made non-static to avoid bug in HP-UX gcc when
 	passing pointers to static functions.
	(sort_points): Removed unneeded, potentially dangerous casts from
 	qsort() call.

	* src/hidden3d.c (compare_polys_by_zmax, compare_edges_by_zmin):
 	Changed arguments to type SORTFUNC_ARGS. Made non-static, too.

	* src/help.c (keycomp): Changed arguments to type SORTFUNC_ARGS.
  	Made non-static, too.
	(sortkeys): Removed unneeded, potentially dangerous casts from
 	qsort() call.

	* src/graphics.c (histeps_compare): Changed arguments to
 	SORTFUNC_ARGS type.

	* src/plot2d.c (eval_plots): Simplified parsing/handling of smooth
 	options.

2001-07-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc (xyerrorbars): Replaced commas by colons, in
	the example.

2001-07-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot.c (get_user_env): Warn only if in interactive mode.
	Some uses of batch mode may not have a $HOME defined.  Windows
	shows this as a spurious warning, too.  Thanks to Ethan Merritt
	for this patch.

2001-07-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/tpic.trm (tpic_abspath): Fix by  Shigeharu Takeno
	<shige@iee.niit.ac.jp>. Write simple \special command directly,
	instead of using the \put{} method to move the coordinate
	system.

2001-07-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/ChangeLog, lisp/gnuplot-gui.el, lisp/gnuplot.el,
	lisp/gpelcard.tex: Upgrade to gnuplot-mode version 0.5q.

2001-07-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.h (t_autoscale): Two new enum names to flag a
	range that's not to be auto-extended. Old definitions slightly
	changed.

	* src/axis.c (setup_tics): Check new flags to optionally avoid
	auto-extending axes to endpoints at integer ticstep multiples.
	
	* src/set.c (PROCESS_AUTO_LETTER): Added new options
	"{axis}fixmin" and "{axis}fixmax" to "set autoscale".

	* src/show.c (SHOW_AUTOSCALE): Show new autoscale options.
	(show_range): Report status in "show {axis}range" command, too.

	* src/save.c (save_range): Save status to file as a "set autoscale
	{axis}fix{min|max}" command following the "set {axis}range ...".

	* docs/gnuplot.doc: Document these changes.

2001-07-01  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* src/axis.c (gen_tics): Default to either one or four minitics
	(i.e. two or five intervals) per large tic.

	* docs/gnuplot.doc: Document the above

2001-06-30  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* docs/gnuplot.doc: Introduced "latitude" and "longitude"
	terminology into description of spherical coordinate system.
	The CGM terminal supports PM3D.

	* demo/surface1.dem: In first sinc function plot, move label and
	arrow so it does not interfere with Z axis.  Add two sample "fence"
	plots using different methods.  In data grid plotting with
	"using", correct X and Y axis labels.  Add sample splot of part of
	a data file (i.e. using "every") and hidden3d.  Repeat with pm3d.
	Change title from "spherical transformation" to "spherical
	coordinates".  Add title for Mandelbrot plot.

2001-06-29  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c (xtick_callback, ytick_callback, ztick_callback)
	[PM3D]: Fill in field `real_z' of all ticmark endpoints.

	* src/hidden3d.c (split_line_at_ratio) [PM3D]: Fill in field
	`real_z', too.

2001-06-28  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* term/x11.trm: More verbose error message if X11 driver
	can't be started

2001-06-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (histeps_current_plot, histeps_compare): New
	file-scope variable and comparison function, used in applying
	qsort() to sorting the datapoints in "histeps" mode.
	(plot_histeps): Use qsort() instead of homegrown bubblesort
	implementation to sort datapoints by x. Removed now-unused locals
	'bigi' and 'hold'.
	(plot_histeps): Don't blindly assume 0.0 is the baseline y
	position for the histogram.  For logarithmic y axis, it isn't.
	Set up new local 'y_null' to hold the correct position.

2001-06-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wtext.c: Hotkeys Ctrl-Insert and Shift-Insert for
	clipboard access.

2001-06-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/misc.c (lp_parse): Changed two arguments' type from int to
	the more proper TBOOLEAN. Restructured handling of point symbol
	modifiers to give more helpful error message than just 'undefined
	variable: pointtype'.

	* src/misc.h (lp_parse): Updated prototype.

	* src/plot2d.c (eval_plots): Bugfix from removing magic
	numbers. Was testing whether the plot contained lines, not points,
	as it called lp_parse().

2001-06-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw: Remove backslahes from "\/".

2001-06-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (gprintf): Added code to make use of new features of
	mant_exp() introduced Jan 21st this year, for %l and %L formats.
	Helps to avoid problems where people use %L even though the
	logbase is 10.
	(setup_tics): Corrected determination of 'fixmin' and 'fixmax'.
	(axis_checked_extend_empty_range): Removed a few more magic
	numbers.
	(load_range): Dito. Also changed return type and argument from
	TBOOLEAN to new type t_autoscale.

	* src/axis.h (load_range): Updated prototype.

2001-06-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/x11.trm (X11_waitforinput): Call getc() instead of read(),
	to avoid problems with buffering of stdio streams.

	* src/command.c (fgets_ipc): Fix EOF checking error. Replaced
	pointer arithmetics by array indexing. Made this function active
	regardless of USE_MOUSE status, moving the #ifdef inside it.
	(read_line): Simplification: just call fgets_ipc, no matter what
	USE_MOUSE is. Let that function decide whether mouse support stuff
	is needed.

	* src/gadgets.c (clip_point): Cast coordinates to int in
	comparison to the boundaries, since those are signed too, and they
	might actually be negative, sometimes. Fixes wrong clipping for
	negative 'set offset' parameters.

	* src/gp_types.h: Parenthesize bitmasks in plot style enum values,
	to quench a compiler warning.

2001-06-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c: remove duplicated show for historysize.

2001-06-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/show.c: implemented show for historysize, multiplot and
	termoptions.

2001-06-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	I went on a little crusade against magic numbers in the source
	code:
	
	* src/axis.h (t_autoscale): Define and use new enum type for the
	two-bit fields autoscale and set_autoscale in struct axis. This
	affects tons of other places using these variables, too, so I
	won't list them individually, here.

	* src/gp_types.h (PLOT_STYLE_FLAGS): New enum to name flags stored
	as part of the plot style numbers in enum PLOT_STYLE. Use these
	names instead of magic numbers.

	* src/plot2d.c (t_uses_asis): New enum to define names for the two
	bits stored per axis uses_axis[]. 
	(eval_plots): Use the new mnemonics instead of magic numbers.

	* src/interpol.c (STORE_AND_FIXUP_RANGE): Macro arguments renamed
	to lowercase, properly guarded by parentheses inside the
	body. Body reindented for readability.

2001-06-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/tgif.trm: Changed type of TGIF_colurs to array of plain
	char, from unsigned char.

2001-06-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.nt (WINOBJS): Add gpexecute.obj to the list.

2001-05-31  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pslatex.trm (PSLATEX_graphics): Use PSLATEX_{X|Y}MAX
	instead of PS_{X|Y}MAX to calculate the bounding box parameters of
	the dvips \special command. Was wrong by a factor of two, before.

2001-05-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (SHOW_FORMAT): Argument renamed to `_axis', to avoid
 	possible K&R preprocessor substitution inside string constant.
	(show_command) Plugged some parse errors from 'set' options that
 	don't have a 'show' equivalent, yet. 'historysize', 'multiplot'
 	and 'termoptions' are rejected as invalid.  'show data style' is
 	mapped to 'show style data', and #ifdef'ed BACKWARDS_COMPATIBLE.
  	'show [lrbt]margin' made equivalent to 'show margin'. 'show
 	mcbtics' was simply forgotten during the colorbox axis-ification,
 	it seems.
	
	* src/axis.c (axis_checked_extend_empty_range): For axis with one
 	fixed and one autoscaled endpoint, widen only the autoscaled one.

2001-05-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/mouse.c (MousePosToGraphPosReal): Fix for Sourceforge 
	bug #426199: check to avoid division by zero in special cases of
	'set view'.

2001-05-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc: Inaccuracy regarding yerrorbars fixed --- it's
 	really more like `points', not like `dots', i.e. the central point
 	is drawn with a normal point symbol.

2001-05-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.nt: add "mouse" and "gpexecute" to the linker
 	response file, too, and add #define options for USE_MOUSE and
 	WIN_IPC. Thanks to Theo Hopman for noticing these.

2001-04-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot3d.c (splines_kernel): Prototype moved up to where the
 	other internal prototypes are.
	(Swap): Macro no longer used, thus removed.
	(lu_decomp, lu_backsubst): Prototypes and implementations moved
 	out of here.
	(grid_nongrid_data): Take care of possibly UNDEFINED input
 	datapoints.
	(grid_nongrid_data) [THIN_PLATE_SPLINES_GRID]: Count number of
 	points that are not UNDEFINED, while storing them.
	(grid_nongrid_data) [BUGGY_DGRID_RANGING]: Removed all #if's
 	depending on this macro. This was old, now long unused code.
	(grid_nongrid_data): Don't apply logscaling to x and y ---
 	get_3ddata() did that.
	(get_3ddata): If dgrid3d mode is active, don't logscale the z
 	value, yet. Will be done by dgrid3d on averaged values, instead.

	* src/matrix.h: Removed all that ruffle about EXT and MATRIX_MAIN.
	(lu_decomp, lu_backsubst): Prototypes added.
	
	* src/matrix.c: Include "util.h" for NO_CARET.
	(WINZIG): Comment out -- unused.
	(lu_decomp, lu_backsubst): Moved here, from plot3d.c, and made
 	globally visible.

2001-04-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Enable mouse and pm3d by default.

2001-04-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/win.trm (WIN_POINT_TYPES): Raised number: now 15 different
 	types of point symbols, in Windows.
	(WIN_point): Treat all point type numbers below -1 like -1. Fixes
	bug reported by Petr Mikulik.

	* src/win/wgnuplib.h (WGNUPLOTVERSION): Bumped up version number
 	because of changes in PM3D and point symbols.
	(W_ftriangle, W_fpentagon, W_pentagon): Opcodes for new point
 	symbol types.
	(W_itriangle): Opcode number change, necessary to keep all filled
 	symbols consequtive.

	* src/win/wgraph.c (drawgraph): Removed one superfluous level of
 	nested switch()ing. Re-indented. Handle new point symbol types.

2001-04-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw: compile also pgnuplot.c.

2001-04-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (gen_tics): Re-do yesterday's fix in a different
 	way. First try was buggy.

2001-04-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (gen_tics): Additional numerical safeguard to prevent
 	endless loop. Axis ranges of a relative length below about DBL_EPS
 	wouldn't terminate because end+step = end, in limited precison.

2001-04-06  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pdf.trm (PDF_vector, PDF_move): Don't try to avoid moving
 	or drawing to the same positions as the 'last' one if the previous
 	terminal API call wasn't move/vector --- as judged by the
 	open/close status of the PDF "path". This fixes the PDFlib
 	exception in electron.dem.
	(TERM_TABLE_START): Correct terminal one-line description.

2001-04-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm (PS_set_font): Move PS_RememberFont() call above
 	the fprintf() for the "setfont" output. Needed to properly
 	reencode fonts other than the one selected in "set term
 	postscript" line. Thanks to Thomas Henlich for finding this.

2001-04-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term_api.h (L_TYPE_NODRAW): New macro to remove magic number
 	'-3' that signalled: "do not draw this line at all".

	* src/axis.c (gen_tics): Use new macro. Fix 'set grid lt -1' bug
 	as a byproduct.
	(axis_draw_2d_zeroaxis): Use new macro.

	* src/color.c (cbtick_callback): Use new macro and fix bug using
 	lt -1.
	
	* src/graph3d.c (do_3dplot, draw_3d_graphbox): Use new macro.
	(xtick_callback, ytick_callback, ztick_callback): Use it and fix
 	grid lt -1 bug.

	* src/graphics.c (do_plot): Use new macro.
	(xtick2d_callback, ytick2d_callback): Use it and fix grid lt -1
 	bug.

	* src/set.c (set_key): Use new macro.

	* src/show.c (show_key, show_zeroaxis): Use new macro.

2001-04-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Remove AC_REVISION to avoid unnecessary cvs updates.

	* lisp/Makefile.in: Let install target depend on generated .elc files.

2001-03-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_range): Bugfix in parsing 'set xrange restore'.

2001-03-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/save.c: save color axis properties.

	* docs/gnuplot.doc: link 'set term push/pop' from 'help save'.

2001-03-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: changed default colour box position and size;
	use logscale for cb-axis according to z-axis.

	* docs/gnuplot.doc: list all mouseable terminals.

2001-03-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* NEWS docs/gnuplot.doc pm3d/demo/Demo.gp src/axis.c src/axis.h
	src/color.c src/command.c src/graph3d.c src/plot3d.c src/pm3d.c
	src/pm3d.h src/save.c src/set.c src/show.c src/tables.c src/tables.h
	src/unset.c: colour box axis for pm3d.
	Removed command: set pm3d zrange.
	New commands: set/unset/show of cbrange, [m]cbtics, format cb,
	grid [m]cb, cblabel, cbdata, [no]cbdtics, [no]cbmtics.

2001-03-12  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw: do not support pipes on Windows by default
	as it causes some problems (requires attached dos window - makes
	problems to pgnuplot or when started as gui-only).

2001-03-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/parse.c (xterms, aterms, bterms): Avoid storing pointers
 	into the dynamical array at->actions[]. They break if the action
 	table has to be reallocated. This caused a really strange endless
 	loop bug for a very complicated function using 8 nested levels of
 	conditional operators plus lots of function calls.

2001-03-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/win.trm src/win/wgnuplib.h src/win/wgraph.c: bugfix for windows
	terminal crash on NT if there were too many colour polygons.

2001-03-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/Makefile.am.in, demo/Makefile.am.in, tutorial/Makefile.am.in:
	$< is not portable. Use Makefile.am.in explicitly.

2001-03-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/titlepag.tex: autodetect pdf output - use package hyperref.

	* config/makefile.mgw: new targets: all, gnuplot.ps, gnuplot.tex.

	* config/makefile.mgw config/term.c: support for pipes under Windows.

2001-03-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (get_data): Automatically revert to 'with points'
 	from candlesticks or financebars if input has only 1 or 2 columns.
  	Output a warning to the user about this. Fixed wording of the
 	error message in 3-column case.
	
2001-03-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term.h [HAVE_LIBPDF]: Include new PDF terminal driver.

2001-03-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pdf.trm: New terminal driver for Adobe PDF (Portable
	Document Format) files.
	
	* configure.in: Added detection code for PDFLib library, needed
	to compile term/pdf.trm.

2001-02-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term_api.h (DEFAULT_LP_STYLE_TYPE): New macro, to help
 	initializing lp_style_type struct variables directly.

	* src/gadgets.c (DEFAULT_BORDER_LP): New macro to hold the default
 	lp_style_type for the graph border.
	(default_border_lp): New global constant variable. Used to
 	re-initialize the border linetype by struct assignment.
	
	* src/gadgets.h: Declaration for default_border_lp added.

	* src/unset.c (reset_command): Assign border_lp from
 	default_border_lp instead of calling set_lp_properties().

	* src/set.c (set_arrow, set_linestyle): Initialize local variable
 	from new macro DEFAULT_LP_STYLE_TYPE instead of calling
 	reset_lp_properties().
	(set_border): Assign border_lp from default_border_lp instead of
 	calling set_lp_properties().
	(reset_lp_properties, set_lp_properties): Functions no longer
 	used. Removed them.
	
	* src/setshow.h (set_lp_properties): Removed prototype.

2001-02-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/emf.trm (EMF_text, EMF_reset): Reset emf_graphics flag to
 	FALSE to fix bug reported by J.Bollinger.

	* term/emf.trm (EMF_STOCK_OBJECT_FLAG,
 	EMF_STOCK_OBJECT_WHITE_BRUSH, EMF_STOCK_OBJECT_BLACK_PEN,
 	EMF_STOCK_OBJECT_DEFAULT_FONT): New mnemonic macros to replace
 	magic numbers.
	(EMF_setfont, EMF_text, EMF_dashtype): Use them.

	* src/win/wgraph.c (LoadCursors): Use default cursor IDC_CROSS
 	instead of home-grown ptrcross.cur.
	(CopyPrint): Codestyle: indented and commented #if/#else/#endif
 	lines.
	
	* src/win/ptrcross.cur: File removed.

	* src/win/wgnuplib.rc: Reference to ptrcross.cur deleted.

	* src/win/wresourc.h (IDC_SCALING): Removed #define for
 	IDC_CROSSHAIR

	* src/win/scaling.cur, src/win/rotating.cur: Binary files replaced
 	by new, much nicer versions.
	
	* src/set.c (set_terminal): Codestyle: call gp_strdup() instead of
 	strdup().

	* src/readline.h: The readline_ipc() prototype is now here, since
 	the functions is in readline.c, too.

	* src/ipc.h: Moved readline_ipc() prototype away from here.

	* src/command.c (com_line): Codestyle: #if's indented and
 	commented.

2001-02-27  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw: added a configuration section for easier setup
	of compilation options.

2001-02-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/syscfg.h: Removed section defining VERYLARGE.

	* src/stdfn.h: Moved blurb to define VERYLARGE macro from syscfg.h
 	to here. It needs <float.h> to have been included before it can do
 	its own part. Fixes endless loop bug in timefmt axes with a "set
 	xtics <incr>" type of tic placement lacking fixed endpoints.

2001-02-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wgraph.c: call GE_plotdone when graph drawn (otherwise
	rotate-and-scale-by-mouse was not working); fixed set cursor
	positioning typo ('set mouse zoomjump').

2001-02-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c (ruler, zoombox): Gave anonymous structs a
 	name.
	(zoombox): Added string pointers for texts to be shown at corners
 	of the rubberband rectangle while zooming.
	(everywhere): Lots of prototypes for static functions
 	added. Flagged all internal functions as 'static'. Comments added
 	and cleaned up. Stylistic changes.
	(GWOPMAX): Moved here, from wgnuplot.h; only used inside this
 	module.
	(GraphOp, Graph_put_tmptext, Graph_set_clipboard): Turned string
 	argument into to LPCSTR, i.e. pointers to const char, in Windows
 	parlance.
	(GraphEnd) [USE_MOUSE]: Don't call DrawRuler from here.
	(MakePens): Removed code no longer needed since the PM3D stuff
 	forced dynamic pen creation.
	(Wnd_GetTextSize): New function. Isolated fragment from
 	MakeFont(), for re-use by mouseing functions.
	(MakeFonts): Call new Wnd_GetTextSize().
	(MakeFonts): Use TRUE and FALSE instead of 1 and 0 to asssing
 	states of lpgw->rotate.
	(DestroyCursors): Replaced missing implementation by single
 	'return;' statement: the function has nothing to do, as it turns
 	out.
	(drawgraph): If 'hdc' is a handle of a Metafile, GetDeviceCaps()
 	reports wrong results, leading to monochrome-only clipboard
 	contents. Assume colored output unless 'color' element in LPGW is
 	FALSE, for Metafiles.
	(Wnd_exec_event): Compute difference of GetMessageTime() results
 	from one call to the next, so we should be able to tell
 	doubleclicks from single ones. Removed now-pointless parameter
 	'par2'.
	(WndGraphProc): Moved static variable last_modifier_mask up to
 	function scope. It has to be visible to from different message
 	handling cases.
	(WndGraphProc) [USE_MOUSE + WM_KEYUP]: Handle key-up events of
 	modifier keys, too.
	(WndGraphProc) [USE_MOUSE + WM_KEYDOWN]: <Shift> and <Ctrl>
 	checking repaired. I haven't tested <Alt> yet.
	(WndGraphProc) [WM_COMMAND + USE_MOUSE]: Don't call DrawRuler()
 	from here.
	(WndGraphProc) [WM_PAINT + USE_MOUSE]: Re-paint all mouse
 	decorations of the plotwindow here, directly after the call to
 	drawgraph() has overwritten window contents.
	(Graph_put_tmptext): Implemented cases 1 and 2 of the 'where'
 	argument by strdup'ing the texts over into the zoombox struct.
  	Update by calling DrawZoombox() before and after that.
	(Graph_set_clipboard): Implemented.
	(Draw_XOR_Text): New function. Implements true XOR text output via
 	a temporary bitmap, and an XOR-ing BitBlt() operation.
	(DisplayStatusLine): Replaced previous, half-cooked version by
 	call of Draw_XOR_Text(). Removed argument 'erase'.
	(UpdateStatusLine) [ENABLE_STATUS_LINE_RESIZE]: Threw out all the
 	chunks of this #ifdef version. This should be implemented in the
 	gnuplot core, instead.
	(DrawZoomBox): Added implementation of corner label strings for
 	the zoom box. Uses Draw_XOR_Text() twice for each two-line string.
  	Also found and implemented a way to draw the zoombox in dashed
 	lines --- actually: in 'linetype 0', which is normally used for
 	zeroaxes and gridlines.
	
	* src/win/wgnuplib.h (WGNUPLOTVERSION): Internal protocol version
 	number bumped by 0.1, with timestamp of yesterday, for all the
 	mouseing stuff and some other change I made while being at it.
	(all over the place): Comments added and cleaned up.
	(GWOPMAX): Moved out of here, over to wgraph.c.
	(struct GW): Removed unused elements numsolid, hbpen, hpen[] and
 	hsolidpen[].
	(GraphOp, Graph_put_tmptext, Graph_set_clipboard): Prototype
 	updated.

	* src/gpexecute.c: Changed all PIPE_IPC || WIN_IPC conditionals
 	into PIPE_IPC, only. Windows doesn't actually use the stack of
 	mouse events implemented by these hungs.
	(gp_exec_event) [WIN_IPC]: A big FIXME comment regarding
 	separation issues between wgnuplot.dll and wgnuplot.exe.

	* src/command.c (winsystem) [_Windows] : made local variable 'p' a
 	pointer to constant char. That's LPCSTR, in Windows jargon.

	* src/color.h (filled_polygon_3dcoords): GPHUGE attribute
 	specifier added to prototype

	* term/svg.trm (SVG_PathLimit): Prototype added.

2001-02-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wtext.h: Added #include <stdarg.h> needed to declare
 	va_list for prototypes.

	* src/win/wgraph.c: Bracketed all mouse-specific within #ifdef
 	USE_MOUSE, as they should be. Removed some remains of the old
 	'numsolid' stuff.
	(Wnd_exec_event): Pass message timestamp to gp_exec_event(),
 	replacing the fourth input parameter.
	(WndGraphProc) [WM_MOUSEMOVE]: Rewrite and uncomment the Cursor
 	shape call. Also for the section used regardless of 'set mouse
 	off'.
	(WndGraphProc) [WM_CHAR]: moved all the "special" keys into a new
 	WM_KEYDOWN case --- they don't generate WM_CHAR messages.
	(WndGraphProc) [WM_KEYDOWN]: have all keys immediately call
 	Wnd_exec_event, so the default action can fall through to the
 	default handler.  Handled some open ends introduced by Petr.
	(WndGraphProc) [WM_KEYDOWN]: Moved the modifier key status check
 	to before the individual keys, and translated it from OS/2 to
 	Windows API. Code #ifdef'ed out for now, because it doesn't work,
 	yet.

	* src/win/ptrcross.cur, src/win/scaling.cur, src/win/rotating.cur:
	New files.

	* src/win/wgnuplib.rc: Added definition of new cursor resources
	for interactive mousing by reference to files.

	* src/mouse.c (event_buttonrelease): Fixed FPRINTF() debugging
 	call.

	* src/graphics.c (plot_vectors): Removed GPHUGE attribute.

	* src/dynarray.c (nextfrom_dynarray): Corrected position of GPHUGE
 	attribute of the returned type.

	* src/dynarray.h (nextfrom_dynarray): Prototype updated.

	* config/makefile.win (CFLAGS) [WIN32]: Added -DVFPRINTF,
 	-DWIN_IPC and -DUSE_MOUSE to the list of flags.
	(CFLAGS, CAUXFLAGS) [!WIN32]: Added -DVFPRINTF.
	(DLLOBJS): Added gpexecute.obj.
	(wgnupl32.exe): Added gpexecute to list of input files.
	(DLLCC): Added -DUSE_MOUSE and -DWIN_IPC

2001-02-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (axis_position_zeroaxis): Fixed behaviour for
 	reversed axes if 0.0 is not inside the range.
	
	* src/graphics.c (histeps_vertical, histeps_horizontal): Added
 	code to handle clipping lines on reversed axes. Renamed parameters
 	'xl' and 'yl' to 'cur_x' and 'cur_y', in order to avoid confusion
 	with 'x1' and 'y1'.

2001-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c (get_data): For BOXES plots, don't set z_axis of
 	the plot to x_axis. That element is only used for a marker, not
 	for an actual x value.
	(store2d_point): If z_axis of current plot is unused (-1), simply
 	store 'width' argument as the z value, without any of the usual
 	processing by STORE_WITH_LOG_AND_UPDATE_RANGE.
	(eval_plots): Catch plot styles that don't work for functions.
  	Prints a warning and reverts to 'with points'
	
	* src/plot3d.c (eval_3dplots): Catch plot styles that don't work
 	for functions.  Prints a warning and reverts to 'with points'

	* src/set.c (set_command): In 'set function style' handler, check
 	that plot style is applicable to function plots. If it isn't,
 	issue an error message and keep previous value.
	(set_style): dito, for 'set style function' handler.

2001-02-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wtext.h (MyVFPrintF): Fix typo: missing semicolon after
 	prototype.

2001-02-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wgraph.c: two more calls to DrawRuler() to draw the ruler
	after the graph window has been de-minimized or replotted by gnuplot
	after 'replot' or 'plot ...'; added remapping of VK_ key codes to
	gnuplot key codes GP_.

2001-02-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term.c (term_set_output): add code to work around an MSDOS
 	bug: 'set output' to the already open file causes file system
 	corruption. Solved by closing the file before opening it again.
	
2001-02-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c (ruler, zoombox): struct element 'on' made
 	TBOOLEAN.
	(hptrDefault and friends): Uncommented Petr's suggestion, changed
 	type.
	(GetMousePosViewport and friends): Internal prototypes updated.
	(all over the place): Removed commented-out code blocks dealing
 	with the 'numsolid' and dynamic pen creation changes, for good.
	(all over the place): changed // comments to /* ... */
	(LoadCursors): New function. Loads cursor images from the system
 	or the resource file so cursor can change shape as different mouse
 	operations take place.
	(DestroyCursors): New function, not implemented yet. Unloads all
 	the cursors registered by LoadCursors, to free the resources.
	(drawgraph): Removed mouse_hdc initialization.
	(Wnd_exec_event): New function, may no longer be needed. A wrapper
 	around gp_exec_event that records mouse position before calling
 	it.
	(Wnd_refresh_zoombox): New function, used to be a code block in
 	WndGraphProc().
	(WndGraphProc): Mouse position querying moved to helper functions
 	Wnd_exec_event and Wnd_refresh_zoombox --- only do the query if
 	the result is needed.  Put an #ifdef USE_MOUSE around the code
 	added by Petr.
	(WndGraphProc) [WM_CREATE]: call LoadCursors().
	(WndGraphProc) [WM_DESTORY]: call DestroyCursors().
	(Graph_set_cursor): Added LPGW parameter, implemented by
 	translating OS/2 sample code into Windows API calls.
	(Graph_set_ruler): dito.
	(Graph_put_tmptext): dito --- but implementation not complete,
 	yet.
	(Graph_set_clipboard): Added LPGW parameter. Not implemented, yet.
	(GetMousePosViewport): Added LPGW parameter. Removed Macros
 	WIN_XMAX and WIN_YMAX: query lpgw instead. Removed debugging
 	fprintf() to file.
	(DisplayStatusLine): Added LPGW parameter. Implementation
 	rewritten almost from scratch, needing a new TBOOLEAN flag 'erase'
 	because of Windows API limitations.
	(UpdateStatusLine): Added LPGW parameter.
	(DrawRuler): Added LPGW parameter, turned OS/2 code outline into
	Windows API implementation.
	(DrawZoomBox): dito.

	* term/win.trm (WIN_put_tmptext): pass LPGW pointer to graphwin
 	struct as additional parameter.
	(WIN_set_ruler): dito.
	(WIN_set_cursor): dito.
	(WIN_set_clipboard): dito.

	* src/win/wresourc.h (IDC_CROSSHAIR, IDC_SCALING, IDC_ROTATINT):
 	added resource identifier macros for mouse cursors.
	
	* src/win/wgnuplib.h: Updated prototypes of mouse functions.
	
2001-02-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	Several cleanups suggested by reading an MSVC compilation logfile:
	
	* term/win.trm: added prototype for WIN_filledbox, and spread
 	warning notices all over the places regarding integer size
 	mismatch between the unsigned ints passed into the terminal API
 	and the WORD parameter accepted by GraphOp().
	
	* src/win/winmain.c (MyVFPrintF): add 'const' qualifier.
	(MyFPrintF): dito.
	(MyFPutS): dito.

	* src/win/wtext.h (MyFWrite): added 'const' qualifier.
 	(MyPrintF): dito.
 	(MyFPutS): dito.
	(MyVFPrintF): prototype added.
	(vfprintf): #define added, points to MyVFPrintF.

	* src/win/wgraph.c (GraphOp): added 'const' qualifier to 'str' argument.

	* src/win/wgnuplib.h: dito.

	* src/command.c (winsystem): add 'const' qualifier to argument.

2001-02-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/fit.c (fit_command): Bugfix for 2D fits with a fixed yrange.
  	Local copying of range endpoints over to zrange was not done.

2001-02-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/win/wgraph.c src/win/wgnuplib.h term/win.trm: partial
	implementation of mouse support for Windows. It should be finished
	according to my notes in the source code and on stderr.

2001-02-05  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.mgw, src/gpexecute.h, gpexecute.c, mousecmn.h,
	src/win/wgraph.c: WIN_IPC, an IPC for Windows. Hotkeys in the
	windows terminal are now working.

2001-02-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/*.c, term/*.trm: Fixed incorrect usage of <ctype.h> macros.
  	If you pass a char to any of those, you *have* to cast it to
	(unsigned char). Not to (int), but really unsigned char. The only
 	exception would be ints holding the result of an fgetc() or
 	similar call, but those don't occur in gnuplot.

	* CodeStyle: added a paragraph describing this rule.

2001-02-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_command): Fix incorrect c_token movement in 'set
 	xdata {time}'.

2001-01-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/show.c (show_command): Fix broken 'show ticslevel' and 'show
 	ticscale' commands (from Pieter-Tjerk de Boer).

2001-01-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	I had a look across all usages of [safe_]strncpy(), and patched
	several: 
	
	* src/fit.c (backup_file): Off-by-one error in use of safe_strncpy
	fixed.

	* src/gplt_x11.c (ErrorHandler): cast 'display' argument to void
	to silence a compiler warning.

	* src/command.c (replotrequest): Replace strncpy call by memcpy
	iff the 'size' argument of strncpy was hand-tailored to the length
	of the 'from' string.  In that case, the result is exactly the
	same as with memcpy, but strncpy is inherently slower.

	* src/fit.c (error_ex): dito.
	(splitpath): dito.
	(setvar): dito.
	
	* src/gplt_x11.c (record): dito.

	* src/plot.c (gp_expand_tilde): dito.

	* src/set.c (set_pm3d): dito.

	* src/fit.c (fit_interrupt): Replace sprintf() call with
	user-specified string by safe_strncpy, to avoid format string
	vulnerability.

2001-01-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/contour.c (fuzzy_equal): Removed use of 'zero' as a fudge
 	term. Avoid division-by-zero in another way. This also removed the
 	need for the private ABS() macro in this source. Removed.

	* src/axis.c (mant_exp): Added code to change results like 10.0e0
 	to the result got from sprintf: 1.0e1, for number very close, but
 	not equal to 10.0.  Takes the mantissa format string as a new
 	argument, to decide how close 'very close' should be.
	(mant_exp): Also try to avoid calls to the pow() function wherever
 	possible.
	(mant_exp): Changed type of 'scientific' flag to TBOOLEAN.
	(gprintf): Now stores exponent found as a byproduct when
 	mant_exp() is called for the mantissa, to avoid another call to
 	mant_exp() for the exponent alone, later.  Shuffled some code
 	lines to build starting conditions for mat_exp() correctly.
  	CAVEAT: this only works well if the mantissa is output _before_
 	the exponent, or the mantissa format has zero digits of precision.
	(gprintf): Moved some repeated code out of the individual cases of
 	the main switch statement to behind it.
	(gprintf): Avoids division of negative integers: the result would
 	be platform-dependant!
	(gen_tics): Repaired numerically silly condition that would remove
 	all inner tics for axes shorter than DBL_EPSILON, i.e. about
 	1e-16.

2001-01-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (boundary): fix rounding errors in multiplot
	placement by adding 0.5 to ytop, ybot, xleft and xright initial
	values.

2001-01-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* INSTALL [HP-UX 10.x]: change recommendations regarding GCC on
	HP-UX 10.x and higher.

	* src/graph3d.c (xtick_callback, ytick_callback, ztick_callback):
 	remove 'static' attribute to avoid bug in HP-UX assembler. This
 	was the root of the long-standing compilation problems with GCC on
 	HP-UX 10 and higher.

	* src/graphics.c (widest2d_callback, xtick2d_callback): dito
	(ytick2d_callback): dito.

2001-01-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term.h: add testing of THREEDKIT macro before activating
 	VGAGL terminal driver.

	* src/interpol.c (cp_approx_spline, cp_tridiag, do_cubic):
 	streamline checks for logscaling and AXIS_UNDO_LOG calls into
 	AXIS_DE_LOG_VALUE calls.

	* src/plot2d.c (eval_plots): dito.

	* src/axis.h (AXIS_INIT3D, AXIS_INIT2D, CHECK_REVERSE): new
 	macro-local variable 'this' for more readable coding.
	(AXIS_INIT3D, AXIS_INIT2D): only calculate log_base element if
 	logscaling is active for that axis, to avoid SIGFPE.

	* src/axis.c (gen_tics): use AXIS_UNDO_LOG instead of explicit
 	coding.
	(axis_output_tics): fix multiline x-axis label positioning.

2001-01-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	New PNG feature from <Juergen.vonHagen@etec.uni-karlsruhe.de>:
	
	* term/png.trm (PNG_id, PNG_opts): new option 'picsize' added to
 	table.
	(PNG_options): handle new case PNG_PICSIZE by resizing the
 	drawable area handled by the 'bitmap' module.
	(PNG_options): add output of option picsize.
	(PNG_graphics): use new variable output sizes instead of fixed
 	constants.
	(PNG terminal docs): document new option 'picsize'

2001-01-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wpause.c (PauseBox): Change window style of Pause window
 	to make it show up in the taskbar and have it pop up on top of all
 	others.
	(PauseBox): Insert WaitMessage() call to reduce CPU load while
 	gnuplot waits for the user to click away the pause window.

	* term/win.trm (WIN_filledbox): New function, implements 'clear'
 	command for this terminal. Added entry to terminal API definition.

	* src/win/wgnuplib.h (W_filledbox): define new message number.

	* src/win/wgraph.c (drawgraph): handle new message W_filledbox to
	draw blanked-out box.

2001-01-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (apply_head_properties): make temps unsigned to
 	match arguments of map_position().

	* term/svg.trm (SVG_point): add missing TERM_PUBLIC stamp to
 	definition.

2001-01-03  Johannes Zellner  <johannes@zellner.org>

	* term/post.trm:  PS_make_palette() made it working with
	negative palette values R/G/B.

2000-12-26  Johannes Zellner  <johannes@zellner.org>

	* term/ggi.trm,configure.in: pm3d for ggi using the
	ggi xmi library. new configure switches:
	    --with-ggi
	    --with-xmi

2000-12-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/datafile.c (df_tokenise): recover the original exponent
 	letter after addempting parse of FORTRAN-style numbers. Fixes bug
 	in parsing time/date input like "01Dec2000".

2000-12-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

        Fix bugs reported by Theo Hopman:
	
	* src/set.c (set_logscale): "set logscale yz" bug fixed.

	* src/save.c (save_tics): xtics saveing fixed.

	* src/graph3d.c (do_3dplot): change incrementation of linetype for
 	contour lines. Fixes off-by-one bug between key sample and actual
 	line.

	* src/contour.c (calc_min_max): Don't logarithmize the ranges
 	another time.

2000-12-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/term.c: fixed one missing 'postscript_gpoutfile = 0;' after
	a term->reset.

2000-12-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pm.trm src/os2/gclient.c: support for filled boxes (added
	PM_fillbox routine) --- it is used by the 'clear' command in multiplot
	mode to clear the subfigure area.

2000-12-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc: small change to docs about EEPIC driver
 	behaviour.

2000-12-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/eepic.trm: cleaned up some warnings and 'checkdoc' problems.

2000-12-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/eepic.trm: Gabriel Zachmann <zach@igd.fhg.de> added lots of
 	new options to the 'eepic' driver, and fixed some bux while at it.
	(EEPIC_PTS_PER_INCH): set to 72.27.
	(EEPIC_DOTS_PER_INCH): set to 600, and renamed from DOTS_PER_INCH.
	(eepic_color_on, eepic_true_rotate, fontsize_set): new variables.
	(eepic_num_point_types, eepic_pointsize, EEPIC_points): split up
 	into three lists for different point sizes.
	(eepic_numlines, EEPIC_lines): split up into three lists for
 	different 'line sets'.
	(EEPIC_NUM_COLORS, eepic_color, eepic_colors): new variables, for
 	colored output feature.
	(EEPIC_init): change initializers to new variables.
	(EEPIC_graphics): change fontsize setting method.
	(EEPIC_linetype): change linetype selection method; respect color.
	(EEPIC_point): change point output method to respect pointsize.
	(EEPIC_put_text): use real \rotatebox style rotation, if
 	available.
	(EEPIC_options): new function. Handles all new options of the
 	eepic terminal.
	help section: document new options.

2000-12-18  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc src/set.c src/term.c src/term.h src/term_api.h:
	new commands 'set term push', 'set term pop' (in order to achieve
	platform independent restoring of the terminal after printing, for
	instance) --- see 'help set term'.

	* src/gplt_x11.c: OS2_PIPE minor fixes.

2000-12-12  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: minor changes for -noevents

	* term/x11.trm: some text about -noevents

2000-12-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* README.exp: remove section about 'mouse is experimental'.

	* src/term.c: removed obsolete routine 'fill_gp4mouse'.

	* src/command.c: removed an OS/2 switch for readline vs. readline_ipc.

2000-12-12  Johannes Zellner  <johannes@zellner.org>

	* src/tables.c, src/show.c: corrected a bug so that
	x2zeroaxis works again.

2000-12-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/datafile.c (df_3dmatrix): implement missing 'index' option
 	for 'matrix'-type splot datafiles. 'index' increases for every
 	blank or comment-only line, as both terminate mesh reading in
 	df_read_matrix().
	
	* docs/gnuplot.doc: document this.

2000-12-08  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/gif.trm: don't crash on pm3d in multiplot (reuse the previous
	colour palette if no more colours are available).

2000-12-06  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c term/post.trm docs/gnuplot.doc: support 'set palette
	maxcolors <n>' also for postscript terminal (allow discrete filled
	contour-like steps).
	
2000-12-06  Johannes Zellner  <johannes@zellner.org>

	* term/ggi.trm, configure.in:
	prepared for using wmh if it's available.

2000-12-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (boundary): move the setup_tics() calls of the x
 	axes above the code that applies 'set size ratio'. Otherwise, the
 	auto-extension of ranges can distort the aspect ratio.

2000-12-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/win.trm: un-comment the mouse function dummy entries in the
	terminal entry.

	* src/win/wgraph.c: include "getcolor.h". Fixes bug in Win32-pm3d
 	handling reported by Petr Mikulik.

	* src/win/wgnuplib.h (farmalloc): make this macro definition
 	active for Borland C++ compilers higher than a certain version.

	* src/hidden3d.c (split_line_at_ratio): changed vertex arguments
 	from pointer to array index avoid dangling pointers after realloc
 	of vlist array.

2000-12-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/svg.trm: new driver.
	* src/term.h: #include it.

2000-12-05  Petr Mikulik  <mikulik@physics.muni.cz>

        * src/pm3d.c: take care about undefined points in PM3D_SCANS_AUTOMATIC.

2000-12-04  Johannes Zellner  <johannes@zellner.org>

	* term/ggi.trm: copy the ggi options to term_options.

2000-12-04  Johannes Zellner  <johannes@zellner.org>

	* term/ggi.trm: implemented relative motion events for the ggi
	terminal.  so that mouse actions work also with the DGA target.

2000-12-04  Petr Mikulik  <mikulik@physics.muni.cz>

        * docs/gnuplot.doc docs/psdoc/README docs/psdoc/ps_guide.ps
	lisp/gnuplot-gui.el src/set.c src/term.c src/term_api.h term/post.trm:
	a patch enabling the PostScript	terminal to use CP-852 encoding. 

2000-11-30  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/pm.trm src/os2/gclient.c docs/gnuplot.doc: change PM terminal
	codepage according to 'set encoding', and use codepage 912 for
	iso_8859_2' (new routine PM_set_codepage() in pm.trm).

2000-11-29  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/syscfg.h: #define FAQ_LOCATION "http://www.gnuplot.org/faq".

2000-11-29  Levente Novak  <novak@jaguar.dote.hu>

        * docs/gnuplot.doc docs/gnuplot.texi docs/psdoc/README
	docs/psdoc/ps_guide.ps lisp/gnuplot-gui.el src/set.c src/term.c
	src/term_api.h term/post.trm: a patch enabling the PostScript
	terminal to use ISO-8859-2 encoding. 

2000-11-27  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

        * src/readline.c: readline.c did not built with HAVE_LIBREADLINE.
	So remove an #ifdef and - being here - make two symbols static.

2000-11-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: New variables BUILT_SOURCES, CLEANFILES. Reorganise
	clean target.

	* src/color.c, src/gadgets.c, src/getcolor.c, src/gpexecute.c,
	src/gplt_x11.c, src/mouse.c, src/pm3d.c: Coding style.

2000-11-24  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

        * docs/gnuplot.doc: Update FAQ location. Remove "'" characters from
	headers to make gnuplot.texi 'TeXable' again.

2000-11-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* configure.in config/makefile.os2 term/x11.trm src/gpexecute.h
	src/ipc.h command.c gpexecute.c gplt_x11.c plot.c readline.c:
	The patch introduces explicit #define directives for different types
	of interprocess communication (gnupmdrv, gnuplot_x11 => gnuplot):
	    OS2_IPC  ... the OS/2 shared memory + event semaphores approach,
	    PIPE_IPC ... communication by using bidirectional pipe.
	In the current sources, there is a mixture of #ifdef USE_MOUSE,
	#if[n]def OS2, or #if defined() && () ... This patch makes it clear
	what code is for what kind of IPC, while #ifdef USE_MOUSE ... #endif
	parts don't mix with IPC codes. Of course, USE_MOUSE requires either
	IPC defined.
	  Now it should be easy to add any other IPC for whichever platform
	with terminal independent from the main gnuplot executable which wants
	to support mouse and hotkeys; or modify PIPE_IPC to work for it too.
	For example, gnuplot + gnuplot_x11 compiles on OS/2 fine with PIPE_IPC
	instead of OS2_IPC, just it does not work. 

2000-11-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Fix GNUPLOT_X11 for the case that no X11 support is
	available.

	* demo/contours.dem, demo/fit.dem: Add missing closing quotes.

	* docs/Makefile.in: Add DESTDIR support.

	* docs/gnuplot.texi, src/Makefile.in, src/makefile.all, src/version.c:
	Regenerated.

	* src/Makefile.maint: Re-enable version.c target.

	* src/getcolor.c: Include getcolor.h.

	* src/graphics.c(nearest_label_tag): Remove duplicate function.

	* src/graphics.c(apply_head_properties): Remove nested extern
	declarations.

	* readline.c: Include ipc.h for readline_ipc() prototype.

	* src/term_api.h: Add exported variables curr_arrow_headlength and
	curr_arrow_headangle.

	* src/unset.c: Remove nested extern decalartion of X11_unset_pm3d().

	* term/cgm.trm: Remove nested extern decalartions.

2000-11-23  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

        * src/pm3d.c: Fix incomplete struct pm3d initializer.

2000-11-23  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

        * src/gplt_x11.c: fix some segmentation faults

2000-11-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.h graph3d.c mouse.c pm3d.c save.c set.c show.c unset.c
	docs/gnuplot.doc:
	  1. changed variable 'pm3d_map_rotate_ylabel' to field 'pm3d.map';
	  2. implemented 'save' of 'pm3d', 'palette' and 'colorbox'.

2000-11-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/set.c: suppose 'set pm3d at s' if pm3d was not used until now
	and 'set pm3d not-at-option' was used.

2000-11-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/util.c (graph_error): don't call int_error(). Can't do that
 	from one variadic function to the other.

	* src/plot2d.c (get_data): fix bug in datafile plots 'with boxes'.

2000-11-22  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

        * src/gplt_x11.c: fix two crashes (segmentation fault
	  and floating exception)

2000-11-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/pm3d.h, tables.h, set.c, show.c, tables.c, unset.c 
	docs/gnuplot.doc pm3d/demo/README pm3d/demo/Demo.gp: new
	pm3d command "[set|unset|show] colorbox" (formerly this was
	a part of the "palette" options).

2000-11-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/mouse.c: don't zoom x2 and y2 axes when in 3D plot.

2000-11-21  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: added a few ifdefs, so it compiles w/o mouse/pm3d.

2000-11-20  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm,src/gplt_x11.c: `set palette maxcolors' for x11
	as requested by Petr.

2000-11-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/mouse.c (MousePosToGraphPosReal): fix typo in treatment of
 	logarithmic y axis values.

2000-11-20  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/: color.c pm3d.c term.c term_api.h
	  term/: epslatex.trm pslatex.trm post.trm
	pm3d: added 'FILE *postscript_gpoutfile' which is set to 
	'PSLATEX_auxfile' or 'gpoutfile' or '0' according to 'set term',
	i.e. to the file where the postscript code goes to (if outputted).
	Condition 'if (!postscript_gpoutfile)' can be used to distinguish 
	postscript terminals family (used in postscript optimized output
	in pm3d).

	* src/pm3d.c: bugfix crash when plotting surface with 1 scan only.

	* src/mouse.c: disable changing 3D view and scale during 'set pm3d map'.

2000-11-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c (map_position_double): added back a missing 'break'.

2000-11-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/command.c (help_command): [_Windows] fixed off-by-one error
 	in help topic determination.

2000-11-15  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.h src/getcolor.c src/color.c src/show.c term/post.trm:
	pm3d --- move PostScriptColorFormulae from post.trm to getcolor.c and
	rename them to ps_math_color_formulae.

	* src/getcolor.h: pm3d --- new file, declarations for getcolor.c.

	* term/epslatex.trm: pm3d --- removed pm3d code from epslatex.trm which
	duplicated the code in post.trm, and call the particular ps.trm 
	functions instead.

2000-11-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* make the branched version compile under OS/2.

2000-11-12  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* term/README: describe pm3d and mouse API

	* term/cgm.trm: add pm3d support.

2000-11-10  Gregor Thalhammer  <Gregor.Thalhammer@uibk.ac.at>

	* term/epslatex.trm(EPSL_arrow): Arrows without heads are not drawn.

2000-11-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/gnuplot.opt: added new sourcefiles to the list.

	* config/makefile.nt: adapted to 3.8 source layout, pm3d enabled.

2000-11-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c, src/pm3d.c: allow pm3d compile without pslatex.

2000-11-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/hidden3d.c (split_line_at_ratio): Changed parameters.
	(draw_edge): Changed parameters.
	(handle_edge_fragment): Changed parameters. Avoid checking same
 	polygon against the recursing edge again. Don't allocate fresh
 	edge.
	(in_front): Changed parameters. Don't modify contents of 'edge'
 	passed in. Rather pass around vertex data separately. Revised some
 	of the tests to fix almost all currently known display bugs.

2000-11-08  Johannes Zellner  <johannes@zellner.org>

	* docs/gnuplot.doc, pm3d/README: included tgif as supported

2000-11-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/specfun.c (f_lambertw): set 'undefined' to TRUE
	if lambertw returns error condition.

	* src/specfun.c (lambertw): restructured a bit, removed fall-off
 	without a return value, avoided FP equality comparison.

2000-11-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	From Gunter Kuhnle <gunter@tux.biow.uni-leipzig.de>:

	* src/specfun.c (f_lambertw): new function.
	(lambertw): new function.

	* src/eval.c (ft): added entry for lambertw

	* docs/gnuplot.doc: document new function lambertw

2000-11-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Check for png_init_io() instead of deprecated and
	unused png_info_init().

	* demo/Makefile.am.in: Use variables in place of "gnuplot" (GNUPLOT)
	and "all.dem" (DEMO) to allow more fine-grained control over what is
	run with "make check". Regenerate Makefile.am.

	* term/epslatex.trm: EPSL_PostScriptColorFormulae and
	PostScriptColorFormulae from post.trm are the same. Remove the former
	and reference the latter.

2000-11-06  Ian MacPhedran  <Ian_MacPhedran@engr.usask.ca>

	* term/tgif.trm: Add PM3D support.

2000-11-06  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: Patch from Pieter-Tjerk de Boer to make
	gnuplot_x11 recognizing if the main program died.

2000-11-04  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm: fixed /h definition for pm3d gray palette.

2000-11-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/Makefile.dst, lisp/Makefile.in, lisp/gnuplot.el,
	lisp/gpelcard.tex: Update to gnuplot-mode 0.5k (long overdue).

	* lisp/Makefile.in: Add gnuplot.el and gnuplot-gui.el to install
	target, patch by Ralf Ahlbrink <ahlbrink@uos.de>.

	* lisp/Makefile.in: Add DESTDIR support.

	* src/Makefile.am: Add new README to EXTRA_DIST.

	* term/cgm.trm: Correct LaTex table width in term doc section, patch
	by Ralf Ahlbrink <ahlbrink@uos.de>.

2000-11-03  Bernardo A. Mello  <bernardo@unb.br> 

	* docs/psdoc/ps_symbols.gpi: Show not only the symbols, but also
	the lines corresponding to each code.

2000-11-03  Johannes Zellner  <johannes@zellner.org>

	* src/gpexecute.inc: split into src/gpexecute.c
	/ src/gpexecute.h.  Updated src/Makefile.am so that
	gnuplot_x11 uses also gpexecute.o. Removed the
	USE_NONBLOCKING_STDOUT definition, it wasn't configurable
	anyway (it was always on) and it made the code unreadable.
	!!! The os2 part is broken !!!

2000-11-03  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/README: new file. Describes the changes to the sourcecode
 	organization made by the 'axis' branch. If you want to apply an
 	older patch, you'll need this.

2000-11-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Test for gdImageGif() instead of gdImageCreate().
	Better diagnostics for missing gd and png library.

	* src/axis.c: Change RCS id tag to function.

	* src/gpexecute.inc(gpe_init,gpe_push): Use malloc() instead of
	gp_alloc() to avoid linking with additional modules.

2000-11-03  Hans-Bernhard Broeker  <broeker@acaxp6.physik.rwth-aachen.de>

	* src/syscfg.h: repeated block of code moved to here.  JMP_BUF:
 	new #define. Will be sigjmp_buf, if HAVE_SIGSETJMP

	* src/parse.c: #include syscfg.h instead of config.h
	(fpe_env): make it type JMP_BUF

	* src/plot.c: #include syscfg.h, not config.h
	(command_line_env): make it type JMP_BUF
	(RexxInterface): make local variable keep_env type JMP_BUF
	
2000-11-03  Hans-Bernhard Broeker  <broeker@acaxp6.physik.rwth-aachen.de>

	* term/emf.trm (EMF_text): replace fgetpos() call by ftell()

2000-11-03  Johannes Zellner  <johannes@zellner.org>

	* src/graph3d.c: made `pm3d solid' working again.

2000-11-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Remove --enable-emf and --enable-epslatex options.

	* src/color.c, src/color.h, src/getcolor.c, src/pm3d.c, src/pm3d.h:
	Add RCS id tag, minor changes.

	* src/contour.c, src/contour.h, src/graph3d.h, src/plot3d.h:
	Remove trailing commas in enums.

	* src/term.h: Include emf and epslatex driver unconditionally.

	* term/emf.trm: Remove C++ comment.

	* term/post.trm: Add missing backslashes in LaTeX part of terminal
	documentation.

2000-11-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/color.c (make_palette, filled_polygon)
	(filled_polygon_3dcoords, filled_polygon_3dcoords_zfixed):
	use gp_alloc(), not malloc()
	* src/command.c (winsystem): dito.
	* src/gpexecute.inc (gpe_front, gpe_push): dito.
	* src/mouse.c (do_zoom): dito
	* src/pm3d.c (pm3d_rearrange_part): dito.
	
	* src/color.h: __PROTO()'ize all the declarations.

	* src/color.c (filled_quadrangle): move #ifdef
 	EXTENDED_COLOR_SPECS to outside the function definition.
	* src/color.h: dito.
	
	* src/graph3d.c: remove plot3d_dots prototype

	* src/hidden3d.h: remove map3d_xyz prototype

	* src/color.c: include util3d.h for map3d_xyz()

	* src/util3d.c: include pm3d.h for set_color()

2000-11-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/gadgets.c (draw_clip_line): fixed bug in argument ordering
	of the clip_line() call.

2000-11-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/emf.trm (EMF_write_byte): change argument to type
 	'int'. Necessary if the function definitions are to be
 	K&R-compatible.
	(EMF_write_short): dito.
	(EMF_write_float): dito.
	(EMF_write_long): Remove unneeded union. A char-array is enough to
 	guarantee correct output of binaries.
	(EMF_write_float): dito.
	(EMF_write_short): dito.
	(EMF_set_font): add missing cast to unsigned char for <ctype.h>
 	function argument.

	* src/axis.h: Remove trailing commas in enums.

	* src/term_api.h: dito.

	* src/gadgets.h: dito.

	* src/mouse.c (MousePosToGraphPosReal): don't try to un-log values
 	for secondary axes in a 3D plot.

2000-11-01  Johannes Zellner  <johannes@zellner.org>

	a few changes after merging the axis branch
	* src/mouse.[ch]: made event_plotdone() non-static
	* src/show.c: included plot.h where gnuplot_history_file is declared
	* src/pm3d.h: included graph3d.h where
	struct surface_points is declared
	* term/pslatex.trm: remove an unused variable

2000-11-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Add new pm3d subdir to EXTRA_DIST.

	* PATCHLEVEL: Make it zero (0) instead of e as e is already in VERSION.

	* configure.in: Update version/patchlevel info.

	* missing: Update from current automake (again).

	* docs/gnuplot.texi: Regenerated.

	* src/Makefile.am: Remove obsolete file protos.h from gnuplot_SOURCES.

	* src/ansi2knr.c: Update from current automake.

2000-11-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* merged the axis branch into MAIN

2000-10-31  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: moved current_gc outside the #ifdef PM3D
	block, so it is also defined, if compiling w/o PM3d support.

2000-10-31  Johannes Zellner  <johannes@zellner.org>

	* merged the pm3d branch to MAIN
	* docs/gnuplot.doc: added GGI/win to the list of pm3d capable terminals

2000-10-31  Johannes Zellner  <johannes@zellner.org>

	* src/save.c: set linestyle --> set style line

2000-10-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.c (gen_tics): pass NULL to callback for minitics, not "".
	Fixes bug observed by J.R. van Zandt today.

	* src/graphics.c (widest2d_callback): do nothing if 'text' argument
	was NULL. 

2000-10-27  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pstricks.trm (PSTRICKS_xscale): removed, as it was
	essentially unused, anyway.
	(PSTRICKS_yscale): dito.
	(PSTRICKS_graphics): respect 'size' and 'offset' settings in
	creating the bounding box of the graph.

	* term/eepic.trm (EEPIC_lines): Added a few more linetypes which
 	had been blissfully commented out.
	(EEPIC_NUMLINES): raised to 10, accordingly.
	(EEPIC_graphics): respect 'size' and 'offset' settings in creating
 	the bounding box of the graph. This overrides the patch of
 	2000-10-24 filed in by Lars.

2000-10-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/gnuplot.doc: added documentation for the "history" and 
	"system" commands.

2000-10-25  Johannes Zellner  <johannes@zellner.org>

	* src/pm3d.c, src/color.[ch]:
	repaired supplying of extended color specs in pm3d
	(make it working in vgagl.trm)

2000-10-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* trm/post.trm: "g" makes stroke + set(gray/rgb), "G" and "H" removed;
	finally supporting 'with l lt pal' too.

	* docs/gnuplot.doc, pm3d/README: say PM3D works under Win too.

2000-10-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.texi: Regenerate to include new arrow heads options
	and driver updates.

2000-10-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c (WndGraphProc): ported X11/OS2 feature that
 	pressing SPC in graph window transfers the focus to the gnuplot
 	text window.

2000-10-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* missing: Update from automake-cvs.

	* src/depcomp: Add from automake-cvs.

	* term/cgm.trm(CGM_graphics): Use gnuplot_version instead of VERSION.
	Add gnuplot_patchlevel to description string.

	* term/cgm.trm(CGM_set_font): Eliminate compiler warning.

	* term/emf.trm: Update to latest version.

	* term/ggi.trm: Delete empty line at end of termdocs section.

2000-10-24  Johannes Zellner  <johannes@zellner.org>

	* term/ggi.trm: increased the speed of ggi command line
	input by redrawing ruler / statusline coordinates / zoombox
	only if they've changed.

	* term/ggi.trm: masking also key repeat events

	* term/ggi.trm: 'q' closes the terminal, so it's
	compatible with X11 and vgagl.

2000-10-24  Brendt Wohlberg  <brendt@cnls.lanl.gov>

	* term/pslatex.trm: The current pslatex term has an option for
	modifying the text font size, but this option only changes text
	positioning without actually changing the font size. This patch
	changes the optional value from a scaling factor to a font size
	(in points) and includes LaTeX commands to actually change the
	font size. 

2000-10-24  Andreas Czechanowski  <dl4sdc@dl4sdc.ampr.org>

	* term/fig.trm: Update to fig file format version 3.2. Fix scaling
	in metric mode. Change upper left corner offset to be at an integer
	centimeter position in metric mode. Output sizes for metrix are now
	12x8cm and 12x15cm.

2000-10-23  Johannes Zellner  <johannes@zellner.org>

	* repaired `pm3d hidden'

2000-10-23  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: support for 'with l lt pal'.

2000-10-23  Johannes Zellner  <johannes@zellner.org>

	* `linetype palette' linetype, e.g.:
	  - set style line 1 lt pal
	  - splot sin(sqrt(x*x+y*y))/sqrt(x*x+y*y) w l lt pal
	draws lines using a smooth palette which is set with the
	command `set palette'. This works only for splots and
	lines / points / dots (not impulses). It works also
	for contours. For normal surface plots, the scans are
	scan-wise depth-ordered. This is not perfect, but it's
	better than nothing and it's still pretty fast. If speed
	is not an issue, hidden3d can be used. Currently, the
	following terminals are supported:
	  - X11, gif, fig, vgagl, ggi

2000-10-22  Johannes Zellner  <johannes@zellner.org>

	* repaired `gnuplot -rv' (src/gplt_x11.c) so that it takes
	white as foreground for border / text ...

	* `linetype palette' option: uses the smooth palette as
	specified by `set pal' (only possible for pm3d enhanced
	terminals). Works for splots:

	    lines
	    points
	    dots

	/not/ for impulses (would this make sense ?)
	Currently only implemented in the following terminals:

	    X11
	    gif
	    fig
	    vgagl
	    ggi

2000-10-22  Johannes Zellner  <johannes@zellner.org>

	* ggi driver:
	  - event / mouse support
	  - multiplot support
	  - autoconf support
	  - mode selection support

2000-10-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm: bug fixed in Dick's overprinting patch: '10^{2}'
	would come out as '10' without the exponent.

	* src/set.c (fill_numbers_into_string): new function. Implements
	long-outstanding feature of 'set label' with variable values in it
	--- e.g. from 'fit' results, or parameters used in the plot.
	(set_label): use the above, and remove unneeded checks from the
	option parsing.

	* src/axis.c (gprintf): remove 'static' qualifier, to make it
	usable from set.c. FIXME: maybe it should move out of axis.c, into
	util.c or so.


2000-10-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.h (X_AXIS): new macro to reduce code clutter.
	'axis_array[FIRST_X_AXIS]' was getting a bit tedious to type.
	(Y_AXIS): dito.
	(Z_AXIS): dito.
	(x_axis, y_axis, z_axis): new global variables to serve as
	parameters for those macros. Replace function-local versions
	in several places.

	* all over the place: use the new macros to reduce code clutter.

	* src/fit.c (fit_command): don't pass 'islog_override' to the
	AXIS_INIT3D calls. Would cause 'fit' to unset log, involuntarily.

2000-10-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/win.trm (WIN_make_palette): new function to implement PM3D
 	support for the Windows driver
	(WIN_set_color): dito
	(WIN_filled_polygon): dito

	* src/win/wgraph.c (drawgraph): add low-level parts of PM3D
 	implementation, here.

2000-10-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgnuplib.h (WGNUPLOTVERSION): bumped version number of
	wgnuplib interface to 1.3. That's the DLL version, in Win16
	builds.
	(LOGPEN) and some others: commented out some definitions no longer
	needed, for the MinGW32 build. The compiler's headers no provide
	them.
	(W_line_width): new message number, for implementing linewidth.
	(W_pm3d_setcolor), (W_pm3d_filled_polygon): new message numbers
	for PM3D support

	* src/win/winmain.c (MyVFPrintF): New function. vfprintf() was
	missing in the simulated <stdio.h> functions of the Windows text
	terminal emulation.

	* src/win/wtext.h: comment out 'dontuse_vfprintf', to allow the
	new vfprintf() to be used.

	* term/win.trm (WIN_linewidth): new function. Now you can use the
	'linewidth' option of gnuplot commands too, not just the
	Windows-specific method of globally changing the definition of
	linetypes.
	(WIN_last_linetype): new variable caching the linetype last set.
	(WIN_linetype): check against cached linetype, to avoid unneeded
	pen changes.
	(WIN_init): invalidate cache
	(WIN_graphics): invalidate cache

	* src/win/wgraph.c (MakePens): Create pens on-the-fly, rather than
	all in a bunch at plot start time. Needed to support dynmicaly
	changeable line widths.
	(DestroyPens): dito.
	(drawgraph): dito, plus the low-level side of the implementation
	of changeable linewidths.

2000-10-20  Alan Braslau  <braslau@drecam.saclay.cea.fr>

	* plot2d.c(print_table): Table terminal driver now produces
	x y [xlow xhigh] [ylow yhigh] type as per errorbar mode. The
	financebars and candlesticks types are not covered.

2000-10-20  David Mussomeli  <dado.sere@libero.it>

	* term/eepic.trm(EEPIC_graphics): Picture environment is now scaleable
	by the "set size" command.

2000-10-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/set.c (set_arrow): don't accept 'first' and 'second' as keywords
	before 'from' or 'to'.
	
2000-10-12  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* term/cgm.trm (general): Initialize font table with the standard
	WebCGM fonts, plus the Hershey fonts, plus the other fonts
	implemented by the Microsoft Office import filter, plus a few
	variations (so "oblique" and "italic" are equivalent).  Default
	font is now "Helvetica Bold".  Use a struct array to hold the
	standard font names and their relative widths.  Add references
        to CGM documents, especially those on-line.  Defeat assertions
        by default.

	* term/cgm.crm (CGM_put_text): Was using the same distance as
	the the declared baseline-to-baseline text dimension (used by
	gnuplot) and the baseline-to-capline height declared in the
	output file.  Reducing the character height (by factor of 2/3)
	in the output file.  Increase default font size from 10 to 12
	pt to compensate.
	
	* term/cgm (CGM_set_font): Construct the CGM format font list on
	the fly.  Adjust the declared text width according to the
	dimensions of the chosen font. Handle the case where the input
        string does not include the font height.

	* term/cgm (CGM_options): If font isn't in table, add it
	(retaining the existing fonts).  Add "nofontlist" option which
	only omits the font list (no effect on color table).
	"winword6" is now just a deprecated synonym for "nofontlist".
	"solid" option was incorrectly setting cgm_dashed to TRUE.
	Fixed.  In "linewidth" option, part of sanity check was on
	cgm_linewidth instead of cgm_linewidth_pt.  Fixed.  User can
	specify line colors with option like "xff00dd".  User colors
	go into a separate table, which can grow automatically.

	* term/cgm (CGM_point): Implement open markers.

	* term/cgm (CGM_put_text): Eliminate duplicate elements in output
	file: Write text characteristics only if they have changed: font
	index, character height, justification mode.  Treat character
	orientation the same way.  

	* term/cgm (CGM_text_angle): generalize internal data
        structures to allow for text oriented at other angles than
        horizontal or vertical.

	* term/cgm (CGM_linecolor): Eliminate yellow as a line color (too
	hard to see against a white background).  Add orange and gray.

	* term/cgm (CGM_graphics): For MIL-D-28003A compliance: add
	gnuplot version and MIL-D-28003A reference to picture
	description, and write element list as the third element.
	Omit color table for monochrome file.  Add missing elements to
	metafile elements list: Color Value Extent, Font List, Color
	Table.  Add the new elements required for open markers: edge
	type, edge width, edge color, and edge visibility.  Omit VDC
	Integer Precision, Transparency, and Clip Indicator elements,
	since some import filter cannot digest them and we are using
	the defaults anyway.

	* term/cgm (CGM_linewidth): Flush polylines before changing
	linewidth.

	* term/cgm (help text): Document above changes.  Add notes
	about the Microsoft Office CGM input filter.  Rewrap some
	paragraphs to stay within the specified 73 columns.

2000-10-06  Johannes Zellner  <johannes@zellner.org>

	* implemented finally configurable offsets for
	set label "xy" at x, y pointsize 1 offset 2.0, 3.0
	Useful for placing labels slightly offset from data
	points. This was one of the points left from implementing
	the mouse stuff.

2000-09-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c src/graph3d.c: bugfix "if ((*t->pointsize))"
	changed to "if (t->pointsize).

2000-09-20  Johannes Zellner  <johannes@zellner.org>

	* relative arrows:
	  set arrow from start_x, start_y rto delta_x, delta_y
	* if front was given, the arrow head stuff wasn't applied.
	  I repaired this. (also for 3d plots).

2000-09-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* graphics.c (map_position), graph3d.c (map_position): Fix
 	off-by-one bug in treatment of term->{x,y}max when translating
 	'screen' coordinates.

2000-09-13  Daniel Luecking  <luecking@uark.edu>

	* term/metapost.trm: Disambiguated options m$onochrome and
	m$agnification. Changed %g to %f in output format (MPt doesn't know
	exponential notation). Changed MP_DPI from 300 to 2400.

2000-08-02  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graph3d.c src/graphics.c src/set.c src/show.c src/term.c
	  src/plot.h docs/gnuplot.doc term/fig.trm:
	allow setting arrow head(s) sizes --- new keywords `heads` and
	`{size <length>,<angle>}` for `set arrow`.
	Note: not implemented for TeX-like terminals, which draw arrows
	by their own method.

2000-07-26 Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/axis.h (STORE_WITH_LOG_AND_UPDATE_RANGE): don't store
	if AXIS argument is -1, which means 'invalid'.
	
2000-07-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/variable.c (loadpath_handler): in ACTION_CLEAR, make
	sure 'limit' is properly initialized, too.
	
2000-07-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/graphics.c src/plot.c src/plot2d.c src/plot3d.c src/plot.h
	  src/graph3d.c src/os2/gclient.c term/pm.trm term/post.trm:
	avoid writing filenames in keys as enhanced text in enhanced-text
	capable terminals (postscript and Presentation Manager); i.e., don't 
	write file "a_123.dat" with '1' as subscript of 'a'.
	  The method used sets a new flag `this_plot->title_no_enhanced = 1;`
	if the title of filename or function cannot be enhanced. When keys are
	typeset, then new global global variable `ignore_enhanced_text` is set.
	Then enhanced terminals decide whether to use normal-text or
	enhanced-text writing method. 
	  Note: There was another method proposed to solve this problem: all
	escape characters to be backslashed on reading of the title. However,
	this would not work if the same plot is replotted subsequently on
	enhanced and non-enhanced terminals.

2000-07-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d: src/os2/gclient.c, term/pm.trm: bugfix for color palette
	allocation ('set palette maxcolors' was ignored).

2000-07-10  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: boundary around the color box is drawn by move&line
	for bitmap as well as postscript-including terminals.
	Contributed by Gregor Thalhammer <Gregor.Thalhammer@uibk.ac.at>.

2000-06-24  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/color.c: if is_log_z, then print the non-logged values of z_min
	and z_max around the color box.

	* src/unset.c: 'unset pm3d' sets the y axis to noreversed if the
	reversed has been set by 'set pm3d map'.

	* pm3d: a trick for rotating the ylabel via 'set pm3d map' (see
	variable `pm3d_map_rotate_ylabel`). That's needed because gnuplot
	does not have an option for rotating x,y,z axes labels; once it
	possesses it, the above mentioned variable would be replaced by the
	new one.

2000-07-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* all over the place: restructured axis module global 
	variables. Instead of sevaral separate arrays, it's now
	a single array of structs, to bring it even closer to the
	idea of an OO-style axis class. 
	* removed some more occurances of 'extern' from .trm and
	.c files. 'extern' should only ever be needed in headers.

2000-07-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/hidden3d.c: implemented TEST_QUADTREE code, finally.
	Use a spatially oriented explicit datastructure (an xy
	grid of cells, with a polygon list in each), instead of
	the previous single large list plus a quick-out test.

2000-07-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c, src/hidden3d.c: allow non-grid datasets
	to exist even in hidden3d plot. The new hidden3d routine
	can cope with that case, too (after some fiddling).
	
2000-06-23  Johannes Zellner  <johannes@zellner.org>

	* src/gplt_x11.c: repaired `selection' (by left mouse).
	I really don't know when and how this got broken!

2000-06-22  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c, src/util3d.c, src/hidden3d.c: implemented
	hiddenlining for contour lines on surface and baseplane.

2000-06-20  Juha Takala  <juha.takala@vtt.fi>

	* gplt_x11.c: Add missing forward slash to path for .Xdefaults.

2000-06-18  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c, src/util3d.c, src/hidden3d.c: implemented
	hiddenlining for tic labels, axes and grid lines, again.

2000-06-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/cgm.trm(CGM_option): reject linewidth zero to avoid
	infinite looping in CGM_dashed_vector(), later

2000-06-14  Johannes Zellner  <johannes@zellner.org>

	* epslatex.trm also for pm3d

2000-06-14  Johannes Zellner  <johannes@zellner.org>

	* src/color.c: modified the postscript color box drawing for user
	borders.

	* term/post.trm: repaired the broken pslatex if using `encoding'
	as proposed by Petr Mikulik.

2000-06-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/datafile.c(df_gets): prompt visibly for inline data, if
	in interactive mode.

	* src/set.c(reset_command): set grid linewidth to 1.0, like the
	startup value (was 0.5, incorrectly).

2000-06-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* GNUmakefile, Makefile.am: Move pre-dist target from Makefile.am.

	* configure.in: New --enable-epslatex option. Cleanups.

	* src/term.h: Add epslatex support.

	* term/ggi.trm: New GGI driver, contributed by Cesar Crusius
	<crusius@leland.stanford.edu>. Support not complete yet.
	Requires -lgii, -lggi and -lggiwmh for linking.

	* term/epslatex.trm: New terminal driver by Gregor Thalhammer
	<Gregor.Thalhammer@uibk.ac.at>, updated version from 7th June.

2000-06-09  Johannes Zellner  <johannes@zellner.org>

	* src/save.c: don't close the fp's if it's stdout

2000-06-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/post.trm: Dick Crawford's enhanced postscript overprinting
	feature patch.
	(ENHPS_recurse): additional argument 'overprint'.

	* src/set.c (set_allzeroaxis): fix typo FIRST_X_AXIS vs.
	FIRST_Y_AXIS.

	* src/util3d.h: move prototypes for functions clip_point(),
	draw_clip_line(), clip_put_text(), clip_put_text_just(),
	clip_line() to gadgets.h; add prototype for newly global
	map3d_xyz().


	* src/util3d.c (clip_point): move from here to gadgets.c
	(draw_clip_line): dito.
	(clip_put_text): dito.
	(clip_put_text_just): dito.
	(clip_line): dito.
	(map3d_xyz): move here from hidden3d.c, and make global.

	* src/hidden3d.h: remove prototype for draw_line_hidden.

	* src/hidden3d.c: move static function map3d_xyz out here, into
	util3d.c.
	(draw_line_hidden): function commented out, as it is now unused.

	* src/graphics.c: #include "gadgets.h", instead of "graph3d.h" and
	"util3d.h";
	(do_plot): replace DRAW_ZEROAXIS macro by function
	axis_draw_2d_zeroaxis() implemented in axis.[ch].
	
	* src/graph3d.h: move declaration of global suppressMove, and
	prototypes of clip_move(), clip_vector() to gadgets.h

	* src/graph3d.c: #include "gadgets.h" instead of "graphics.h";
	move global suppressMove out of here; move clip_move() and
	clip_vector() out of here
	(draw_bottom_grid): calculate back_y together with zaxis_{x,y},
	instead of doing it separately in another if block.
	(): deactivated the whole code for drawing the base plane: it will
	have to be redone from scratch.

	* src/gadgets.h: #include "syscfg.h" added; move declararation of
	global suppressMove here; move prototypes for draw_clip_line(),
	clip_line(), clip_point(), clip_put_text(), clip_put_text_just(),
	clip_move(), clip_vector() here

	* src/gadgets.c: moved global variable 'suppressMove' to this
	source file.
	(clip_point, draw_clip_line, clip_put_text, clip_put_text_just,
	clip_line, clip_move, clip_vector): moved to this source file

	* src/datafile.c: (df_gets): added a prompt for interactive input
	of inline data.

	* src/axis.c (axis_draw_2d_zeroaxis): new function, centralizes 
	code previously found in graphics.c

	* src/axis.h: prototype for axis_draw_2d_zeroaxis added.

2000-06-09  Johannes Zellner  <johannes@zellner.org>

	* implemented the palette `origin', `size', `border',
	`noborder', `bdefault' subcommands and did a few changes
	for the placement of the labels at horizontal color boxes.

2000-06-04  Johannes Zellner  <johannes@zellner.org>

	* included the supported terminals for pm3d to gnuplot.doc

2000-05-31  Petr Mikulik  <mikulik@physics.muni.cz>

	* Ignore `replot` command called from mouse/hotkey-event-enhanced
	terminal when some plot data were piped in gnuplot via stdin ---
	i.e., no mouse replot after `plot '-'`). See also "no replot after
	`plot '-'`" discussion in the gnuplot-beta newsgroup.
	New variables: plotted_data_from_stdin, replot_disabled.

2000-05-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d: support for pm3d functionality in 'pslatex / pstex' terminals.

2000-05-25  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d: unset.c: #ifdef X11 .. #endif missing in unset_pm3d().

2000-05-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: configure should always exit with an exit code
	of zero.

2000-05-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib: updated pm3dConvertToImage.awk to support colour images.

2000-05-11  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d/contrib: added pm3dConvertToImage.awk.

2000-05-09  Petr Mikulik  <mikulik@physics.muni.cz>

	* pm3d: three new color mapping formulae 34--36: 2x,2x-0.5,2x-1.

2000-05-04  Johannes Zellner  <johannes@zellner.org>

	* reimplemented the Linux vgagl terminal driver with
	mouse and pm3d support (uses the lib3dkit library)

2000-05-04  Johannes Zellner  <johannes@zellner.org>

	* configure.in, src/plot.c, src/parse.c: replace setjmp by
	sigsetjmp and longjmp by siglongjmp if these functions
	(or macros) are available.

2000-05-04  Johannes Zellner  <johannes@zellner.org>

	* src/command.c: always include ipc.h

	* term/linux.trm: typedef int in declaration of linux_line_func_ptr

	* term/x11.trm: added a few ifdef USE_MOUSE's to exclude mouse
	code, if compiling w/o mouse support.

2000-05-03  Johannes Zellner  <johannes@zellner.org>

	* merged pre-pm3d - pre-pm3d-01 from the MAIN trunk.

2000-05-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: In "Platform notes" section, add hint for using
	'gcc -ansi'.

	* Makefile.am: Add maintainer-only pre-dist target.

	* docs/Makefile.in: Don't hardcode pdflatex command.

	* docs/doc2texi.el: Add missing drivers.

	* docs/gnuplot.doc: Remove docs for comma line continuation.

	* src/*.h: Uniform RCS id header.

	* src/command.c, src/mics.c: Clean up, add comments, remove ESR's
	comma line continuation patch (doesn't work).

	* src/dynarray.c, src/tables.c: Add RCSid.

	* src/dynarray.h, src/ipc.h, src/mousecnm.h: Add gnuplot copyright
	statement, RCS id.

	* src/gp_hist.h, src/gp_time.h, src/history.c, src/time.c: Fix
	function prototypes.

	* src/graphics.c(graph_error), src/graphics.h: Revert to non-variadic
	version, as graph_error() tries to pass a variable number of arguments
	into another variadic function. Noted by Pieter-Tjerk de Boer.

	* src/mouse.c: Formatting, indentation, RCS id.

	* src/plot3d.h: Add external variable declaration.

	* src/version.c: Set bug_email and help_email to info-gnuplot-beta
	for development versions of gnuplot.

	* term/gif.trm(GIF_put_text): Fix compiler warnings, patch from
	Alexander Mai.

2000-05-01  Johannes Zellner  <johannes@zellner.org>

	* branched off pm3d

2000-05-01  Johannes Zellner  <johannes@zellner.org>

	* term/x11.trm: Remove superfluous ifndef(OS2).	Add SELECT_FD_SET_CAST
	to sselect() call.

2000-04-30  Johannes Zellner  <johannes@zellner.org>

	* small patch such that zooming of map views works again.
	This patch apparently got lost during setup of the CVS repository.

2000-04-28  Jeff Spirko  <spirko@lehigh.edu>

	* src/plot.c(main): Allow configuration of GNU readline to use
	different settings for different terminals. Noted by Peter Maunz
	<Peter.Maunz@mpq.mpg.de>.

2000-04-14  Nigel Nunn <nNunn@ausport.gov.au>

	* src/command.c(pause_command): Fix `pause' command on Win32.

2000-04-12  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c(do_3dplot): Key sample was clipped to graph box
	(2D rectangle around the 3D plotting area), even if the key had
	explicitly been requested to be outside that area by `set key below'
	or `set key outside'.

2000-04-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/fig.trm(FIG_put_text): Don't create xfig SPECIAL_TEXT for
	non-LaTeX strings. See Debian bug#61972.

	* term/png.trm(PNG_options): Fix parser bug. Noted by
	Benoit des Ligneris <benoit.des.ligneris@physique.usherb.ca>.

2000-04-07  Pieter-Tjerk de Boer  <ptdeboer@cs.utwente.nl>

	* src/show.c(show_mtics): Fix buggy `show m[xyz][2]tics'command.

2000-04-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Add new --enable-emf option for experimental
	Enhanced Metafile Format driver. Check for pdflatex.

	* src/term.h: Include experimental emf driver.

	* term/emf.trm: New file. Enhanced Metafile Format driver by
	Stephane Barbaray <stephane.barbaray@compodata.com>. Small
	changes for 3.8.

2000-04-06  Ulrich Gruenebaum  <grueneba@luzi.e-technik.uni-dortmund.de>

	* docs/gnuplot.doc, src/plot2d.c, src/plot3d.c, src/set.c,
	src/setshow.h: Bug fix for broken autoscale writeback, see BUGS
	entry 3.

2000-04-05  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/interpol.c(cp_implode): 'smooth unique' does not correctly
	check inrange/outrange conditions.

2000-04-04  Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

	* src/graph3d.c(do_3dplot): Fix division by zero error caused
	by using variables before initialisation.

2000-03-31  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* configure.vms, src/command.c: Fixes for building on VMS.

	* src/show.c(show_version): Add missing "%s" in format string.

	* term/hp26.trm(HP26_flush): Add cast in compact_slope() call.

2000-03-31  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* src/gplt_x11.c(handle_selection_event): Fix compiler warning, use
	FPRINTF macro.

	* term/gif.trm(GIF_put_text): Fix compiler warnings.

2000-03-31  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/dialogs.h: Remove unnecessary blank lines.

	* src/os2/scaling.ptr, src/os2/rotating.ptr: Add missing files.

2000-03-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am, src/Makefile.am: Add missing files to EXTRA_DIST
	target.

	* configure.in, m4/path-hdr.m4, m4/path-lib.m4: Buffering directory
	names in config.cache is bad style ...

	* src/gplt_x11.c, src/graphics.c: Cleanups, indentation.

	* src/plot.h: Don't include ansichek.h, already in syscfg.h.
	Remove reference to TBOOLEAN noinputfiles, which is static
	in plot.c.

	* src/show.c(show_version): Add mouse support in version information.

	* term/x11.trm: Remove C++ comment.

2000-03-30  Shusuke Nisiyama  <shu@athena.qe.eng.hokudai.ac.jp>

	* src/graphics.c: Fix bugs in vector clipping patch.

2000-03-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/pslatex.trm: Amend help section as suggested by Pieter-Tjerk
	de Boer.

2000-03-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Cleanup after merge with Johannes' sources.

	* unset.c: Change borders and label contours as suggested by
	Johannes.

	* configure.in, docs/gnuplot.doc, src/command.c, src/gpexecute.inc,
	src/gplt_x11.c, src/ipc.h, src/misc.c, src/mouse.c, src/mouse.h,
	src/plot.c, src/readline.c, src/readline.h, src/set.c, src/show.c,
	src/os2/glcient.c, term/pm.trm, term/x11.trm: Merged Johannes' changes.

2000-03-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/post.trm: Epsf option sets landscape mode instead of epsf.

2000-03-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c(boundary3d): Change plot size if no key is set after
	set key below (part one).

2000-03-28  Jeff Spirko  <spirko@TopQuark.physics.lehigh.edu>

	* src/graph3d.c(boundary3d): Change plot size if no key is set after
	set key outside (part two).

2000-03-26  Jeff Spirko  <spirko@lehigh.edu>

	* src/show.c(show_key): The `show key' command doesn't display all
	information if the key is boxed.

2000-03-26  Walter Harms  <WHarms@bfs.de>

	* src/time.c(gstrptime): Add reading of time in "%s" format (seconds
	since epoch).

2000-03-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c(gen_tics): Bugfixes for tics and mtics handling
	in logscale.

2000-03-18  Johannes Zellner  <johannes@zellner.org>

	* src/graph3d.c(do_3dplot): Fix bug which occured after having changed
	some variables from unsigned int to int because	map3d_xy takes
	unsigned.

2000-03-17  Johannes Zellner  <johannes@zellner.org>

	* made quite a few of the mouse.c functions static and
	removed prototypes for these from mouse.h.

2000-03-17  Alexander Mai <st002279@hrzpub.tu-darmstadt.de>

	* fixed fit.c for the crash:
	  f(x) = a*sin(x) + b*x+c; fit f(x) 'a' via a,b,c,d
	udv_ptr->udv_name in setvar() is reallocated, but not initialised.

2000-03-16  Johannes Zellner  <johannes@zellner.org>

	* merged minor changes from the pm3d branch.

2000-03-16  Petr Mikulik  <mikulik@physics.muni.cz>

	* REXX unknown command crash solved.

	* minor changes to avoid compiler warnings from command.c.

2000-03-14  Petr Mikulik  <mikulik@physics.muni.cz>

	* let background the background of the PM window be white always
	(before: system background).

2000-03-13  Petr Mikulik  <mikulik@physics.muni.cz>

	* term/latex.trm: Avoid compiler warning about if - else - if - else
	without {}.

	* let 'show bind' print bindings for Space and q (mouse.c).

2000-03-08  Johannes Zellner  <johannes@zellner.org>

	* term/fig.trm(FIG_put_text): Fix bug which caused a SEGFAULT.

2000-03-08  Johannes Zellner  <johannes@zellner.org>

	* src/misc.c: Introduce pipe for load command gnuplot> load "< ...".

2000-03-04  Johannes Zellner  <johannes@zellner.org>

	* changed the order of two lines in extend_token_table() so
	that is does not segfault any more when reallocating the `token'.
	(reported by Wolfgang Schadow <schadow@lin07.triumf.ca>).

2000-03-03  Johannes Zellner  <johannes@zellner.org>

	* added a check for term in mouse.c:event_reset() to avoid
	a segfault.

2000-03-03  Johannes Zellner  <johannes@zellner.org>

	* added a check for stpcpy in configure.in

2000-03-02  Johannes Zellner  <johannes@zellner.org>

	* removed the contents of `src/unused'

2000-03-02  Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

        * fixed updating of ruler position when autoscale is enabled:
        use min_array[...] etc. instead of xmin etc. in recalc_ruler_pos().

        * added updating of x2 and y2 coordinates of ruler position.

2000-03-02  Johannes Zellner  <johannes@zellner.org>

        * added a few if (PM_pipe) to term/pm.trm to prevent segfaults
	if the connection to the pm driver was not established yet.

2000-03-02  Johannes Zellner  <johannes@zellner.org>

	* a really small fix in term/x11.trm: change the position of
	a comma so that is included between #ifdef USE_MOUSE ...

2000-03-01  Johannes Zellner  <johannes@zellner.org>

	* removed the message 'Using mouse-enhanced terminal ...'
	from term/x11.trm, as it can be annoying when using gnuplot
	in a pipe.

2000-02-29  Johannes Zellner  <johannes@zellner.org>

        * added a few if (X11_ipc) to term/x11.trm to prevent segfaults
	if the connection to the outboard driver was not established yet.

2000-02-25  Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

        * put #ifdef USE_MOUSE around use of EventHandler() in src/gplt_x11.c,
        to make it compile without mouse again.

2000-02-21  Johannes Zellner  <johannes@zellner.org>

        * changed ISATTY to isatty_state as requested by Lars.

2000-02-19  Johannes Zellner  <johannes@zellner.org>

        * removed two unused functions in gplt_x11.c

	* removed the `set mouse labeloptions' command. The label
	option string can now passed as optional argument to the
	`set mouse labels' command. (see help mouse)
	(both changes were suggested by Pieter-Tjerk de Boer)

2000-02-18 Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

        * gplt_x11 now catches the EnterWindow event, to immediately show
        correct coordinates and zoombox when the mouse enters the window.

        * 'set term ...' now cancels the zoom box.

        * removed some unused code in gplt_x11.c

2000-02-15 Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

	* term/pslatex.trm: Don't put pslatex's postscript code into
	the preamble, otherwise, if several pictures are present, only
	the settings for the last picture are present.

2000-02-14 Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

	* src/unset.c: Repair defunct 'unset [xyz]tics' commands.

2000-02-12  Johannes Zellner  <johannes@zellner.org>

        * changed the policy for allowing bidirectional ipc in X11:
	if stdin comes from a terminal (tty) the mouse is on by default,
	if stdin is not from a tty, events are not processed by default.
	If someone wants event processing when writing from a pipe to
	gnuplot she should turn on the mouse `set mouse` explicitely
	*before* starting the x11 driver. This is also explained in
	the docs.

2000-02-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/pc.trm: Small change in the help section.

2000-02-10  Pieter-Tjerk de Boer <ptdeboer@cs.utwente.nl>

	* term/pslatex.trm: Fix segfault.

2000-02-10  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* INSTALL: Add instructions for using the new VMS configure script.

	* configure.vms: A configure script for VMS. It replaces
	config/buildvms.com, config/make_vms.com, config/makefile.vms,
	src/genopt.com, src/gnuplot.opt, src/linkopt.vms and src/x11.opt,
	but we leaves these files alone for the time being for backwards
	compatibility.

2000-02-06  Thomas Henlich <Thomas.Henlich@mailbox.tu-dresden.de>

	* term/post.trm: Some programs complain about "Symbol-Oblique".
	Use "Symbol" instead, because "Symbol-Oblique" is really just a
	transformed "Symbol" font.

2000-02-04  Thomas Henlich <Thomas.Henlich@mailbox.tu-dresden.de>

	* term/post.trm: Provides an oblique symbol font, e.g.
	set xlabel 'b' "Symbol-Oblique" gives an oblique (slanted) beta
	character.

2000-01-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	Start tracking the CVS set up by Johannes Zellner to add
	mouse support for X11 and OS/2 PM. Implemented by Pieter-Tjerk de
	Boer <ptdeboer@cs.utwente.nl>, Petr Mikulik <mikulik@physics.muni.cz>,
	Johannes Zellner <johannes@zellner.org>.

	* ANNOUNCE-MOUSE, gpconf, gpconf, gpconfopt, src/gpexecute.inc,
	src/ipc.h, src/mouse.c, src/mouse.h, src/mousecmn.h: New files.

	* configure.in: Updated for mouse support.

	* config/makefile.os2: Updated for mouse support.

	* docs/gnuplot.doc: Add documentation for mouse support and new
	commands.

	* src/Makefile.am, src/makefile.all: Add new source files.

	* src/command.c, src/command.h, src/gplt_x11.c, src/graph3d.c,
	src/graph3d.h, src/graphics.c, src/graphics.h, src/history.c,
	src/plot.h, src/plot3d.c, src/readline.c, src/term.c: Add mouse
	support, some minor fixes.

	* src/hidden3d.c: Remove unused variable.

	* src/save.c, src/set.c, src/show.c, src/tables.c, src/tables.h,
	src/unset.c: New commands "bind", "set historysize", "set mouse",
	and "set label [no]pointstyle".
	
	* src/stdfn.c, src/stdfn.h: Add new gp_stricmp() function.

	* src/util3d.c(draw_clip_line), src/util3d.h: Change args type from
	unsigned to int.

	* src/os2/dialogs.c, src/os2/dialogs.h, src/os2/gclient.c,
	src/os2/gnupmdrv.ipf, src/os2/gnupmdrv.rc: Updated for mouse support.

	* term/README, term/pm.trm, term/x11.trm: Updated for mouse support.

2000-01-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* doc/makefile.ami, docs/makefile.dst: Remove duplicate RCS id's.

	* m4/Makefile.am.in, term/Makefile.am.in: $< is not portable.
	Use Makefile.am.in explicitly.

2000-01-20  Markus Schwarzenberg  <schwarzb@imsdd.fhg.de>

	* src/plot.c(wrapper_for_write_history): write_history() returns
	zero on success.

2000-01-14  Pieter-Tjerk de Boer  <ptdeboer@cs.utwente.nl>

	* src/unset.c: The 'unset [xyz]tics' commans didn't work.

1999-12-20  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/buildvms.com, config/makefile.vms: Fix directory
	references.

	* src/command.c(history_command): History functions are only defined
	if readline is available.

	* src/gnuplot.opt: Add new files.

1999-12-15  Pieter-Tjerk de Boer  <ptdeboer@cs.utwente.nl>

	* src/save.c(save_set_all): Fix typo in save xrange.

1999-12-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/plot.c: Add missing variable gnuplot_history_size, use instead
	of HISTORY_SIZE.

1999-12-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/dynarray.c: Fix compile error.

1999-12-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc: Add help entry "aspect ratio" to "set size".

	* docs/gnuplot.texi: Regenerated.

	* src/hidden3d.c, src/set.c, src/unset.c, term/next.trm,
	term/openstep.trm, term/post.trm: Rename symbolic constants for
	options parser.

	* src/set.c: Implement table based parser for set_encoding().

	* src/setshow.h: Remove encoding related defines.

	* src/tables.c, src/tables.h: New table for encoding options, renaming
	of symbolic constants.

	* term/gnugraph.trm: Add new, plotutils 2.2+ related terminal options.

	* term/hpgl.trm: Fix some minor bugs in the TERM_HELP section. Rewrite
	options parser to use table lookup (HPGL2_options only).

1999-12-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Add dependency for term.o.

1999-12-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/hpgl.trm: Updated funtion prototypes, indentation, formatting.
	Bugfixes in term help section.

1999-12-06  Jeremy Brenes  <jbrenes@swbell.net>

	* term/hpgl.trm: Give PCL5 terminal optional multi-pen support (6 pen
	default), a default 34" plotting width for use with large color
	plotters such as the HP Designjet 750C, various alternative plot
	sizes, and variable fontsizes. Also decreased the HPGL terminal's
	fixed fontsize to make it more reasonable when plots get scaled to 34".
	Make extended plot area smaller. Added solid/dashed lines option,
	additional font types, mixed fonts.
	Add a postscript pointtypes option, special purpose negative
	pointtypes, and a pointsize function.

1999-12-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/epson.trm, term/hp500c.trm, term/hpljii.trm, term/hppj.trm,
	term/pbm.trm, term/regis.trm: Use the same naming scheme for driver
	functions as for all the other drivers.

1999-12-05  Jeff Spirko  <spirko@lehigh.edu>

	* src/save.c(save_position): Strings in save_position() don't match
	the ones expected by set.c::get_position().

1999-12-02  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/contour.c(add_edge): Clipping of contour input datapoints that
	are outside fixed ranges.

1999-12-02  Shusuke Nisiyama  <shu@athena.qe.eng.hokudai.ac.jp>

	* src/graphics.c: Implement vector style clipping for 2D plots.

1999-12-02  Reality is a point of view  <gjohnson@dream.season.com>

	* term/png.trm: Issue "too many colours" warning only once.
	
1999-12-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Updated to latest version from Juergen.

	* configure.in: Simplify test for GNU plotutils by requiring
	version 2.2 or newer (API change).

	* config/buildvms.com, config/makefile.286, config/makefile.amg,
	config/makefile.ami, config/makefile.emx, config/makefile.g,
	config/makefile.msc, config/makefile.msw, config/makefile.mto,
	config/makefile.os2, config/makefile.os9, config/makefile.st,
	config/makefile.tc, config/makefile.vms, config/makefile.wc,
	config/makefile.win, config/makefile.ztc: Updated lists of files
	and dependencies.

	* src/bitmap.c, src/command.c: Formatting and indentation.

	* term/png.trm: Indentation, fixes in term options strings, add more
	descriptive docs.

1999-12-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/contour.c(gen_triangle): Fix coredump in contour code.

1999-11-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Rename --enable-history option to
	--enable-history-file, because it is unrelated to the new 'history'
	command. Add checking for gethostbyname() in -lbsd.

	* configure.in, m4/apple.m4, m4/beos.m4, m4/msdos.m4, m4/next.m4:
	Remove some superfluous dnl's.

	* m4/path-hdr.m4, m4/path_lib.m4: Change search order for includes
	and libs (default first).

	* m4/select.m4: Updated according suggestions from automake list.

	* src/Makefile.am: Add new files to gnuplot_SOURCES.

	* src/command.c: Include gp_hist.h.

	* src/command.c: Some minor cleanups.

	* src/command.h: Add declaration of input_line_len.

	* src/datafile.c: Formatting, indentation.

	* src/gp_hist.h: New file, declarations for history.c.

	* src/graph3d.c, src/graphics.c, src/set.c: Move SIGNIF define to
	setshow.h.

	* src/hidden3d.c: Remove statement with no effect.

	* src/history.c: History related functions (builtin readline) moved
	from readline.c.

	* src/plot.c: UTSNAME stuff moved here from show.c, init os related
	variables from version.c.

	* src/plot.h: Don't declare input_line_len, add declarations for new
	version.c variables.

	* src/readline.c: Move history related functions (builtin readline
	portion) to history.c.

	* src/readline.h: Remove history related function declarations.

	* src/setshow.h: Add SIGNIF define, change DEF_FROMAT to "% g".

	* src/show.c: Change banner string and version handling, integrate
	show_version_long into show_version.

	* src/syscfg.h: Remove trailing space from OS define, remove unix
	define.

	* src/version.c: New, OS related variables os_name and os_rel.

	* term/compact.c: Ifdef out unused function.

	* term/gnugraph.trm: Switch to GNU plotutils 2.2+ API.

	* term/png.trm: Initialise allocated png structures.

1999-11-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/bitmap.c(b_getpixel): Fix bug where only every other colour
	show up in png output.
	
1999-11-23  Hartmut Freihofer  <Freihofer@ike.uni-stuttgart.de>, Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/png.trm: Fix png driver to use web-friendly palette, add RGB
	colour spec.

1999-11-18  Lucas Hart  <hartl@ucs.orst.edu>

	* config/makefile.vms: Build rnh docs.

	* src/plot2d.c, src/plot3d.c: Fix data format for table terminal.

	* term/table.trm: Add note to docs that columns are separated by
	single spaces.

1999-11-15  Thomas Walter  <walter@pctc.chemie.uni-erlangen.de>

	* src/command.c, src/plot.c: Improvements in history related code.
	New environment variable GNUPLOT_HISTORY_SIZE.

	* src/history.c: New file. Code for the 'history' command and GNU
	readline.

	* src/term.c: Fixes for the interface to 'GNU plotutils-2.2'.  See
	also 'term/gnugraph.trm'.

	* term/gnugraph.trm: Fix code following the docs of 'GNU plotutils'.
	Now it is possible to use 'gpoutfile' to write into a user defined
	file.  See also 'src/term.c'.

1999-11-15  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/wgraph.c: Initialise pens in monochrome mode.

1999-11-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.dj2, src/Makefile.am: Remove references to protos.h.

	* docs/doc2x.h: Remove #ifdef 0'd defines.

	* src/contour.c: Remove commented declaration of solve_tri_diag().

	* src/dynarray.c, src/dynarray.h, src/hidden3d.c, src/plot2d.c,
	src/set.c,src/show.c: Formatting, indentation.

	* src/graph3d.c, src/graphics.c, src/graphics.h, src/help.c,
	src/misc.c, src/plot.h, src/setshow.h, src/show.c, src/term.c,
	term/dumb.trm: Fix TBOOLEAN/int inconsistency.

	* src/graphics.c, src/misc.c, src/plot.h, src/plot2d.c: Rename struct
	curves_points member next_cp to next.

	* src/parse.h: Fix comment.

	* src/plot.h: Define TBOOLEAN differently.

	* src/protos.h: Remove unnecessary file.

	* term/driver.h: Remove prototype for do_arrow().

1999-11-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/buildvms.com, config/makefile.286, config/makefile.amg,
	config/makefile.ami, config/makefile.dj2, config/makefile.emx,
	config/makefile.g, config/makefile.msc, config/makefile.msw,
	config/makefile.mto, config/makefile.os2, config/makefile.st,
	config/makefile.tc, config/makefile.vms, config/makefile.wc,
	config/makefile.win, config/makefile.ztc: Updated list ob object
	files, dependencies.

	* docs/Makefile.in: Add AmigaGuide(r) format (commented out for now).

	* src/Makefile.am, src/Makefile.maint: Remove gpltconv.c. Add new
	files to gnuplot_SOURCES.

	* src/set.c(set_command): Add backwards compatibility for old
	command syntax.

1999-11-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/doc2x.h, src/alloc.c, src/alloc.h, src/binary.c, src/binary.h,
	src/bitmap.c, src/bitmap.h, src/command.c, src/command.h,
	src/contour.c, src/contour.h, src/datafile.c, src/datafile.h,
	src/eval.c, src/eval.h, src/fit.c, src/fit.h, src/gp_time.h,
	src/graph3d.c, src/graph3d.h, src/graphics.c, src/graphics.h,
	src/help.c, src/help.h, src/internal.c, src/internal.h,
	src/interpol.c, src/interpol.h, src/matrix.c, src/matrix.h,
	src/misc.c, src/misc.h, src/parse.c, src/parse.h, src/plot.c,
	src/plot.h, src/plot2d.c, src/plot2d.h, src/plot3d.c, src/plot3d.h,
	src/protos.h, src/readline.c, src/readline.h, src/save.c, src/save.h,
	src/scanner.c, src/scanner.h, src/set.c, src/setshow.h, src/show.c,
	src/specfun.c, src/specfun.h, src/standard.c, src/standard.h,
	src/stdfn.c, src/stdfn.h, src/tables.c, src/tables.h, src/term.c,
	src/term_api.h, src/time.c, src/unset.c, src/util.c, src/util.h,
	src/util3d.c, src/variable.c, src/variable.h, term/gif.trm,
	term/linux.trm: Further modularisation.

	* src/dynarray.c, src/dynarray.h: New files for generic dynamic
	array handling.

	* src/hidden3d.c, src/hidden3d.h: Integrate completely rewritten
	version into gnuplot sources.

1999-11-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/gpltconv.c: Add `set nolinestyle'.

	* term/post.h: Comment after #endif statement.

1999-11-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Remove all doc2info and doc2html related targets.
	Use makeinfo for both info and html targets.

	* docs/doc2html.c, docs/doc2info.c, docs/fixinfo.el: Remove. 

	* src/Makefile.maint: Comment out version.c target.

	* src/hidden3d, src/save.c: Fix writing of save files with new
	syntax.

	* src/save.c, src/show.c: In the SAVE/SHOW_NUM_OR_TIME macro, add a
	'#' to the format specifier in the fprintf() call. This adds a decimal
	point to the saved 'set ?range' commands to prevent integer overflow
	on 16 bit platforms when the saved commands are loaded.

	* src/unset.c: Fix bug in unset style command.

1999-10-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Remove doc2texi.pl from EXTRA_DIST.

	* docs/doc2texi.pl: Remove.

1999-10-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.amg: Updated.

	* docs/Makefile.in: Cosmetic changes, add another html target
	for makeinfo-4.0.

	* docs/doc2texi.el: Latest version from Bruce.

	* docs/gnuplot.texi: Regenerated.

	* src/alloc.c, src/bf_test.c, src/binary.c, src/bitmap.c,
	src/command.c, src/contour.c, src/datafile.c, src/eval.c, src/fit.c,
	src/graph3d.c, src/graphics.c, src/help.c, src/hidden3d.c,
	src/internal.c, src/interpol.c, src/matrix.c, src/misc.c,
	src/parse.c, src/plot.c, src/plot2d.c, src/plot3d.c, src/readline.c,
	src/save.c, src/scanner.c, src/set.c, src/show.c, src/specfun.c,
	src/standard.c,	src/term.c, src/time.c, src/unset.c, src/util.c,
	src/util3d.c, src/variable.c, src/version.c: Add include statements.

	* src/bf_test.c, src/bitmap.h, src/command.h, src/gplt_x11.c,
	src/graph3d.c, term/eepic.trm, term/gpic.trm, term/hp26.trm,
	term/hpljii.trm, term/imagen.trm, term/latex.trm, term/t410x.trm:
	Add or edit function prototypes.

	* src/binary.h, src/gpltconv.c: Minor changes.

	* src/fit.c, src/graph3d.c: Rename some local index variables to
	eliminate variable shadowing.

	* src/plot.h: Comment out most include statements.

	* src/plot2d.c(eval_plots): Use table for smooth and axes option
	parser.

	* src/show.c(show_style): Use table for style options parser.

	* src/tables.c, src/table.h: New tables and enums for new parser.

1999-10-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Latest version.

	* configure.in: Better test for whether math library is needed.

	* src/plot2d.c: Rename variables, move some code into different
	places.

	* src/tables.c, src/tables.h: Add table for plot axes/axis option.

1999-10-20  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/buildvms.com, config/makefile.vms: Update VMS build
	procedures.

1999-10-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.win, src/plot.h: Updated for newer Borland
	compilers.

	* src/graph3d.c: Fix for 'set key below' bug.

	* src/win/pgnuplot.c: Updated.

	* src/win/wgnuplot.def: Reduce stacksize to avoid 'DGROUP exceeds 64K'
	problem.

1999-10-19  Thomas Sefzick  <t.sefzick@fz-juelich.de>, Matt Willis <mattbwillis@my-deja.com>

	* term/tkcanvas.trm: Some updates and bug fixes.

1999-10-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/plot.c: Rename GNUPLOT_HISTORY_FILE to "~/.gnuplot_history".

	* src/syscfg.h: Fix for missing unix define on NetBSD.

1999-10-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc: Remove superfluous spaces in loadpath and
	splot_overview entries.

	* lisp/acinclude.m4: Reverse order of -q and -batch command line
	options	for Emacs invocation.

	* src/help.c(ShowSubtopics): Better formatting of long subtopic
	index entries. Another bugfix in COLUMN_HELP code.

	* term/pslatex.trm: Add some comments, streamline code, rename
	variables. Fix segfault when `auxfile' option is unused.

1999-10-11  Eric S. Raymond  <esr@thyrsus.com>

	* demo/airfoil.dem, demo/animate.dem, demo/binary.dem,
	demo/controls.dem, demo/electron.dem, demo/fit.dem, demo/hidden.dem,
	demo/mgr.dem, demo/param.dem, demo/polar.dem, demo/prob.dem,
	demo/prob2.dem, demo/scatter.dem, demo/simple.dem, demo/spline.dem,
	demo/steps.dem, demo/surface1.dem, demo/surface2.dem, demo/timedat.dem,
	demo/using.dem: Demo directory cleanup patch. Box a bunch of legends
	and use reset instead of ad-hoc set statements.

	* src/graphics.c, src/graphics.h: Introduce exclusion box for keys.

1999-10-11  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/bitmap.c, term/png.trm: Fix some shortcomings of ESR's png
	patches.

	* src/plot2d.c: Bugfix for logscale plots with unused y2 axis.

1999-10-11  Thomas Sefzick  <t.sefzick@fz-juelich.de>

	* term/tkcanvas.trm: Bugfix, comments added.
	
1999-10-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: Add pdf target.

	* docs/doc2ms.c: Use TBOOLEAN instead of boolean.

	* src/Makefile.am: Add new header files to gnuplot_SOURCES.

	* src/bitmap.c, src/bitmap.h: Move struct rgb web_color_rgbs[] here
	from term/gif.trm.

	* src/readline.c: Minor cleanup.

	* src/save.c: Start moving `save' output to new syntax.

	* src/term.c: New function int termcount().

	* term/gif.trm: Edit comments about gd library.

	* tutorial/Makefile.am.in: Use the newly built gnuplot executable
	in the .plt.tex rule.

1999-10-01  Eric S. Raymond  <esr@thyrsus.com>

        * term/gif.trm, term/png.trm: Remove RGB colour table from gif.trm,
        let both drivers share the table in bitmap.c.

        * term/png.trm: Add transparency support for color images. Update
        for pnglib-1.0.3.

1999-10-01  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* INSTALL, make_vms.com: Make VMS builds easier and add note
	about make_vms.com to INSTALL.

1999-10-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.dj2, config/makefile.mgw, config/makefile.tc,
	config/makefile.win: Updated.

	* docs/doc2x.h, docs/termdoc.c: Cleanups by HBB.

	* src/bf_test.c, src/bitmap.c, src/bitmap.h, src/command.c,
	src/command.h, src/datafile.c, src/datafile.h, src/eval.c, src/fit.c,
	src/fit.h, src/graph3d.c, src/graphics.c, src/graphics.h, src/help.h,
	src/hidden3d.c, src/internal.c, src/interpol.c, src/matrix.c,
	src/matrix.h, src/misc.c, src/parse.c, src/plot.c, src/plot.h,
	src/plot2d.c, src/plot3d.c, src/protos.h, src/save.c, src/scanner.c,
	src/set.c, src/setshow.h, src/specfun.c, src/standard.c, src/stdfn.c,
	src/stdfn.h, src/term.c, src/time.c, src/unset.c, src/util.c,
	src/util3d.c, src/util3d.h, src/variable.c, src/variable.h,
	src/win/pgnuplot.c, src/win/winmain.c: Include header files, move
	declarations to header files, add static declarations, for better
	modularisation. Minor fixes.

	* src/contour.h, src/eval.h, src/gp_time.h, src/graph3d.h,
	src/hidden3d.h, src/internal.h, src/interpol.h, src/misc.h,
	src/plot2d.h, src/plot3d.h, src/readline.h, src/save.h, src/scanner.h,
	src/specfun.h, src/standard.h, src/template.h, src/term_api.h:
	New header files for better modularisation.

	* term/ai.trm, term/cgm.trm, term/compact.c, term/corel.trm,
	term/driver.h, term/dxf.trm, term/eepic.trm, term/epson.trm,
	term/gif.trm, term/gpic.trm, term/hp26.trm, term/hpljii.trm,
	term/imagen.trm, term/latex.trm, term/metapost.trm, term/mif.trm,
	term/post.h, term/post.trm, term/pstricks.trm, term/t410x.trm,
	term/texdraw.trm, term/tpic.trm, term/win.trm, term/x11.trm: Add
 	static qualifiers where required. Minor fixes.

1999-09-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Latest version from Juergen.

	* configure.in: Fixes for NeXT. Use AC_FUNC_SELECT unconditionally now.

	* config/Makefile.am.in: Remove descrip.mms from EXTRA_DIST.

	* m4/select.m4: Updated with suggestions from the autoconf mailing
	list. Should now work with K&R compilers too.

	* src/Makefile.am: Remove EXTRA_gnuplot_SOURCES = @NEXTOBJS@.

	* src/command.c: Rewrite command() to directly call command parse
	functions through lookup function pointer. Make parse functions non-
	static. Move parse function prototypes to command.h.

	* src/command.c, src/readline.c: Add Petr Mikulik's implementation
 	of the new `history' command for the builtin readline function.

	* src/command.h: Parse function prototypes moved from command.c.

	* src/gplt_x11.c(record): Too many args for read_input().

	* src/interpol.c, src/plot.h, src/plot2d.c: Prefix 'plot smooth'
	options with 'SMOOTH_'.

	* src/plot.c: Update to GNU readline glue from Thomas Walter.

	* src/plot2d.c(eval_plots): Table parser for 'plot smooth' options.

	* src/protos.h: Update function prototypes.

	* src/syscfg.h: Add new FAQ location.

	* src/tables.c, src/tables.h: New table and lookup function for
	tables with function address as value. New table for 'plot smooth'
	options.
	
1999-09-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c(get_data): Check for minimum and maximum number of
	required data columns.

1999-09-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Latest version from Juergen.

	* INSTALL: VMS section updated according suggestion from
	Rolf Niepraschk <niepraschk@ChbRB.berlin.ptb.de>.

	* configure.in: Get rid of AC_SUBST(NEXTOBJS), which is apparently
	not required anymore.

	* config/makefile.*: New .c files and rules added.

	* docs/gnuplot.doc: Docs for 'set cntrparam' fixed following
	suggestion from HBB.

	* lisp/gnuplot-gui.el, lisp/gnuplot.el, lisp/gpelcard.tex: Updated
	to current version from Bruce.

	* m4/next.m4: Remove NEXTOBJS.

1999-09-21  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graph3d.c: Fix splot zeroaxis misbehaviour (reversed
	'set {x|y}zeroaxis').

1999-09-21  Dick Crawford  <u600256@gamma.lanl.gov>

	* src/term.c(test_term): Fix bug with plotting before line properties
	are specified completely.

1999-09-21  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/buildvms.com: Updated.

	* config/descrip.mms: Removed. See INSTALL.

1999-09-21  Daniel H. Luecking  <luecking@comp.uark.edu>

	* term/metapost.trm: Updated.

1999-09-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c, src/plot.c, src/readline.c, src/os2/dialogs.c,
	src/os2/dialogs.h, src/os2/gclient.c, src/os2/gnupmdrv.h,
	src/os2/gnupmdrv.ipf, src/os2/gnupmdrv.rc: Updated and improved
	OS/2 mouse mode.

1999-09-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Do not install bf_test and gpltconv.

	* src/show.c: Add additional beta info.

1999-08-25  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* INSTALL: VMS section updated.

1999-08-25  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* docs/gnuplot.doc, src/command.c, src/protos.h, src/save.c, src/set.c,
	src/tables.c, src/tables.h: 'save term' patch.

	* src/alloc.c, src/alloc.h, src/fit.c, src/graphics.c: Minor fixes.

	* term/post.trm: Options string violated the 'save loadable output'
	rule.

1999-08-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/gpltconv.c: Rewrite to allow more general approach for string
	replacement.

	* src/plot.c: Fix off-by-one error in tilde expansion code.

	* src/set.c, src/setshow.h: Static prototype for set_lp_properties()
	now in set.c.

	* src/term.c: Include tables.h.

	* term/ai.trm, term/amiga.trm, term/be.trm, term/cgm.trm,
	term/corel.trm, term/djsvga.trm, term/dumb.trm, term/epson.trm,
	term/fig.trm, term/fig.trm, term/gnugraph.trm, term/imagen.trm,
	term/latex.trm, term/metapost.trm, term/mif.trm, term/next.trm,
	term/openstep.trm, term/openstep.trm term/png.trm, term/post.trm,
	term/pslatex.trm, term/tkcanvas.trm, term/win.trm, term/x11.trm:
	Parser rewrite to use tables.

1999-08-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Change check for plotcompat.h in configuration report.

	* docs/Makefile.in: Add existing TEXINPUTS variable to latex calls.

	* m4/path-hdr.m4, m4/path-lib.m4: Add 'else' part in if statement to
	avoid side effects.

1999-08-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am, src/Makefile.maint, src/makefile.all: Add new
	files gpltconv.c and unset.c.

	* src/command.c: Add new 'unset' command.

	* src/gpltconv.c: New program to convert old script files to
	new command syntax.

	* src/set.c: Remove all set_no* related cases and functions.

	* src/setshow.h: Updated to reflect changes in set/unset commands.

	* src/show.c: Remove show_data() and show_func(). Fixes.

	* src/tables.c, src/tables.h: Add unset command, remove 'set novar'
	related stuff.

	* src/unset.c: New file to implement 'unset' command.

1999-08-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* FAQ: Updated to latest version from Juergen.

	* demo/airfoil.dem: Use 'set nozeroaxis' instead of 'set nozero'.

	* docs/gnuplot.doc, set.c, show.c: Remove 'set data', 'set function',
	'set linestyle' commands (but keep 'set nolinestyle' for now). Replace
	with 'set style data|function|line'.

	* src/hidden3d.c(set_hidden3doptions): Rewrite to use
	table-oriented parser.

	* src/plot.h, src/plot2d.c, src/plot3d.c, src/setshow.h: Remove
	LP_PARSE macro. Now a function in set.c.

	* src/plot2d.c: Rearrange some code.

	* src/set.c: Extensive 'set' command parser restructuring.

	* src/syscfg.h: New FAQ location.

	* src/tables.c, src/tables.h: New table for 'plot', 'set hidden3d',
	'set key', plot style options.

	* src/term.c(term_start_multiplot,term_end_multiplot): Increment
	c_token (was previously done in set.c).

	* src/variable.h: Rename set_loadpath to set_var_loadpath and
	set_locale to set_var_locale.

	* tutorial/Makefile.am.in: Use TEXINPUTS variable from environment.
	
1999-08-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc: Fix inconsistencies (command is set/show bars,
	not bar).

	* src/set.c(set_command), src/show.c(show_command): Re-import correct
	message string.

	* src/setshow.h: Remove show_version_long() prototype and
	SETSHOWMSG define.

	* src/show.c: Extensive 'show' command parser restructuring.

	* src/tables.c(set_tbl): Add "no" variables.

	* src/tables.h(set_id): Add missing values.

	* src/variable.h: Remove show_* defines, now functions in show.c.

1999-08-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/command.c: Add missing parser functions and cases. Remove
	command_tbl, lookup_command().

	* src/command.h: CAPTURE_FILENAME_AND_FOPEN() macro moved from
	command.c.

	* src/setshow.h: Remove enum setshow_id.

	* src/show.c: Remove show_tbl. Remove lookup_show() and replace
	with call to lookup_table().

	* src/tables.c: Add set_tbl for set and show commands.

	* src/tables.h: New enum set_id to replace setshow_id from setshow.h.

1999-08-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/Makefile.in: check target must depend on all target.

	* src/Makefile.am, src/makefile.all: Add new files tables.c, tables.h
	to gnuplot_SOURCES.

	* src/command.h: enum command_id moved to tables.h.

	* src/tables.c, src/tables.h: New files for table lookup structures
	and functions.

1999-07-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Add new file save.c to gnuplot_SOURCES.

	* src/command.h, src/graphics.h: Remove duplicate AXIS_ARRAY_SIZE
	#define.

	* src/datafile.c(df_open): Fix coredump opening empty filename.

	* src/datafile.c: Split plot option parser into smaller functions.

	* src/datafile.c: valid_format() moved from misc.c.

	* src/misc.c: Move all `save' related functions and definitions
	to save.c. Move all `show' related functions and definitions to
	show.c. Move valid_format() to datafile.c.

	* src/protos.h: Update prototype declarations.

	* src/save.c: New file, `save' related functions from misc.c.

	* src/setshow.h: <sys/utsname> inclusion moved to show.c.

	* src/show.c: Include <sys/utsname>. Functions moved from misc.c.

	* src/show.c(conv_text): Now uses internal, malloc'd but statically
	referenced memory for conversion target.

	* term/driver.h: Remove extern references to xsize, ysize.

1999-07-27  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* README.1ST: Add note about gif support/gd library.

	* m4/path-hdr.m4, m4/path-lib.m4: Change search order for directories.
	--with-* options must have precedence.

	* src/command.c: Split command() into smaller functions to prepare
	for parser improvement.

	* src/command.h: Remove CMD_QUIT (same as CMD_EXIT).

	* src/fit.c, src/protos.h: Rename do_fit() to fit_command().

	* src/show.c: Fix typos.

	* src/term.c(test_term): Increment c_token (moved from command.c).

	* term/gif.trm: Add further notes about gd library.

1999-07-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/term.c(test_term): Right-justify the output of the 'test tics'
	string.

	* src/src/win/wgnuplib.h, src/win/winmain.c, src/win/wtext.c:
	Fix crash that happens when 16bit wgnuplot is terminated via
	Windows-close operations.

1999-07-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/command.c: Add history command to table, remove duplicate
	entry.

	* src/plot.h: Add some global variables from command.c.

	* src/plot2d.c, src/plot3d.c, src/set.c, src/show.c: Remove
	references to global variables, now in plot.h.

	* src/show.c: Add table for `show' commands. Remove simple one-line
	functions and reimplement as #define's. Merge show_one() and
	show_two() back into show_command(). Add function for table-lookup.

	* src/util.c(m_capture,m_quote_capture): Don't free() string pointer,
	use gp_realloc() instead of gp_alloc().

1999-07-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/command.c: Pass command string to be executed by system() to
	do_system() as argument.

	* src/command.c(command): Use dynamic memory to hold string for
	`pause' command.

	* src/command.c(command), src/command.h: Add modified version of
	Petr Mikulik's `system' patch (new command).

	* src/plot.h: Reference extern constants from version.c.

	* src/plot2d.c: Reformatting. Add missing cases in switch statements.

	* src/setshow.h, src/show.c: Restructure `show' command parser to
	use table lookup.

	* term/Makefile.am.in: Add post.h to EXTRA_DIST.

	* term/ai.trm, term/mif.trm, term/png.trm, term/post.trm: Remove
	declarations vor version.c constants (now in plot.h).

1999-07-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Add new file parse.h.

	* src/command.c(command): Restructure command parser in command.c
	to use command table. New function lookup_command().

	* src/command.h: Add new enum type for gnuplot commands.

	* src/graph3d.c: Comment out unused variables.

	* src/parse.h: New file.

	* src/plot.c: Function init_memory() moved over from command.c.

	* src/plot.h: Move enum operators, struct at_entry and struct at_type
	to parse.h. Include parse.h.

	* src/protos.h: Remove init_memory() prototype.

1999-07-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c: Swap usage of axis_zero[SECOND_X_AXIS] and
	axis_zero[SECOND_X_AXIS].

1999-07-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.os9: Fix support for current directory structure.

	* docs/doc2hlp.c, docs/doc2html.c, docs/doc2ipf.c, docs/doc2ms.c,
	docs/doc2rnh.c, docs/doc2rtf.c, docs/doc2tex.c, docs/doc2x.h,
	docs/termdoc.c: Use TBOOLEAN instead of boolean.

	* src/gplt_x11.c: Remove disfunctional code using poll(2).

	* src/hidden3d.c(plot3d_hidden): Revert to previous version of code.

	* term/pbm.trm, term/png.trm: Move defines outside TERM_BODY
	definition.

	* term/pslatex.trm: Include post.h.

	* term/post.h: New file.

	* term/post.trm: Move defines and variable declarations to new
	post.h header file.

1999-07-09  John W. Eaton  <jwe@bevo.che.wisc.edu>

	* src/gplt_x11.c: gnuplot_x11.c does not appear to read input
	in some cases, possibly related to input buffering by fgets().
	See http://www.che.wisc.edu/octave/mailing-lists/help-octave/1998/88
	for details.

1999-07-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/win/pgnuplot.c: New, improved version by Craig R. Schardt.

1999-07-08  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/makefile.vms: Add defines to compiler flags.

	* src/command.c, src/plot.c: Add include statements for VMS.

	* src/fit.c(Dblfn): Use the correct format strings for fprintf().

	* src/protos.h, src/scanner.c: Fix scanner() prototype.

	* src/util.c(lower_case): char *p now signed.

1999-07-07  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: Add -DHAVE_STRCSPN to CFLAGS.

	* src/command.c: Reorder some statements.

1999-07-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.djg, src/ctrl87.c, src/ctrl87.h: Removed. Drop
	support for obsolete DJGPP version 1.

	* src/Makefile.am, src/Makefile.in, src/Makefile.maint, src/plot.c:
	Remove support for DJGPP version 1.

1999-07-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc, src/command.c: Allow "-" for stdout as filename
	in `save' command.

	* src/protos.h, src/term.c, src/version.c: More const qualifiers.

1999-07-04  Albert Chin-A-Young  <china@thewrittenword.com>

	* src/command.c, src/time.c: Bring "%y" date format interpretation
	in line with Open Group recommendations wrt Y2K.

1999-06-29  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/makefile.vms: More improvements.

	* term/x11.trm: Fix argument passing to gnuplot_x11 on VMS.

1999-06-25  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: Updated for renamed configure macros.

	* configure.in: Changed for new GP_PATH_LIB macro, which replaces
	GP_SEARCH_LIBDIRS.

	* m4/path-llib.m4: New macro file, replaces search-lib.m4.

	* src/Makefile.am: Add OpenStep directory and x11.opt to EXTRA_DIST.

1999-06-25  Leigh Smith  <leigh@tomandandy.com>

	* src/OpenStep/: New files for complete MacOS X Server port.

1999-06-25  John Hasstedt  <manager@nuclear.physics.sunysb.edu>

	* config/makefile.vms: Updated to work with mmk and build gnuplot_x11,
	fixes.

	* docs/doc2hlp.vms: Removed, functionality is now in makefile.vms.

	* src/gnuplot.opt: Updated.

	* src/scanner.c: Some changes in the VMS parts.

	* src/x11.opt: New file for VMS.

1999-06-25  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in, m4/*.m4: All gp_* macros renamed to GP_*.

	* term/cgm.trm, term/fig.trm, term/gif.trm, term/metafont.trm,
	term/metapost.trm, term/mif.trm, term/post.trm, term/pstricks.trm:
	Add more const qualifiers to reduce compiler warnings.

1999-06-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/bitmap.c, src/bitmap.h: Add const qualifier to char * arg in
	b_put_text().

	* src/command.c(do_help), src/fit.c(fit_interrupt),
	src/gplt_x11.c(preset), src/graph3d.c(do_3dplot),
	src/help.c(ShowSubtopics), src/plot2d.c(parametric_fixup): Replace
	calls to sprintf() with strcpy() and strcat().

	* src/graphics.c, src/graphics.h: Fix a couple of off-by-one
	gp_alloc() errors recently introduced by me. Make gprintf() global.

	* src/term.c(list_terms): Make static array dynamic. Use strcpy()
 	instead of sprintf().

	* term/README, term/*.trm: Change third argument to all *_put_text()
	functions to const char *, in line with the definition of struct
	termentry in plot.h. Make argument to *_set_font const.

	* term/amiga.trm: Replace static arrays for AMIGA_FontName and
	temporary arrays with AllocMem()'d memory.

	* term/post.trm, term/tgif.trm, term/tpic.trm: Replace fprintf() with
	fputs() in many places.

1999-06-21  Albert Chin-A-Young  <china@thewrittenword.com>

	* configure.in, docs/Makefile.in, term/gnugraph.trm: Use plotcompat.h
	header file from GNU plotutils 2.2 for backwards compatibility instead
	of our own code.

1999-06-21  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/gclient.c: Do not transfer focus to the icon of minimized
	gnupmdrv.

1999-06-20  William D Kirby  <wdkirby@ix.netcom.com>

	* config/makefile.cyg: Modified for new directory structure.

	* src/scanner.c(substitute): Fix function args for non-Unix compilers.

1999-06-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Add test for strcspn().

	* src/Makefile.am: stdfn.c not required for gnuplot_x11 anymore.

	* src/Makefile.maint, src/show.c, src/version.c: Rename version to
	gnuplot_version, rename patchlevel and date accordingly.

	* src/binary.c, src/bitmap.c, src/command.c, src/contour.c,
	src/datafile.c, src/eval.c, src/fit.c, src/graphics.c, src/hidden3d.c,
	src/misc.c, src/parse.c, src/plot2d.c, src/plot3d.c, src/readline.c,
	src/scanner.c, src/set.c, src/setshow.h, src/util.c, src/util.h:
	Don't cast first arg to gp_alloc() and second arg to gp_realloc().
	Change some declarations from int to size_t, add const qualifiers.

	* src/fit.c, src/fit.h: New variadic function Dblfn() to replace
	Dblf*() defines.

	* src/gplt_x11.c: Back to use strncpy() instead of safe_strncpy(), so
	that we don't need to link with stdfn.o.

	* src/help.c: Use strcspn() instead of instring(). Fix bug in row
	sorting part in ShowSubtopics().

	* src/matrix.c: Include plot.h.

	* src/misc.c: Remove instring() function.

	* src/plot.c, src/plot.h: Replace IO_ERROR/IO_SUCCESS with
	EXIT_FAILURE/EXIT_SUCCESS, resp.

	* src/protos.h: Add prototype for gp_strcspn().

	* src/stdfn.c, src/stdfn.h: Add new function gp_strcspn() as
	replacement for instring().

	* term/*.trm: Prepare function definitions for transition to ANSI C.

1999-06-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Add check for strdup().

	* src/ansichek.h: ANSI_C was only defined for non-autoconf platforms.

	* src/graph3d.c: Remove duplicate functions CheckLog() and LogScale().

	* src/graph3d.c(do_3dplot), src/graphics.c(do_plot): Remove static
	array char ss[]. Replace with malloc'd memory where necessary, and
	use write_multiline() without temporary strings (see change in
	graphics.c(write_multiline) below).

	* src/graphics.c: Make CheckLog() and LogScale() global. Make
	graph_error() variadic.

	* src/graphics.c(boundary): Make other necessary changes to complete
	HBB's floating point inaccuracy patch.

	* src/graphics.c(write_multiline): Do not mangle the char *text
	argument. With this change, write_multiline() can operate on text
	strings directly without the need to use temporary storage. Let it
	return directly if text string is NULL or empty.

	* src/graphics.c(label_width): Make char lab[] dynamic.

	* src/help.c, src/misc.c, src/plot.c, src/readline.c, src/term.c,
	src/variable.c: Use new gp_strdup() function.

	* src/help.c(ShowSubtopics): Fix bug in M. Gardner's help formatting
	patch.

	* src/util.c: New gp_strdup() function, uses strdup() if available.

1999-06-17  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/hidden3d.c: Fix bug in 3d plot positioning.

1999-06-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Add new header file datafile.h.

	* src/alloc.c, src/alloc.h, src/fit.c, src/graph3d.c, src/graphics.c,
	src/misc.c, src/set.c, src/util.c, src/util.h: Add const qualifier to
	function and variable declarations.

	* src/bf_test.c: Fix int_error() calls.

	* src/datafile.h: New header.
	
	* src/graphics.h: Move graphics.c function prototypes from protos.h.

	* src/plot.h: Include datafile.h.

	* src/plot2d.c, src/plot3d.c, src/scanner.c: Remove duplicate STDOUT
	define.

	* src/protos.h: Move graphics.c function prototypes to graphics.h.

	* src/variable.h: Remove superfluous ';'.

1999-06-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/graphics.c(boundary): Fix bug introduced by floating point
	inaccuracy ("Postscript Multiplot bug" thread on bug-gnupot).

1999-06-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* CodeStyle, TODO: Updated.

	* docs/*.c: Add RCSid's, move function return types to separate
	line for ansi2knr.

	* src/Makefile.am: Remove TERMLIBS, TERMXLIBS (automatically added
	by automake).

	* src/bitmap.c, src/bitmap.h, src/datafile.c, src/fit.c, src/graph3d.c,
	src/hidden3d.c, src/misc.c, src/parse.c, src/term.c: Move inclusion of
	command.h to plot.h.

	* src/command.c, src/command.h, src/graphics.c, src/graphics.h,
	src/util.c: Cleanup, move declarations and defines to the resp. header
	file.

	* src/interpol.c, src/plot2d.c, src/plot3d.c: Remove unused define.

	* src/plot.c: Move declarations and defines to header files.

	* src/plot.h: Add declarations and header file inclusions.

	* src/protos.h: Move function declarations to new header files.

	* src/set.c: Re-add variable declarations, remove set_locale().

	* src/setshow.h: Remove reference to global cur_locale variable.

	* src/show.c: Remove show_locale() function.

	* src/util.h, src/util3d.c: New header files.
	
	* src/variable.c, src/variable.h: Add new locale_handler() function.

	* term/mac.trm: Split long line in terminal help.

	* term/vws.trm: Remove nested extern function declaration.

1999-06-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.am: Add AM_CPPFLAGS (hard-wired flags for CPP and CC).
	Remove explicit targets, doesn't work with ansi2knr.

	* term/pslatex.trm: Fix auxiliary ps filename creation, strip pathname
	off filename written to LaTeX file.

1999-06-12  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* term/png.trm: Add note about default output size to terminal help.
	
1999-06-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.maint: Add configure options to my-distcheck.

	* docs/Makefile.in: Better way to build allterm.h.

	* docs/doc2rnh.c: Remove nested comment.

	* src/Makefile.am: Add ansi2knr stuff, include makefile.all. Add
	new files command.h, graphics.h, remove fnproto.h.

	* src/Makefile.maint: Add ansi2knr.

	* src/ansi2knr.c, srcansi2knr.1: New files from automake distribution,
	to prepare for transparent compilation of ANSI/ISO C with K&R
	compilers.

	* src/command.c, src/datafile.c, src/fit.c, src/graph3d.c,
	src/graphics.c, src/hidden3d.c, src/interpol.c, src/misc.c, src/plot.h,
	src/plot2d.c, src/plot3d.c, src/set.c, src/setshow.h, src/util3d.c:
	Move some declarations to command.h and graphics.h.

	* src/command.h, src/graphics.h: New header files.

	* src/fnproto.h: Removed.

	* src/internal.c, src/specfun.c, standard.c: Don't include fnproto.h.

	* src/parse.c, src/plot.c, src/show.c, src/term.c: Include command.h.

	* src/protos.h: Add contents of fnproto.h.

1999-06-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Codestyle: Add note about #error and #warning directives.

	* configure.in: Remove errorfix stuff.

	* src/Makefile.maint: Remove Makefile.in target.

	* src/bf_test.c, src/stdfn.c, src/variable.c: Indentation.

	* src/gplt_x11.c, src/stdfn.h, src/time.c, term/cgm.trm: Make
	strncasecmp() default instead of strnicmp().

	* src/help.c, src/plot.h, src/set.c, src/syscfg.h, src/term.c: Remove
	#error and #warning directives.

	* term/pm.trm: Minor fixes.

1999-06-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Use TERMLIBS instead of LIBS in readline test.
	Use AM_CONDITIONAL for BeOS build.

	* m4/beos.m4: Replace GNUPLOT_BE with build_src_beos_subdir.

	* src/Makefile.am: New file.

	* src/Makefile.maint: Remove Makefile.in target.

	* src/beos/Makefile: Add some variables and targets required for
	'make dist'.

	* src/command.c(command): Remove a few static arrays.

	* term/metapost.trm, term/tkcanvas.trm: Comment out some unused vars.

	* term/vws.trm: Remove nested comment.

1999-06-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* demo/contours.dem, demo/singulr.dem, demo/surface2.dem,
	demo/world.dem: Adjust to new 'set view <z_scale>' method.

	* src/graph3d.c(boundary3d, do_3dplot): Suppress calculation of
	key_cols and key_rows if key is empty. Fix 'set view <z_scale>'.

1999-06-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/ChangeLog, lisp/gnuplot.el: Updated to 0.5g.

	* lisp/acinclude.m4: Latest lispdir.m4 from automake-cvs.

	* lisp/aclocal.m4, lisp/configure: Regenerated.

	* src/alloc.h: src/binary.h, src/bitmap.h, src/fnproto.h, src/help.h,
	src/national.h, src/protos.h, src/setshow.h: Protect against multiple
	inclusion.

	* term/mac.trm: Rearrange to match terminal layout guidelines.

	* tutorial/header.tex: Add comment about LaTeX warning.

1999-06-08  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* src/set.c(get_style): Add new errorlines styles to error message.

1999-06-07  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/gif.trm(GIF_graphics): Fix off-by-one error in y-scaling.

1999-06-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/alloc.c: Indentation.

	* src/command.c, src/datafile.c, src/plot.c, src/protos.h, src/set.c:
	Pass only one arg to gp_expand_tilde.

	* src/datafile.c(df_open): More efficient code to allocate memory
	for data file name.

	* src/time.c: Fix int_* calls.

	* src/variable.c: In ACTION_GET, handle loadpath == NULL case.

	* term/tkcanvas.trm: Remove "nested extern" declarations.

1999-06-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/Makefile.am.in: 'make check' now passes GNUTERM from
	the command line to gnuplot.

	* src/eval.c, src/fit.c, src/plot.h: Remove static limit for name
	of user defined functions and variables.

1999-06-04  Allin Cottrell  <cottrell@ricardo.ecn.wfu.edu>

	* term/latex.trm: Changed to make embedding document font
	the default font.

1999-06-03  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* PORTING: More descriptive entries for ANSI_C, OS/2.

	* config/makefile.os2, src/command.c, src/stdfn.h, src/term.c:
	Patches for OS/2.

	* src/util.c: Another typo fixed.

1999-06-03  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2: Remove comment.

	* src/os2/gnupmdrv.rc: Add define and include file.

	* src/readline.c: Two minor changes in the USE_MOUSE code.

1999-06-03  David Dyck  <dcd@tc.fluke.com>

	* src/util.c: Fix VPRINTF/VFPRINTF typos.

1999-06-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/Makefile.in: Add -I$(srcdir) to INCLUDES.

	* src/command.c(replotrequest): On a ';' separated command line,
	everything after 'replot' was ignored if 'replot' was used with
	no arguments.

	* src/util.c(lower_case): Argument to tolower() is type int.

	* src/variable.c(loadpath_handler): K&Rify function prototype,
	use memmove() instead of strncpy() in ACTION_SET because objects
	may overlap.

	* src/tkcanvas: Now compiles with SunOS/cc.

1999-05-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* aclocal.m4, configure: Regenerated.

	* m4/apple.m4: Remove unnecessary line.

	* src/Makefile.maint: Cosmetic changes.

	* src/alloc.c, src/binary.c, src/bitmap.c, src/command.c,
	src/datafile.c, src/eval.c, src/fit.c, src/graphics.c, src/hidden3d.c,
	src/internal.c, src/interpol.c, src/misc.c, src/parse.c, src/plot.c,
	src/plot2d.c, src/plot3d.c, src/readline.c, src/scanner.c, src/set.c,
	src/show.c, src/standard.c, src/term.c, src/util.c, term/atariaes.trm,
	term/atarivdi.trm, term/cgi.trm, term/emxvga.trm, term/epson.trm,
	term/fig.trm, term/gif.trm, term/hp500c.trm, term/hpgl.trm,
	term/hpljii.trm, term/hppj.trm, term/imagen.trm, term/iris4d.trm,
	term/linux.trm, term/multitos.trm, term/pbm.trm, term/png.trm,
	term/rgip.trm, term/tgif.trm, term/x11.trm: Adjust calls to
	os_error(), int_error() and int_warn() to new prototype declaration.

	* src/help.c: Replace calls to malloc() with gp_alloc().

	* src/protos.h: New prototype declarations for os_error(), int_error()
	and int_warn().

	* src/util.c: Error and warning functions os_error(), int_error()
	and int_warn() are now variadic if supported by the runtime. This
	eliminates about a dozen small static arrays throughout the sources.
	Code more readable now with some new macros.

1999-05-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config.hin, configure: Regenerated.

1999-05-30  Mark K. Gardner  <mkgardne@cs.uiuc.edu>

	* README.exp, configure.in, src/help.c: Format help and subtopic
	tables by row or column.

1999-05-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/buildvms.com, config/makefile.286, config/makefile.amg,
	config/makefile.ami, config/makefile.dj2, config/makefile.djg,
	config/makefile.emx, config/makefile.g, config/makefile.msc,
	config/makefile.msw, config/makefile.mto, config/makefile.st,
	config/makefile.tc, config/makefile.unx, config/makefile.vms,
	config/makefile.wc, config/makefile.win, config/makefile.ztc: Added
	rules for new files variable.[ch].

	* config/term_pc.h: Fix typo.

	* demo/Makefile.am.in: Demonstrate use of GNUPLOT_LIB variable in
	check-interactive and check-noninteractive targets.

	* src/command.c(command): Use loadpath_fopen() instead of fopen()
	for `call` and `load` commands.

	* src/datafile.c(df_open): Use loadpath_fopen() instead of fopen()
	to open data file. Fix typo.

	* src/fit.c(do_fit,update): Use loadpath_fopen() instead of fopen()
	to open parameter files.

	* src/genopt.com, src/graphics.c: Fix typo.

	* src/gnuplot.opt, src/gnuplot.prj, src/linkopt.ztc: Add new file
 	variable(.c).

	* src/misc.c, src/protos.h: New function loadpath_fopen();

	* src/plot.c(main): Use loadpath_fopen() instead of fopen() to
	open files named on the command line.

	* src/util.c(m_quote_capture): Remove unused variable escflag,
	fix comment.

1999-05-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* README.1st: Add some notes about gnuplot-mode.el.

	* docs/gnuplot.doc: Add documentation for GNUPLOT_LIB and loadpath.

	* lisp/README, lisp/gnuplot-gui.el, lisp/gnuplot.el,
	lisp/gpelcard.tex: Updated to version 0.5f of Bruce Ravel's
	gnuplot-mode.

	* src/Makefile.maint: Add generation of Makefile.in, other small
	additions.

1999-05-27  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, aclocal.m4, config.hin, configure, m4/Makefile.am,
	m4/Makefile.in, src/makefile.all, term/Makefile.am, term/Makefile.in:
	Regenerated.

	* configure.in: Replace unconditional addition of "-lm" to LIBS
	with test for sin in math lib.

	* term/gif.trm: Change contributor email address.

1999-05-27  Leigh Smith  <leigh@tomandandy.com>

	* m4/apple.m4, term/openstep.trm: New files for MacOS X Server port.

	* configure.in, src/Makefile.in, src/term.h: Patch for MacOS X
	Server port.

1999-05-26  Juergen v. Hagen  <vonhagen@ihefiji.etec.uni-karlsruhe.de>

	* docs/gnuplot.doc: Minor correction for set arrow front/back.

1999-05-20  Mark K. Gardner  <mkgardne@cs.uiuc.edu>

	* docs/gnuplot.doc, src/graph3d.c, src/graphics.c, src/hidden3d.c,
	src/misc.c, src/plot.h, src/plot2d.c, src/set.c, src/show.c:
	Implementation of "errorlines", "xerrorlines", "yerrorlines", and
	"xyerrorlines" styles.

1999-05-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.os2: Add HAVE_UNISTD_H to EMXSPECIFIC.

	* src/Makefile.in, src/misc.c, src/plot.c, src/setshow.h, src/show.c,
	src/syscfg.h, src/variable.c, src/variable.h: Implementation of
	'loadpath' variable.

1999-05-19  Thomas Sefzick  <t.sefzick@fz-juelich.de>,  Slaven Rezic <eserte@cs.tu-berlin.de>

	* term/tkcanvas.trm: Integrate Slaven Rezic's perltk.trm plus some
	minor modifications.

1999-05-19  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/command.c, src/graph3d.c, src/readline.c, src/os2/dialogs.h,
	src/os2/gclient.c, src/os2/gnupmdrv.ipf, src/os2/gnupmdrv.rc,
	term/pm.trm: Latest OS/2 mouse update.

1999-05-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* aclocal.m4, configure: Regenerated.

	* m4/select.m4: Add 'void' to select fd_set test.

	* src/Makefile.in: Remove commitvers from EXTRA_DIST.

	* src/command.c(command): Clean up some ifdefs.

	* src/commitvers: Removed.

	* src/term.h: Add metapost.trm.

	* term/Makefile.am, term/Makefile.in: Add metapost.trm.

1999-05-15  Daniel H. Luecking  <luecking@comp.uark.edu>

	* term/metapost.trm: New gnuplot driver for metapost output.

1999-05-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* demo/Makefile.am.in: Improved check-* targets. List *.par files
	explicitly in EXTRA_DIST to avoid inclusion of generated .par files.

	* src/datafile.c(df_open): Storage for data file name is now fully
	dynamic. Remove temporary static array.

	* src/set.c, src/setshow.h, src/show.c: Turn identical setmess/showmess
	string into #define'd symbol.

	* src/syscfg.h: Add PATHSEP symbol.

1999-05-14  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* BUGS: Remove duplicate entry.

	* src/plot2d.c: Better handling of empty data files (no more
	misleading "xrange is invalid" messages).

1999-05-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/Makefile.in: Add empty check target.

	* src/fit.c(do_fit), src/graphics.c(gprintf): Adjust static array
	size.

	* src/misc.c(save_set_all), src/plot.h, src/set.c, src/show.c: Now
	fully dynamic allocation of text and font members in struct text_label.

1999-05-13  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* term/cgm.trm(CGM_linewidth): Change assertion to more useful
	value (0 instead of 1.0).
	
1999-05-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* NEWS, PATCHLEVEL: Updated.

	* docs/gnuplot.doc, src/scanner.c: Just strip newlines in the output
	produced by spawned commands. They are NOT replaced with blanks
	anymore.

	* src/command.c: Fix indentation, potential buffer overflow.

1999-05-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/Makefile.in: Add empty uninstall target.

	* src/readline.c: Fix indentation of USE_MOUSE statements.

	* term/post.trm(PS_options): No c_token++ after
	real(const_express(&a)). Suggested by Petr Mikulik.

1999-05-11  Dick Crawford  <u600256@gamma.lanl.gov>

	* src/graphics.c: Fix for y-position of the timestamp.

1999-05-10  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* config/makefile.os2: Minor updates and corrections.

	* src/misc.c(load_file): Fix for "gnuplot doesn't exit on
	quit/exit in non-interactive mode".

1999-05-09  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* src/plot.h: MAX_DISCRETE_LEVELS removed.

	* src/set.c (set_one): Allocate and enlarge levels_list array
	dynamically.

	* src/setshow.h: levels_list is now dynamic.

1999-05-08  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* docs/gnuplot.doc: Command substitution will not work within a
	string surrounded by single quotes.  Show an example of command
	substitution within a quoted string.

	* src/command.c, src/protos.h: scanner() now takes two args.

	* src/scanner.c (scanner): Command substitution works
	within a string surrounded by double quotes.

	* src/scanner.c (scanner): Add one level of indirection to input
	parameter, so the array that holds the expression can be
	reallocated if necessary.

	* src/scanner.c: substitute() can dynamically enlarge the array
	that holds the input line.  Static arrays converted to dynamic
	arrays.
 
1999-05-05  Peter Hackenberg  <phackenberg@aip.de>

	* term/fig.trm: Quote `\`, fix linestyle 201 to give a solid line,
	draw dotted lines with CAP_ROUND.

1999-05-05  Petr Mikulik  <mikulik@physics.muni.cz>

	* config/makefile.os2, src/command.c, src/readline.c,
	src/os2/dialogs.h, src/os2/gclient.c, src/os2/gnupmdrv.ipf,
	src/os2/gnupmdrv.rc, term/pm.trm: Latest version of OS/2 mouse patch.

1999-05-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config/makefile.os2: Run latex2e three times to update the table of
	contents properly. Suggested by Petr Mikulik.

1999-04-29  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Updated.

1999-04-29  Daniel H. Luecking  <luecking@comp.uark.edu>

	* term/metafont.trm(MF_init): Fix typos (GPMAX->max). Better vertical
	adjustment for text.

1999-04-27  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* README.1st: Note new location of djconfig.sh.

	* TODO: Add new topic.

	* docs/Makefile.in, term/post.trm: Fix typos.

1999-04-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* NEWS: Updated.

	* configure: Regenerated.

	* configure.in: Add switches to disable building of files in
	the lisp subdir and LaTeX tutorial.

	* docs/gnuplot.doc: Fix typo.

	* src/Makefile.maint: Simplify generation of version.c.

	* src/set.c(set_one): 'set noautoscale' does not accept x2 and y2.
	Bug noted by Peter Hackenberg <phackenberg@aip.de>.

	* src/show.c(show_autoscale): 'show autoscale' does not show
	'x2' and 'y2'. Bug noted by HBB.

1999-04-26  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* src/plot2d.c(eval_plots): Bugfix for logscale y2 plots.

1999-04-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL, config/makefile.cyg, config/makefile.mgw,
	config/makefile.unx, src/Makefile.in, src/show.c: Use BINDIR
	instead of GNUPLOT_BINDIR.

1999-04-22  Thomas Sefzick  <t.sefzick@fz-juelich.de>

	* term/tkcanvas.trm: Extended to print the line segment coordinates
	on mouse click.

1999-04-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/Makefile.in: Updated.

	* lisp/acinclude.m4: Macro updated to version from automake-cvs.

	* lisp/aclocal.m4, lisp/configure: Regenerated.

1999-04-19  Dick Crawford  <u600256@gamma.lanl.gov>

	* term/post.trm: Old patch from July 1998, implementing different
	colours	for key text and sample (blacktext), linewidth, and dashlength
	options. See terminal help section for more info.

1999-04-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/ChangeLog, lisp/README, lisp/gnuplot-gui.el, lisp/gnuplot.el,
	lisp/gpelcard.tex: Update to gnuplot-mode version 0.5e.

1999-04-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* djconfig.sh: Moved to config/.

	* Makefile.am: Add new files VERSION, PATCHLEVEL to EXTRA_DIST.

	* Makefile.in, configure, config/Makefile.am, config/Makefile.in,
	src/version.c: Regenerated.

	* NEWS: Updated.

	* configure.in: Simplify code to determine VERSION.

	* config/Makefile.am.in: Add djconfig.sh.

	* src/Makefile.maint: Add target for version.c.

	* src/util.c(m_quote_capture): Fix potential quoting bug.

1999-04-15  Martin Costabel  <costabel@wanadoo.fr>

	* src/misc.c(save_set_all): Split long fprintf() statement up to
	work around possible egcs bug on LinuxPPC.

1999-04-12  Carlos A M dos Santos  <casantos@inf.ufrgs.br>

	* docs/Makefile.in: Build documentation in text, dvi,and ps format
	with groff.

1999-04-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Reorder SUBDIRS, update EXTRA_DIST.

	* Makefile.in, demo/Makefile.am, demo/Makefile.in, docs/gnuplot.texi,
	lisp/aclocal.m4, lisp/configure: Regenerated.

	* demo/Makefile.am.in: Move binary[123] targets from src/Makefile.in.

	* docs/doc2texi.el: Wrap the @top node in @ifnottex instead of
 	@ifinfo so `makeinfo --html ...' works. Snarfed from GNU fileutils,
	change was by Karl Berry.

	* lisp/acinclude.m4: Better check for lispdir.

	* src/Makefile.in: move binary[123] targets to demo/Makefile.am.in.

1999-04-07  Juergen v. Hagen  <vonhagen@ihefiji.etec.uni-karlsruhe.de>

	* tutorial/header.tex: Change for LaTeX2e.

1999-04-06  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* src/plot.c: Don't drop root priviledge until VGA is initialised.

1999-04-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* INSTALL: Change examples in test section.

	* NEWS: Minor change.

	* README.exp: New file to document experimental features.

	* demo/Makefile.am, demo/Makefile.in, lisp/aclocal.m4, lisp/configure:
	Regenerated.

	* demo/Makefile.am.in: Add check-interactive and check-noninteractive
	targets.

	* lisp/acinclude.m4: New file, improved AM_PATH_LISPDIR macro.

	* src/Makefile.in: Add empty check target.

1999-04-05  Petr Mikulik  <mikulik@physics.muni.cz>

	* src/os2/dialogs.h, src/os2/gclient.c, src/os2/gnupmdrv.h,
	src/os2/gnupmdrv.ipf, src/os2/gnupmdrv.rc, src/os2/ptrcross.ptr,
	term/pm.trm: Add mouse capabilities to pm driver for OS/2.

1999-04-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* src/version.c: Patchlevel 3.7.0.5.

1999-04-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Add conditional building of lisp files. Remove
	CVS directories when building distribution.

	* Makefile.in, aclocal.m4, configure, config/Makefile.in,
	demo/Makefile.in, m4/Makefile.in, man/Makefile.in, term/Makefile.in,
	tutorial/Makefile.am, tutorial/Makefile.in: Regenerated.

	* configure.in: Conditional build of lisp files and tutorial.

	* lisp/Makefile.in: Remove conditionals for EMACS.

	* tutorial/Makefile.am.in: Add code for conditional build.

1999-04-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/tkcanvas.trm(TK_vector): Rewrite #define statements which
	are rejected by SunOS cc.

1999-03-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* NEWS: Updated.

	* config.hin, configure, config/Makefile.am, config/Makefile.in,
	tutorial/Makefile.am, tutorial/Makefile.in: Regenerated.

	* configure.in: Clean up, eliminate duplicate AC_DEFINE()'s.

	* config/Makefile.am.in, config/makefile.ami, config/makefile.unx,
	config/makefile.vms, docs/Makefile.in: Rename doc2hlp.com doc2hlp.vms.

	* docs/Makefile.in: Add alternative to doc2info.c.

	* docs/doc2texi.el, docs/gnuplot.texi: New files.

	* lisp/Makefile.in: Add mkinstalldirs variable.

	* src/Makefile.in: Clean up.

	* tutorial/Makefile.am.in: Fix typo.

1999-03-31  Berthold Hoellmann  <se6y095@public.uni-hamburg.de>

	* configure.in, term/gnugraph.trm: Patch to make things work
	with GNU plotutils-2.2.
	
1999-03-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.am: Reorder SUBDIRS.

	* Makefile.in, configure, config/Makefile.am, config/Makefile.in,
	demo/Makefile.in, m4/Makefile.in, man/Makefile.in, term/Makefile.in,
	tutorial/Makefile.am, tutorial/Makefile.in: Regenerated.

	* config/Makefile.am.in: Add term_pc.h to EXTRA_DIST files.

	* lisp/Makefile.in: Add some tests for EMACS=no, remove unnecessary
	targets.

	* src/Makefile.in: Rewrite some tests.

	* src/beos/Makefile: Don't rm Makefile in distclean target.

	* tutorial/Makefile.am.in: Add echo line in tutorial.dvi target.

1999-03-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* config/makefile.dj2, config/makefile.mgw, config/makefile.tc,
	config/makefile.win: Changed to reflect new directory structure.

	* config/term_pc.h: Edited copy of src/term.h, tailored for use on
	16bit PC platforms (DOS16, WIN16). To save some work for people
	building their own gnuplot on those platforms.

	* docs/Makefile.in: Do not build gnuplot.hlp by default (VMS only).

	* docs/doc2rtf.c: Change exit(EXIT_SUCCESS) to return(EXIT_SUCCESS).

	* src/graphics.c: Workaround for the bug that made 'set key below'
	sometimes lack some of the key texts: don't check these texts for
	being inside the graph area (xleft..xright).

	* src/term.c: Patched to set stdout to binary on DOS/Windows
	platforms. I had to resolve a conflict between term/object.h and
	header <fcntl.h>: both #define O_TEXT, for different purposes.

	* win/pgnuplot.c: Fixed for binary file output to stdout.

	* win/wgnuplot.def: Lowered stacksize (again) to make it fit into
	those pesky 64KB of DGROUP, again (plot.c grew in DATA size, due to
	the strings needed for the tilde expansion code...).

	* term/fig.trm, term/object.h: Rename O_TEXT to OBJ_TEXT, for now.

	* term/win.trm: Change include statement for new directory structure.

1999-03-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* TODO: Updated.

	* GNUmakefile, Makefile.am, Makefile.in, Makefile.maint, README.1st,
	config/Makefile.am, config/Makefile.am.in, config/Makefile.in,
	config/README, demo/Makefile.am, demo/Makefile.am.in,
	demo/Makefile.in, m4/Makefile.am, m4/Makefile.in, man/Makefile.in,
	src/GNUmakefile, src/Makefile.maint, term/Makefile.am,
	term/Makefile.am.in, term/Makefile.in, tutorial/Makefile.am,
	tutorial/Makefile.am.in: New files. Some of the Makefile.am are
	autogenerated. All new Makefile.in are generated by automake.

	* aclocal.m4, configure: Regenerated.

	* configure.in, config/makefile.amg, config/makefile.os2,
	docs/Makefile.in, docs/psdoc/Makefile, src/Makefile.in: Changed to
	reflect new directory structure.

	* src/makefile.all: Now generated automatically.

	* tutorial/Makefile.in: Now generated by automake.

1999-03-28  Andy Dougherty  <doughera@lafayette.edu>

	* INSTALL: Changed to reflect new directory structure.

1999-03-27  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* NeXT: Move to src/NeXT.

	* docs/latextut: Move to tutorial.

	* 0BUGS, 0FAQ, 0INSTALL, 0PORTING, 0README: Renamed to BUGS ... etc.

1999-03-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config, src: New directories.

	* buildvms.com, descrip.mms, make_vms.com, makefile.286, makefile.amg,
	makefile.ami, makefile.cyg, makefile.dj2, makefile.djg,	makefile.emx,
 	makefile.g, makefile.mgw, makefile.msc, makefile.msw, makefile.mto,
 	makefile.nt, makefile.os2, makefile.os9, makefile.st, makefile.tc,
	makefile.unx, makefile.vms, makefile.wc, makefile.win, makefile.ztc:
	Move to new config directory.

	* Makefile.in, alloc.c, alloc.h, amiga.c, ansichek.h, bf_test.c,
	binary.c, binary.h, bitmap.c, bitmap.h, command.c, commitvers,
	contour.c, corgraph.asm, corplot.c, ctrl87.c, ctrl87.h, datafile.c,
	errorfix.sh, eval.c, fit.c, fit.h, fnproto.h, genopt.com, gnuplot.def,
	gnuplot.opt, gnuplot.prj, gplt_x11.c, graph3d.c, graphics.c,
	header.mac, help.c, help.h, hidden3d.c, hrcgraph.asm, intergra.x11,
	internal.c, interpol.c, lasergnu, lineproc.mac, linkopt.vms,
	linkopt.ztc, makefile.all, matrix.c, matrix.h, misc.c, national.h,
	os9.c, parse.c, pcgraph.asm, plot.c, plot.h, plot2d.c, plot3d.c,
	protos.h, readline.c, rgipgnu, scanner.c, set.c, setshow.h, show.c,
	specfun.c, standard.c, stdfn.c, stdfn.h, strftime.c, syscfg.h, term.c,
	term.h, time.c, util.c, util3d.c, version.c, vms.c: Move to new
	src directory.

	* os2/*: Move to src/os2.

	* win/*: Move to src/win.

1999-03-26  Remko Scharroo  <remko@deos.tudelft.nl>, Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c: Add fitting of data in time format.

1999-03-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* NEWS: Fix typo.

	* datafile.c(df_open): Only read from stdin if the complete filename
	given is '-'.

	* docs/latextut/Makefile.in: Use new gnuplot executable to create
	.tex files, if available.

1999-03-26  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* term/png.trm: Don't call obsolete png_write_init() function.

1999-03-26  Thomas Sefzick  <t.sefzick@fz-juelich.de>

	* term/tkcanvas.trm: Extended interactive Tk/Tcl capabilities.

1999-03-25  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Add pgnuplot.c to WINDOWS variable.
	Add m4/Makefile.am.in and m4/README to ETC. Variable.

	* command.c, datafile.c: Change calls to gp_expand_tilde() to match
	new prototype.

	* configure: Regenerated.

	* configure.in: Move macros from lisp/configure.in up here, generate
	lisp/Makefile.

	* plot.c(gp_expand_tilde): Use char ** instead of char * as first arg.

	* protos.h: New prototype for gp_expand_tilde().

	* set.c(set_two): Add tilde expansion in 'set output' command.

	* docs/Makefile.in: Re-add srcdir variable, set EMACS at configure
	time.

	* docs/doc2info.c(convert): Add info directory entry to header of
	generated info file.

	* lisp/ChangeLog, lisp/Makefile.dst, lisp/Makefile.in, lisp/README,
	lisp/gnuplot-gui.el, lisp/gnuplot.el, lisp/gpelcard.tex: Import
	latest version from Bruce Ravel.

	* term/pstricks: Correct off-by-one error in strncpy() call.

1999-03-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* aclocal.m4: Regenerated.

1999-03-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all, docs/Makefile.in, docs/psdoc/Makefile,
	lisp/Makefile.in: Cleaning up, configure related changes.

	* alloc.c(checked_free): Fix core dump in TRACE_ALLOC call.

	* command.c(command): Don't allocate memory for sv_file directly.
	Replace calls to quote_str() with m_quote_capture() and free sv_file
	before returning.

	* configure: Regenerated.

	* configure.in: Rearrange AC_OUTPUT().

1999-03-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Rename docs/ps docs/psdoc. Old directory
	interferes with ps target in docs/Makefile.in.

	* TODO: Typo fixed.

	* configure: Regenerated.

	* configure.in: Remove obsolete rm command in AC_OUTPUT().

	* docs/ps: Renamed docs/psdoc.

1999-03-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pslatex: Hopefully complete fix for off-by-one segmentation
	fault.

1999-03-17  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Better docs for 'set missing'.

1999-03-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS, 0INSTALL, 0PORTING, 0README, TODO: Updated.

	* Makefile.in, configure.in: Rename X_LIBRARIES variable to
	LIBRARIES_FOR_X because _LIBRARIES suffix is reserved for automake.

	* configure: Regenerated.

	* makefile.amg, makefile.djg: Updated.

	* lisp/configure: Regenerated.

	* lisp/configure.in: Strip path from EMACS variable. This is really
	a hack ...

1999-03-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure, lisp/aclocal.m4, lisp/configure: Regenerated.

	* configure.in: Don't generate list of terminal drivers.

	* makefile.cyg, makefile.mgw, makefile.nt: Use $(CORETERM) instead of
	$(CSOURCE5) $(CSOURCE6) $(CSOURCE7).

	* docs/Makefile.in: Hardwire terminal sources into Makefile.

	* lisp/aclocal.m4: Deleted (regenerated version uses bugfixed
	AM_PATH_LISPDIR macro from automake).

1999-03-16  Dick Crawford  <u600256@gamma.lanl.gov>

	* graphics.c(boundary): Fix to plot all lines in multiline labels
	within plot borders.

1999-03-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* makefile.286, makefile.amg, makefile.ami, makefile.cyg, makefile.dj2,
	makefile.djg, makefile.emx, makefile.g, makefile.mgw, makefile.msc,
	makefile.msw, makefile.mto, makefile.nt, makefile.os2, makefile.os9,
	makefile.st, makefile.tc, makefile.vms, makefile.wc, makefile.win,
	makefile.ztc: Add missing RCS Id's. Make file headers more uniform
	for easier identification.

	* plot.c(load_rcfile): Fix typo in free() statement.

	* demo/surface1.dem: Increase zrange.

	* term/be.trm: Some fixes by Xavier.

	* term/x11(X11_init): Better coding style, suggested by A. Mai.
	Use execvp() in CRIPPLED_SELECT version of X11_init.

1999-03-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Configure options updated.

	* 0README: Distribution sites updated.

	* NEWS: Updated.

	* command.c, show.c, term/multitos.trm: Use external user_gnuplotpath
	variable on Atari/MTOS.

	* plot.c: Put user environment handling code into one function.
	Add handling of GNUPLOTPATH on Atari/MTOS.

	* stdfn.h: Add GP_GETCWD definition for OS/2 from syscfg.h.

	* syscfg.h: Move GP_GETCWD for OS/2 to stdfn.h, don't include
	stdfn.h.

	* version.c: New patchlevel and date.

1999-03-11  Jon Garibaldi  <jong@rome.cis.plym.ac.uk>

	* term/cgm.trm(CGM_write_char_record): Fix bug trying to write
	from NULL pointer.

1999-03-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h: Remove symbols whose description was moved to
	configure.in.

	* aclocal.m4, config.hin, configure: Regenerated.

	* command.c: Add extern user_shell reference. Simplify the do_shell()
	variants accordingly.

	* configure.in: Change evaluation of with-cwdrc option. Add option
	for experimental thin plate splines. Add description to all
	AC_DEFINE() statements.

	* makefile.os2: Add -DHAVE_SLEEP to EMXSPECIFIC.

	* plot.c: Add global variable for user shell. New function
	getenv_user_shell().

	* plot3d: Add patch by Jean-Michel Savignat <savignat@cges.ensmp.fr>
	to implement thin plate splines.

	* syscfg.h: Add SHELL definitions for DOSish systems.

	* term.c(term_set_output): Initialise FILE *f.

	* m4/dos.m4, m4/select.m4: Add description to AC_DEFINE() statements.

1999-03-10  Werner Fink  <werner@suse.de>

	* plot.c, term/linux.trm: New functions to assume and drop root
	privileges.

	* demo/contours.dem, demo/fit.dem: Small patches, axis ranges etc.

	* docs/gnuplot.doc: Fix some backquotes.

	* docs/latextut/Makefile.in: Use @prefix@ instead of /usr/local.

1999-03-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* command.c(command): Make sv_file dynamic. Use gp_expand_tilde()
	where appropriate.

	* config.hin, configure: Regenerated.

	* configure.in: Add <sys/param.h>.

	* datafile(df_open): Make filename dynamic. Use tilde expansion.

	* plot.c: Add global variable for user home directory. Use new
	function getenv_user_homedir() in main(). Rewrite load_rcfile to
	not use static arrays. New function gp_expand_tilde().

	* plot.h: Define PATH_MAX. New macro PATH_CONCAT.

	* protos.h: Prototype for gp_expand_tilde().

	* term/iris4d.trm: Rewrite IRIS4D_init() to eliminate potential
	security risk.

1999-03-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure: Regenerated.

	* configure.in: Make --with-linux-vga=no the default. Add security
	notice to configuration report.

	* plot.c(load_rcfile): Change order of tests in if statement.

	* show.c: Small changes.

	* syscfg.h: Use linux and __linux preprocessor symbols.

	* term/be.trm: Use execvp() instead of execl() to start outboard
	driver, and related changes, indentation.

1999-03-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* datafile.c(df_tokenise): Change casts in isspace() to unsigned
	char. Fix bug in for() loop.

	* fit.c(regress): Remove unneeded call to free().

1999-03-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/be.trm: Convert tabs to spaces in help text.

1999-03-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* term/pslatex.trm(PSLATEX_init): Fix off by one error when
	copying string.

1999-03-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h, configure.in: Remove --enable-system-time from configure
	and related files.

	* config.hin, configure: Regenerated.

	* time.c: Indentation.

1999-03-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* help.c: Test for DOS16 instead of MSDOS.

	* term/latex.trm: Indentation.

1999-03-02  Alois Steindl  <asteindl@mch2ws2.tuwien.ac.at>

	* graphics.c(boundary): Fix problem with negative aspect ratio.

	* term.c(init_term): Fix NEXT initialisation.

	* term/next.trm: Remove erroneous whitespace.

1999-03-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* config.hin, configure: Regenerated.

	* configure.in: Add vfprintf, doprnt.

	* makefile.amg: Small changes, fix typos.

	* stdfn.h: Add definitions to deal with varargs.

	* lisp/Makefile.in: Fixes for building in a separate directory.

1999-02-25  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Fully integrate BeOS port and gnuplot-mode.

	* Makefile.in, makefile.all: Add/remove added/removed files
	to/from BEOSSRC/LISP variables.

	* configure: Regenerated.

	* configure.in: X_PRE_LIBS is not required in X_LIBRARIES. Add
	tests for poll.h, poll (experimental). Configure in lisp subdir.
	Move configuration report to after AC_OUTPUT.

	* gplt_x11.c(mainloop): Experimental support for poll (not yet
	complete).

	* term.c(init_term): Add init code for BeOS.

	* beos/makefile: Moved to beos/Makefile.in.

	* beos/Makefile.in: Moved from makefile.

	* docs/Makefile.in: Use $(MAKE) $(MFLAGS).

	* lisp/Makefile: Moved to lisp/Makefile.dst.

	* lisp/Makefile.dst: Moved from Makefile.

	* lisp/Makefile.in: Old Makefile plus configuration changes.

	* lisp/aclocal.m4: AM_PATH_LISPDIR macro for configure.

	* lisp/configure: Generated from lisp/configure.in.

	* lisp/configure.in: Minimal configure.in file.

	* term/x11.trm: Minor changes.

1999-02-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* datafile.c(df_open): Experimental tilde expansion.

	* misc.c(save_set_all), show.c(show_format): Split fprintf()'s
	into several separate fprintf()'s, and make local arrays smaller
	to save stack space.

1999-02-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* graph3d.c(boundary3d): Fix bug which compresses the z data
	of 3D plots under Windows.

1999-02-23  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c: Value of last parameter was not stored in a variable as
	it should be.

	* makefile.dj2: Binary to build is version 3.7, not 3.6.

	* makefile.mgw: Don't compile with HAVE_SLEEP defined, hide
	sleep() prototype in headers by defining _NO_OLDNAMES, add
	$(OPT) for user specified compile flags.

	* protos.h, stdfn.c: Declare second arg to safe_strncpy() const.

1999-02-23  Lars Hecking  <lhecking@nmrc.ucc.ie>, Xavier Pianet <xavier@xingo.com>

	* Makefile.in, configure.in, makefile.all, term.h: Integrate changes
	for port to BeOS.

	* beos/GPApp.cpp, beos/GPApp.h, beos/GPBitmap.cpp, beos/GPBitmap.h,
	beos/GPView.cpp, beos/GPView.h, beos/GPWindow.cpp, beos/GPWindow.h,
	beos/XStringList.cpp, beos/XStringList.h, beos/constants.h,
	beos/makefile, demo/dobedo, m4/beos.m4, term/be.trm:
	New files for BeOS port.

	* aclocal.m4, configure, config.hin: Regenerated.

1999-02-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Rearrange header tests, add check for <sys/ioctl.h>.
	Rearrange function tests. Remove superfluous subshell in terminal
	driver list creation.

	* readline.c: Use HAVE_SYS_IOCTL_H instead of platform symbols.

1999-02-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* gplt_x11.c(main): Fix long-standing typo in debug FPRINTF statement.

	* plot.c: Name GNUPLOT_HISTORY_FILE "~/.gnuplot.history".

	* docs/Makefile: Fix LIBS variable, edit some comments.

1999-02-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/x11.trm: Use execvp() instead of execl() to start x11
	driver.

1999-02-17  Dick Crawford  <u600256@gamma.lanl.gov>

	* term/eepic.trm, term/latex.trm, term/texdraw.trm: Explanation
	about LaTeX2e point symbols, add-on to JvH's patch.

1999-02-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure: Regenerated.

	* configure.in: Warning message if terminal list could not be created.

	* graphics.c, plot.c, set.c, specfun.c, term/emxvga.trm, term/fig.trm,
	util.c, util3d.c: Remove local definitions of "pi", replace with
	M_PI/M_PI_2/DEG2RAD where appropriate.

	* plot.h: Cleaning up. Remove "Pi" symbol, define M_PI and M_PI_2
	instead.

	* term/x11.trm: Merge X11_opts[] and X11_optarg[] into one array.
	Indentation.

1999-02-16  Juergen v. Hagen  <vonhagen@ihefiji.etec.uni-karlsruhe.de>

	* term/latex.trm: Add explanation about point symbols in LaTeX2e.

1999-02-14  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* term.h: Include aed, unixplot and other drivers in OS/2 version.

1999-02-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* fit.c, fit.h, matrix.c, matrix.h: Change of copyright status.
	See files for details.

	* version.c: Copyright date.

1999-02-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* interpol.c: Recode eval_bezier to compute in 'logarithmic space'
	to avoid numerical under/overflow for large datafiles.

	* win/wgnuplib.h, win/wgraph.c: Fix feature where point symbols would
	be drawn in another colour than the corresponing sample lines on the
	"test" page if the width of linestyle 1 was changed.

1999-02-14  Joseph D. Pepin  <joepepin@att.com>

	* term/x11.trm: Patch to exit the bin/sh process after it has parsed
	the command line.

1999-02-10  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h, configure.in, gplt_x11.c, stdfn.h, m4/select.m4:
	New AC_FUNC_SELECT macro and related changes.

	* aclocal.m4, config.hin, configure: Regenerated.

	* plot.c: Fix typo.

	* term.h: Reintroduce long-lost EEPIC define. Spotted by
	Aaron Naiman <naiman@gematria.jct.ac.il>

	* term/latex.trm: Function prototypes if EEPIC is defined.

1999-02-10  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* command.c, plot.c: REXX interface on OS/2 related changes.

	* makefile.os2: Patch, fixes.

1999-02-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* makefile.amg: Improved makefile for Amiga SAS/C 6.5x.

1999-02-04  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Adds a few specific comments to the effect that
	commands pertaining to the x2 and y2 axes are not applicable to
	"splot"s.
   
1999-02-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all, docs/Makefile.in: Add and use fixinfo.el
	script to fix gnuplot.info file.

	* docs/fixinfo.el: To fix the gnuplot.info file until doc2info
	has been fixed. By Denis Kosygin <kosygin@cims.nyu.edu>.

1999-02-03  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Correct some over-long lines in the original
	patch to the function writeup, and it adds warnings to the
	"set margin" and "set xtic" writeups telling about the effects of
	"set xtics axis" if the axis is too close to the border.

1999-02-03  Joseph D. Pepin  <joepepin@att.com> 

	* graph3d.c, graphics.c, plot.h, set.c, show.c, docs/gnuplot.doc:
	Patch to introduce layers (front, back) for labels and arrows.

1999-02-03  Hirofumi Fujii  <Hirofumi.Fujii@kek.jp>

	* term/cgm.trm: Several bugfixes:
	(1) The parameter list length of the CGM record is including padding
	length (must NOT include the padding length).
	(2) The format of 'color table' (class 5 id 34) is wrong. The first
	element is the starting index (usually 0), NOT the number of colors.
	(3) The format of 'font table' (class 1 id 13) is wrong. This is the
	list of 'String Fixed Data'. Do NOT include the total length.
	(4) Transparency (class 3 id 4) is set to 'off' but I think it is
	better to set 'on' because sometimes character cells are overlapping.

1999-02-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* lisp/*: Updated to newest revision.

1998-02-01  Dick Crawford  <u600256@gamma.lanl.gov>

	* graphics.c: Bugfix for failing 'set lmargin' command.

1999-02-01  Thomas Walter  <twalter@pc2-69.chemie.uni-erlangen.de>

	* docs/gnuplot.doc: Bug fix.  'atan' used twice, for 'atan' and
	'atanh' ==> no help for 'atanh' available.
	Added argument list to function names, i.e. 'atan2' becomes
	'atan2(y,x)'.

1999-01-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* syscfg.h: Define unix if unix or __unix is defined. Fixes
	empty OS string under HP-UX.

1999-01-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0PORTING, acconfig.h, command.c, configure.in, makefile.os2,
	makefile.unx, plot.c, protos.h, readline.c, show.c: GNU_READLINE is
	now HAVE_LIBREADLINE.

	* acconfig.h: Remove APOLLO, GPR, UNIXPC.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Cleanup up --enable options. New --enable-history
	option.

	* parse.c, plot.c: Use symbol APOLLO instead of apollo.

	* syscfg.h: Define APOLLO and UNIXPC.

1999-01-26  Thomas Walter  <twalter@pc2-69.chemie.uni-erlangen.de>

	* plot.c: Add the ability to use a command history file if GNU
	readline is used.

1999-01-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, acconfig.h, configure.in, gplt_x11.c, makefile.all,
	stdfn.h: Use improved AC_FUNC_SELECT by Steve Robbins
	<steve@nyongwa.montreal.qc.ca> instead of AC_FUNC_SELECT_ARGTYPES.

	* aclocal.m4, config.hin, configure: Regenerated.

	* m4/select.m4: Bugfixed version of Steve Robbins' macro.

	* Makefile.in: Add contents of new lisp subdir.

	* gnuplot.el: Move to lisp/old.

	* lisp/*: New subdir. Added new gnuplot-mode for X/Emacs by
	Bruce Ravel <ravel@phys.washington.edu>.

	* term/png.trm: Reorder switch statements, add default case,
	initialise variables to remove compiler warnings.

1999-01-26  Thomas Walter  <twalter@pc2-69.chemie.uni-erlangen.de>

	* command.c, plot.c, protos.h, syscfg.h: Avoid duplicate history
	entries with GNU readline.

1999-01-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0README: Remove entry about now defunct ftpmail service.

1999-01-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* PGPKEYS: Add Roger Fearick's public key.

	* configure: Regenerated.

	* configure.in: New way to create VERSION.

	* install-sh, missing, mkinstalldirs: Updated from current
	automake release.

	* version.c: New beta patchlevel.

	* term/gif.trm: Add new options to terminal help.

1999-01-19  Ben Laurie  <ben@algroup.co.uk>

	* term/gif.trm: New 'tiny', 'giant' font options.

1999-01-19  Andris Pavenis  <pavenis@lanet.lv>

	* term/png.trm(PNGtext): Fix SIGSEGV in DJGPP v2 binaries if no
	output file name is set.

1999-01-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Add PGPKEYS to ETC.

	* PGPKEYS: New file.

	* term/apollo.trm: Add note about copyright status.

1999-01-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Add compile instructions for Cygwin.

	* 0README: Add Windows 95/98 to platform list.

	* Makefile.in, makefile.all: Add makefile.cyg to ETC.

	* term/ai.trm: Removed 3.6ism, noted by Andy Dougherty
	<doughera@lafayette.edu>.

	* term/grass.trm: Switched to new gnuplot copyright. Permission
	granted by original author.

1999-01-13  William D Kirby  <wdkirby@ix.netcom.com>

	* makefile.cyg: New makefile for Cygwin environment.
	
1999-01-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Update to 3.7.

	* 0README: Update distribution sites.

	* configure: Regenerated.

	* configure.in: Don't use fmt to create the driver list (not available
	under HP-UX).

	* version.c: Version 3.7, patchlevel 0, date string updated.

	* term/post.trm, term/pslatex.trm, term/pstricks.trm, term/tpic.trm:
	Fix typos introduced by the fprintf-fputs changeover.

1999-01-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/mif.trm: Bugfix.

1999-01-08  William D Kirby  <wdkirby@ix.netcom.com>

	* win/wcommon.h: Don't include <shellapi.h> when compiling with
	gcc based compilers.

1999-01-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Remove m4/select-types.m4 and
	m4/stringize.m4	from ETC and $(ACLOCAL_M4).

	* acconfig.h: Remove HAVE_STRINGIZE and SELECT_TYPE_ARG* symbols.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Require autoconf-2.13.

	* m4/select-types.m4, m4/stringize.m4: Removed, provided by
	new autoconf version.

1999-01-06  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* graphics.c(ticfmt): Fix buffer overrun.

1999-01-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Add section about front ends.

	* TODO: Fix some typos.

1999-01-05  Jens Emmerich  <Jens.Emmerich@itp.uni-leipzig.de>

	* term/pslatex.trm: Remove doubled '%' chars.

1998-12-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* fit.c, protos.h: Change wri_to_fil_last_fit_cmd() return value
	to size_t.

1998-12-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Add note about MSDOS/DJGPP and djconfig.sh.

	* Makefile.in, makefile.all: Add djconfig.sh to ETC variable.

	* configure: Regenerated.

	* configure.in: Use sh comments instead of m4 comments in some places.

1998-12-23  Andris Pavenis  <pavenis@lanet.lv>

	* djconfig.sh: New file to make configuration under MSDOS/DJGPP
	easier.

1998-12-22  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* term/pm.trm: Small patch.

1998-12-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0README: Updated.

	* TODO: Updated.

	* configure: Regenerated.

	* configure.in: Add ${with_gnu_readline}/lib to locations searched
	for GNU libreadline.

	* plot.h, term/post.trm: Implement and use architecture-independent
	INT_STR_LEN constant as suggested by Andris Pavenis <pavenis@lanet.lv>.

1998-12-22  Dick Crawford  <u600256@gamma.lanl.gov>, Lucas Hart  <hartl@ucs.orst.edu>

	* docs/gnuplot.doc: Update fit documentation.

1998-12-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Amend entry about label and arrow clipping.

	* configure: Regenerated.

	* configure.in: Change readline test so that full path to libreadline
	is allowed, but not required. Edit some warning messages.

1998-12-21  Lucas Hart  <hartl@ucs.orst.edu>

	* descrip.mms: Updated. Fix sleep() problem.

	* docs/README: VMS section updated.

1998-12-18  Andris Pavenis  <pavenis@lanet.lv>

	* term/djsvga.trm: Fix bug in W. Kirby's patch (rows and columns
	swapped).

1998-12-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/amiga.trm, term/post.trm: Indentation.

	* term/x11.trm: Fix VMS include statement.

1998-12-17  Andris Pavenis  <pavenis@lanet.lv>

	* syscfg.h: Undef HELPFILE for MSDOS before #define'ing it.

1998-12-17  William D Kirby  <wdkirby@ix.netcom.com>

	* term/djsvga.trm: Resolve conflict between user defined screen text
	mode, and the default text mode.

1998-12-17  Roger Fearick  <fearick@physci.uct.ac.za>

	* os2/gclient.c, os2/print.c: Patches from Robert Lalla that fix 
	paint problems if full window drag is enabled, and crash if printing
	to non-existing printer queue.

1998-12-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure: Regenerated.

	* configure.in: More meaningful warning messages.

	* protos.h: GNU libreadline prototypes.

	* show.c(show_command,show_one): Add cntrparam to showmess,
	show cntrparam can now be abbreviated with show cn.

	* term/tgif.trm: Fix undefined behaviour.

1998-12-16  Lucas Hart  <hartl@ucs.orst.edu>

	* term/gif.trm: Fix 'set terminal' info for gif driver.

1998-12-16  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* 0BUGS: Add entry for 16bit Windows and Borland C++ 3.1.

	* makefile.mgw: Call compiled programs via ./ because under
	CygWin-BASH, the current directory is not in PATH.

1998-12-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* gplt_x11.c, term/hpljii.trm, term/latex.trm, term/metafont.trm,
	term/mif.trm, term/pbm.trm, pstricks.trm: Fix typos.

	* show.c(show_one): Map show cntrparam to show contour.

	* version.c: Remove comment. Beta 349.

1998-12-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/*.trm: Indentation, use fputs for static strings.

1998-12-14  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* makefile.win: Patch.

1998-12-10  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c: Fix range bug in 3d fits.

1998-12-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Remove references to upd_make.sh. Move
	references to makefile.r.

	* makefile.r: Move to docs/old.

	* misc.c: Save set []tics autofreq from Don Taber plus cleanup.

	* upd_make.sh: Obsolete, removed.

1998-12-09  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* plot3d.c(grid_nongrid_date): Fix broken dist == 0 handling.

1998-12-09  Stefan Schroepfer  <scr@iis.fhg.de>

	* makefile.nt: Move generated .hlp file to different directory.

1998-12-09  Juergen v. Hagen  <vonHagen@engr.psu.edu>

	* makefile.mgw: Updated.

	* win/wgnuplib.h: Remove TMPF_VECTOR and TMPF_TRUETYPE defines.

1998-12-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Add m[]tics entry, provided by Lucas Hart. Add entry about
	Windows help file.

	* TODO: Add entry for snprintf(3).

	* command.c, fit.c, gplt_x11.c, help.c, hidden3d.c, misc.c, plot.c,
	plot2d.c, plot2d.c, show.c, term.c, time.c, util.c: Replace
	fprintf'ing of static strings with fputs.

	* configure: Regenerated.

	* configure.in: Cleanup, fix typo.

	* protos.h: Put ifdef around readline functions.

1998-12-08  Andy Dougherty  <doughera@lafayette.edu>

	* 0INSTALL: Mention PATH=.:$PATH trick for testing of uninstalled
	binaries.

	* 0PORTING: Clarification of build instructions.

	* term.c: Enhance comment about pedantic preprocessors.

	* demo/contours.dem, demo/surface1.dem: Change "gnu plot" to
	"gnuplot".

1998-12-08  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc, docs/titlepag.ms, docs/titlepag.tex: 3.7ise.

1998-12-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Remove entry about truncation of script files on VMS.

	* 0README: Update monash ftp site details.

	* Makefile.in, makefile.all: Add INSTALL.gnu to ETC.

	* configure: Regenerated.

	* configure.in: Fix configuring under HP-UX.

	* graphics.c: Run through indent.

	* plot.h: Add XOPEN M_LN10 constant.

	* set.c(set_one): Use M_LN10.

	* specfun.c: Revise Lucas' changes and bugfix.

1998-12-07  Juergen v. Hagen  <vonHagen@engr.psu.edu>

	* 0BUGS, 0INSTALL, 0README, NEWS, makefile.mgw, makefile.unx: Updated.

1998-12-07  Lucas Hart  <hartl@ucs.orst.edu>

	* fit.c: Add some messages.

	* internal.c: More verbose error messages.

	* standard.c(f_log10): Use M_LN10 constant.

	* specfun.c: Expand GP_ERF/ERFC macros inline and add error checking.

	* strftime.c: TEST_STRFTIME code was incomplete.

	* syscfg.h: Add HELPFILE for VMS.

	* demo/mgr.dem: Modify the acspline demo to better illustrate the
	capabilities of the option.

1998-12-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0FAQ, 0README, NEWS, configure.in, makefile.dj2, makefile.os9,
	term/README: 3.7ise.

	* Makefile.in, makefile.all: Add mac.trm to CORETERM.

1998-12-06  David Schooley  <dcschooley@mediaone.net>

	* term/mac.trm: Added terminal driver for Macintosh.

1998-12-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Update OS/2 gcc optimiser bug entry.

	* 0README: Update distribution sites.

	* TODO: Add png driver entry.

1998-12-05  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* makefile.os2: Fix OS/2 build (allterm.h related).

1998-12-05  Ian MacPhedran  <Ian_MacPhedran@mackenzie.usask.ca>

	* descrip.mms: VMS build fixes.

1998-12-05  Roger Fearick  <fearick@physci.uct.ac.za>

	* protos.h: Fix typo.

	* os2/gclient.c, term/pm.trm: Fix old bug about default help file
	path, and adjust font metrics in pm driver.

1998-12-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Remove pslatex driver bug entry.

	* TODO: Remove entry "allow load '-' or  gnuplot -  to mean
	interactive".

	* docs/Makefile.in: Fix for building outside source dir in all
	targets using ALL_TERM_DOC.

	* docs/doc2info.c: Remove static keyword in function declarations
	to fix building with SunOS cc.

1998-12-04  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* makefile.mgw, makefile.win, win/wgnuplib.h, win/wgraph.c,
	win/winmain.c, win/wmenu.c, win/wpause.c: Fix bug with line width
	scaling under Windows. Some cleanups.

1998-12-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Require autoconf 2.12.2. Add AC_PROG_CPP.

	* contour.c(gen_bspline_approx): Remove unused variable i.

	* graph3d.c(setlinestyle,ztick_callback): Remove unused variable t.

	* help.c: Make StartOutput(), OutLine(), EndOutput() non-static.
	Remove list_terms().

	* hidden3d.c(draw): Remove unused vars cross1, cross2.

	* protos.h: Add prototypes for help.c functions. Remove prototype
	for term_count().

	* show.c(show_version_long): Rename readline rdline, and gnu_readline
	gnu_rdline to avoid compiler warnings.

	* stdfn.h: Remove bcopy() prototype, may conflict with system headers.

	* term.c: Remove term_count(), update list_terms() to Don Taber's
	version.

	* version.c: Patchlevel beta348.

1998-12-03  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc, docs/titlepag.ms, docs/titlepag.tex: Updated list
	of contributors, documentation of Don's "-" patch.

1998-12-03  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* command.c, misc.c, plot.c: Patch to use "-" for stdin or load file.

	* graphics.c: Patch to make all four [xy][12]labels symmetric about
	plots and well spaced from axes regardless of tics or absence of tics,
	move the title up a character height, and put half a character extra
	space on left and right to help out some of the terminals which have
	trouble with this.

1998-12-02  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Clean out dist target.

	* bf_test.c: Add prototype for FreeHelp().

	* fit.c(error_ex): Use strncpy() instead of safe_strncpy().

	* gnuplot.opt: Add help (for DT's new version of list_terms()).

	* makefile.amg: Remove obsolete file type.h from dependencies.

	* protos.h: Remove null_linewidth() prototype. Add sleep() prototype.

	* term.c: Add null_linewidth() prototype.

	* docs/Makefile.in: Better integration of alldoc2gih target.

1998-12-02  Lucas Hart  <hartl@ucs.orst.edu>
	
	* demo/hidden.dem, demo/prob.dem, demo/surface1.dem, demo/surface2.dem,
	demo/using.dem: Reset axis labels with `set [xyz]tics autofreq'.

1998-12-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Add makefile.mgw to ETC.

	* TODO: New entry.

1998-12-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* command.c: On Win32 platforms, allow 'cd "d:\path"' to also change
	the drive.

	* graphics.c: Fix bug in the new polar errorbar support (non-polar
	yerrorbars had become diagonals).

	* makefile.dj2, makefile.tc: Update realclean target.

	* makefile.mgw: New makefile for MinGW32.

	* makefile.win: Add 'help' to the list of objects to be compiled
	into gnuplot (for Don Taber's new version of list_terms() sitting
	in help.c)

	* syscfg.h: Add HAVE_SLEEP for Win32.

	* term/win.trm: Add more stuff in terminal help.

	* win/geticon.c, win/wgnuplib.h, win/wgraph.c, win/winmain.c,
	win/wmenu.c, win/wpause.c, win/wtext.c: Changes to allow building
	under MinGW32.

1998-12-01  Hartmut Niemann  <niemann@cip.e-technik.uni-erlangen.de>

	* term/pslatex.trm: Patch to avoid problems with active characters
	in \special commands, and line-end characters.

1998-12-01  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* 0INSTALL: Upgrade OS/2 related docs.

1998-11-30  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* makefile.os2: Update various compiler flags.

	* plot.c(ExecuteMacro): Cosmetic changes.

1998-11-30  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Add documentation for `show version' and fixes.

1998-11-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Remove generic GNU install instructions.

	* TODO: Add more suggestions.

	* bf_test.c: Don't include plot.h, but all other necessary include
	files.

	* term.h: Fix typo (gpr.h <-> gpr.trm).

	* term/cgm.trm: Remove temporary string.

	* term/excl.trm: Update copyright to the current version by
	permission of the author, Przemek Klosowski <przemek@nist.gov>.

1998-11-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Remove allterm.h target and dependency.

	* configure: Regenerated.

	* configure.in: Add code to generate terminal driver dependencies in
	docs/Makefile.in. Remove code to rename old makefiles.

	* protos.h: Move non-static prototypes from term.c.

	* term.c: Indentation. Move non-static prototypes to protos.h. Avoid
	compiler warnings about variable shadowing:
	In term_check_multiplot_okay(), rename interactive f_interactive.
	In do_arrow(), change test for exact inequality in doubles.
	In set_term(), rename c_token argument c_token_arg.
	In init_terminal, rename term env_term.
	In test_term, rename xmax xmax_t, and ymax ymax_t.

	* docs/Makefile.in: Add TERM_LIST variable for allterm.h dependencies.
	Use explicit file names instead of makefile variables. Modify allgih
	target so that it builds independently from gih target, and vice versa.

	* docs/makefile, docs/latextut/makefile: Rename makefile.dst, resp.

	* term/*.trm(*_text_angle): Rename argument to text_angle function
	ang consistently across terminal drivers to avoid compiler warnings.

	* term/fig.trm(FIG_poly_clean): Rename stat fig_stat. In
	FIG_options, rename tmax tmax_t, xsize xsize_t, ysize ysize_t.
	In FIG_pointsize, rename pointsize arg_pointsize.

	* term/post.trm: Rename pointsize ptsize. In PS_init, rename
	xmax xmax_t, ymax ymax_t, xmin xmin_t, ymin ymin_t.

	* term/pslatex.trm(PSLATEX_init): In PS_init, rename xmax xmax_t,
	ymax ymax_t, xmin xmin_t, ymin ymin_t.

	* term/tpic.trm(TPIC_options): Rename pointsize ptsize.

1998-11-25  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* TODO: Add entry about float/double comparisons.

	* command.c, plot2d.c, plot3d.c: Remove obsolete definition of MAXSTR.

	* plot.c: Other small changes.

	* term/table.trm, term/driver.h, term/xlib.trm, term/unixplot.trm,
	term/hp2648.trm, term/dxy.trm, term/v384.trm, term/aed.trm,
	term/tkcanvas.trm, term/mgr.trm, term/kyo.trm, term/qms.trm,
	term/regis.trm, term/cgi.trm, term/debug.trm, term/excl.trm,
	term/t410x.trm, term/linux.trm, term/hppj.trm: Indentation,
	minor cleanups.

1998-11-25  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* term/cgm.trm: Solid line option for cgm terminal.

1998-11-25  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* plot.c: Patch for OS/2.

1998-11-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* TODO: Remove "clean up includes at top of files" entry. Add
	some new entries.

	* docs/gnuplot.1: Update X11 command line options.

	* term/compact.c: Indentation, add RCS id.

	* term/grass.trm: Remove duplicate header file inclusions.

1998-11-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* graphics.c(gen_tics) Modified patch from Jochen Schuetze <jos@gbf.de>
	to avoid infinite loop during tic generation.

	* term/aed.trm, term/ai.trm, term/apollo.trm, term/atariaes.trm,
	term/atarivdi.trm: Indentation. Replace fprintf'ing of plain strings
	with fputs.

1998-11-23  David Schooley <dcschooley@mediaone.net>

	* term/table.trm: Add missing register_term statement.

1998-11-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* command.c(do_system): No not check system() return value.

	* configure.in: Edit comment.

	* version.c: Patchlevel pl7.

1998-11-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* CodeStyle: Updated.

	* command.c: Cleaning up. Make local functions static. Remove unused
	variables and functions.

	* fit.c: Make kbhit() static.

	* graph3d.c: Indentation.

	* plot.c: Cleaning up. Add OS/2 set_input_line() from command.c.

	* plot2d.c: Delete `extern' keyword from variables removed from
	command.c.

1998-11-20  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* graphics.c: Revise margin calculation.

1998-11-20  Lucas Hart  <hartl@ucs.orst.edu>

	* show.c: Adjust 'show tics' after set_tic_prop patch from 1998-10-31.

1998-11-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Remove entry for manual key placement in hidden3d splot.
	Add open file handles inheritance entry as suggested by Alexander Mai.

	* ChangeLog: Reorganised.

	* command.c(do_line): Skip leading spaces in input.

	* config.hin, configure: Regenerated.

	* configure.in: Add test for memmove().

	* errorfix.sh: Simplified. Now only creates temporary copies
	of files to be fixed, not of all files.

	* plot.c(main): Fix compiler warnings.

	* stdfn.c: Move memcpy definition to stdfn.h.

	* stdfn.h, syscfg.h: Add definitions for memcpy and memmove.

	* term/ai.trm, term/regis.trm: Add missing TERM_TABLE_END.

1998-11-19  Lucas Hart  <hartl@ucs.orst.edu> 

	* ansichek.h: Undefine HAVE_STRINGIZE for VAXC.

	* command.c: Fixes for VMS and !NO_GIH, do_system() line truncation
	when called from load_file(), comments.

	* syscfg.h: Remove declarations that cause duplicate warnings.

	* term.c: Avoid duplicate warnings from VMS headers.

	* vms.c: Remove some duplicate header file inclusions.

	* docs/doc2rnh.c: Add single_top_level, convert '/' in topic to
	'|' because VMS HELP uses '/' as a list separator.

1998-11-19  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Extensive patches to fix minor misspellings,
	makes all references "time/date" (instead of some being "date/time"),
	removes some blanks from the ends of lines, add commands synonyms.

	* term/*.trm: Add command synonyms to all terminals.

1998-11-19  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c: Merge in patch from Lucas Hart <hartl@ucs.orst.edu>
	to make fit.log and screen output match the documentation.
	Cleaning up.

	* graph3d.c(key_sample_line): Fix core dump if key is manually placed.

	* graphics.c, plot2d.c: Merge in polar errorbars patch from
	Igor Bray <I.Bray@flinders.edu.au>.

1998-11-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Updated with latest awk script for contour line clipping
	bug workaround by Paul Halsema <phalsema@harris.com>.

	* 0INSTALL: Updated. gnuplot now compiles again with SunOS' cc.

	* 0README: Updated.

	* bf_test.c(FreeHelp), contour.c(end_crnt_cntr), matrix.c(fsign),
	term.c(term_count): Translate prototype to K&R.

	* fit.c: Translate prototypes for printmatrix() and
	print_matrix_and_vectors() to K&R. Add missing prototypes for
	static functions.

	* gplt_x11.c: Re-add inclusion of config.h at top.

	* parse.c: Indentation.

	* set.c: Fix typos.

	* term/ai.trm, term/cgm.trm, term/corel.trm, term/epson.trm,
	term/fig.trm, term/mif.trm, term/next.trm, term/pbm.trm, term/png.trm,
	term/post.trm, term/pslatex.trm, term/win.trm: Accept alternative
	spelling "colour" for "color".
	
1998-11-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Added description of m[]tics initialisation bug, from
	Lucas Hart <hartl@ucs.orst.edu>. Changed hidden3d entry and line
	clipping entry as suggested by HBB. Add error bars in polar plots
	entry, from Stefan Deutscher <stefand@ibm.net>.

	* ansichek.h: Use #ifndef HAVE_CONFIG_H for systems which don't
	run configure.

	* acconfig.h: Remove ANSI_C.

	* configure.in: Add comment at top. Don't define ANSI_C.

	* misc.c: Patch by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>
	to read DOS files under Unix.

	* plot.h: Comment out LP_DEFAULT. Don't use ANSI_C.

	* protos.h: Updated prototypes for help.c and term.c

	* set.c: New function reset_lp_properties. Replaces LP_DEFAULT
	initialisation, get's rid of ANSI_C.

1998-11-17  Don Taber  <dtaber@blackrat.risc.rockwell.com>

	* 0BUGS: Revised entry for contour lines clipping bug.

	* graph3d.c(do_3dplot): If "set contour; set nosurface; set noclabel"
	is used, the items in the key will overwrite one another if more than
	one function or file is plotted.
	
	* help.c, term.c: Patch to pipe 'set terminal' output through pager.

	* plot3d.c(printd_3dtable): Add space between "label:" and label in
	output.

1998-11-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Added description and workaround for contour line clipping
	bug. Provided by Don Taber <dtaber@blackrat.risc.rockwell.com>.
 	
	* docs/old: New directory.

	* History, README.3d, README.3p1, README.3p2, README.3p3, README.3p4,
	README.3p5, README.ami, README.emx, README.fit, README.gnu,
	README.iso, README.mf, README.nex, README.os2, README.pic, README.pro,
	README.win, README.x11, README.xli: Moved to new dir docs/old.

	* Makefile.in, makefile.all: Updated to reflect changes in directory
	structure (ETC, DOCS5, DOCS).

	* Projects: Renamed TODO.

	* WhatsNew: Renamed NEWS.

	* version.c: Changes history moved to docs/old/ChangeLog.old.

	* win/wcgraph.c(wginitcolor): Swap entries for red and blue for	colour
	consistency as suggested by Stephen Eglen <stephen@cns.ed.ac.uk>.

1998-11-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0BUGS: Add description and workaround for pslatex driver bug.

1998-11-15  Konrad Bernloehr  <bernlohr@ik3.fzk.de>

	* interpol.c: Bugfix for 'smooth acsplines' option with logarithmic
	x axis.

1998-11-15  Lucas Hart  <hartl@ucs.orst.edu>

	* stdfn.c(safe_strncpy): Bugfix.

1998-11-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Document new `--enable-system-time' configure option
	and fixes.

	* set.c(set_two): Skip leading whitespace in argument to 'set output'.

	* specfun.c: Fix #ifdef directive.

	* docs/gnuplot.doc: Change 'set output' documentation accordingly.

1998-11-09  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* gplt_x11.c: Close open files on first initialisation on OS/2.

	* makefile.os2: Updated.

1998-11-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Updated pointer to unproto.

	* 0PORTING: Updated.

	* acconfig.h: New symbol USE_SYSTEM_TIME (see time.c).

	* config.hin, configure: Regenerated.

	* configure.in: Improved time_t test by Andris Pavenis
	<pavenis@lanet.lv>. New option '--enable-system-time' (see time.c).
	Add check for <sys/timeb.h>.

	* fit.c: Remove obsolete function subst().
	
	* Makefile.in, makefile.all: Remove mkdist from ETC variable.

	* mkdist: Obsolete, removed. Use 'make dist'.

	* protos.h: Change prototpe for util.c(chr_in_str).

	* time.c: Fix indentation. Rename SYSTEM_TIME to USE_SYSTEM_TIME.
	Fix compiler warnings about variable shadowing (rename clock l_clock).
	Replace return statements with exit().

	* util.c(chr_in_str): Make second arg int instead of char.

	* docs/Makefile.in: New target allgih for .gih file with docs for
	all terminals.

1998-11-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* makefile.dj2: stdfn.o missing in OBJ3. Reported by William D Kirby
	<wdkirby@ix.netcom.com>. demo\binary? target fixed as per suggestion
	by Juergen Breitlow <Juergen.Breitlow@blns.siemens.de> and W. Kirby.

	* plot.c(ExecuteMacro): Fix typo in variable name. Reported by
	Lucas Hart <hartl@ucs.orst.edu>.

	* syscfg.h: #ifdef directives simplified.

	* term.c: Fixes to allow 'set output' in gnugraph terminal. Problem
	reported by Berthold Hoellmann <se6y095@public.uni-hamburg.de>.

	* term/djsvga.trm(DJSVGA_set_font): Add missing parenthesis. Reported
	by William D Kirby <wdkirby@ix.netcom.com>.

1998-11-04  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* hidden3d.c, scanner.c, show.c: Fix indentation.

	* syscfg.h: Add comment.

	* version.c: Patchlevel pl6.
	
1998-11-04  Lucas Hart <hartl@ucs.orst.edu>

	* graphics.c, hidden3d.c, specfun.c, stdfn.h: VMS fixes.

1998-11-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* bf_test.c, binary.c, bitmap.c: Fix indentation.

	* config.hin, configure: Regenerated.

	* configure.in: Add erfc() function check, change png version
	test indentation to satisfy DU 4.0 cc.

	* graphics.c(gen_tics): Hopefully fixed xmtics to start from 1
	instead of 0.

	* graphics.c(fixup_range), set.c(set_tic_prop): Avoid automatic
	aggregate initialisation.

	* show.c(show_two): Map show command for [xyz]{2}[md]tics to
	[xyz]{2}tics.

	* specfun.c: Fix typo in comment.

	* docs/Makefile.in: Fix dependencies for config.h.

1998-10-31  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* datafile.c, term/cgm.trm: Cast argument of is*() functions to int.

	* eval.c, internal.c, interpol.c, plot3d.c, specfun.c: Fix indentation.

	* graphics.c, set.c: Indentation.

	* help.c: Some cleanups. Use TBOOLEAN instead of boolean type and
	remove tboolean. Fix indentation. Move tos_getch() prototype to
	protos.h.

	* misc.c: Some cleanups.

	* plot.h: Add TRUE and FALSE defines.

	* protos.h: New prototype for misc.c(instring) and
	readline.c(tos_getch).

	* readline.c: Move tos_getch() prototype to protos.h.

	* set.c: Fix indentation.

	* term/gif.trm(GIF_options): Fix compiler warning (sscanf call).

	* term/gnugraph.trm: Add prototypes for GNU plotutils functions.

	* term/mif.trm: Fix compiler warning (nested extern decl).

1998-10-31  Lucas Hart  <hartl@ucs.orst.edu>

	* graphics.c, set.c, docs/gnuplot.doc: set_tic_prop patch version b.

1998-10-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h, configure.in, stdfn.h, m4/select-types.m4: Replace
	gp_FIND_SELECT_ARGTYPES with AC_FUNC_SELECT_ARGTYPES from upcoming
	autoconf release, and related changes.

	* aclocal.m4, config.hin, configure: Regenerated.

	* fit.c, graphics.c, scanner.c, util.c: Cast argument of is*()
	functions to int.

	* syscfg.h: VMS prototypes, moved from term.c.

	* term.c: Include header files moved from driver.h, indentation.

	* docs/doc2x.h: Prototype for safe_strncpy().

	* docs/termdoc.c: New function safe_strncpy() to avoid linking with
	stdfn.c

	* term/driver.h: Don't include header files.

1998-10-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Reverse order of CPPFLAGS and INCLUDES in COMPILE.

	* Makefile.in, buildvms.com, descrip.mms, makefile.os2, makefile.os9,
	makefile.unx: gnuplot_x11 is now linked with stdfn.o.

	* command.c, fit.c, gplt_x11.c, help.c, plot.c, scanner.c, strftime.c,
	docs/doc2html.c, docs/doc2info.c, docs/termdoc.c, term/pc.trm,
	term/pslatex.trm, term/pstricks.trm: Replace calls to strncpy() and
	similar code with safe_strncpy().

	* command.c, plot2d.c, plot3d.c, readline.c: Move Atari file
	inclusion to syscfg.h.

	* corplot.c, scanner.c, standard.c: Simplify #ifdef line.

	* fit.c: Don't use copy_max(). Move to stdfn.c as safe_strncpy().
	Move Atari file inclusion to syscfg.h. Move Dblf* macros to fit.h.
	Fix indentation.

	* fit.h: Moved macros from fit.c. Move function prototypes to protos.h.

	* protos.h: safe_strncpy() prototype from stdfn.c. Prototypes from
	fit.h.

	* stdfn.c: New function safe_strncpy(), moved from fit.c(copy_max).

	* syscfg.h: Include files for Atari.

	* parse.c, stdfn.h, syscfg.h, term.h: Fix ifdefs.

	* term/amiga.trm, term/cgm.trm, term/djsvga.trm, term/grass.trm,
	term/next.trm, term/post.trm, term/tgif.trm: Replace '\0' with NUL.

1998-10-28  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* makefile.tc, makefile.win, plot3d.c, term/hpgl.trm: DOS and dgrid3d
	patches.

1998-10-28  Jochen Schuetze  <jos@gbf.de>

	* fit.c, fit.h, misc.c: Save last fit command as comment.

1998-10-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL, 0PORTING: Updated.

	* Makefile.in, makefile.all: Add new file syscfg.h to HEADERS variable.

	* acconfig.h: Remove obsolete defines.

	* bf_test.c, gplt_x11.c, readline.c, stdfn.c: Include plot.h instead
	of config.h, ansichek.h and stdfn.h. Make enum JUSTIFY local in
	gplt_x11.c(display).

	* configure, config.hin: Regenerated.

	* configure.in: Move some tests, rewrite some header and library tests.

	* fit.c: Don't include config.h.

	* plot.h, stdfn.h: Move OS dependent defines to new file syscfg.h.

	* plot2d.c: Fix typo in #define.

	* syscfg.h: New file for OS dependencies.

1998-10-20  Andris Pavenis  <pavenis@lanet.lv>

	* fit.c: Fix bug in vector resizing of bigger than default data sets.

1998-10-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h, ansichek.h, hidden3d, plot2d.c, plot3d.c, docs/doc2x.h:
	Rename HAVE_CPP_STRINGIFY to HAVE_STRINGIZE.

	* acinclude.m4: Deprecated, removed.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Replace gp_PROG_CPP_STRINGIFY with AC_C_STRINGIZE
	from current autoconf CVS repository. Rename gp_CHECK_LIB_PATH to
	gp_SEARCH_LIBDIRS and gp_CHECK_HEADER to gp_SEARCH_HEADERDIRS.

	* contour.c: Change function prototypes to K&R for compatibility.

	* m4/msdos.m4, m4/next.m4, m4/search-hdr.m4, m4/search-lib.m4,
	m4/select-types.m4, m4/stringize.m4: New files to store macros
	from deprecated acinclude.m4 file.

	* Makefile.in: Add INSTALL_SCRIPT and ACLOCAL_AMFLAGS variables,
	remove ACCONFIG variable. Add new m4 macros to ETC variable. Add
	m4 to SUBDIRS. Clean up.

	* makefile.all: Remove stray backslash from NEXTSRC variable. Add
	m4 files to ETC and fix typos.

	* docs/*.c: More cleaning up. Add exit() statements in main()
	function, remove unused vars, fix potential buffer overflows.

	* term/rgip.trm: Splice unterminated strings.

1998-10-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acinclude.m4: In gp_CHECK_LIB_QUIET, add TERMXLIBS to LIBS during
	test. In gp_FIND_SELECT_ARGTYPES, rename loop variables and add
	caching.

	* aclocal.m4, configure: Regenerated.

	* command.c: Fix preprocessor directive syntax for BC++ 4.5.

	* fit.c, fit.h, matrix.c: Don't include type.h, remove comment.

	* Makefile.in, makefile.all: Remove type.h from HEADERS. Add doc2x.h
	to DOCS1.

	* misc.c: Fix typos.

	* type.h: Obsolete file removed.

	* docs/Makefile.in: Fix alldoc, clean, html targets and dependencies.
	Compile doc2html with -DALL_TERM_DOC. Print gpcard.ps to file
	instead of printer.

	* docs/docs2x.h: New file.

	* docs/*.[ch]: Move definitions to new file doc2x.h and include
	doc2x.h.

	* term/apollo.trm: Change in help part.

1998-10-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* contour.c: Indentation, nested comments removed.

	* misc.c(save_set_all): Add 3D mapping, missing to saved variables.

	* show.c: Add 'bar' to showmess[].

	* docs/*.c: Fix embarrassing typo in comment.

1998-10-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Add ChangeLog to ETC variable.

	* acconfig.h: Add MGR and RGIP.

	* acinclude.m4: Minor changes.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Add options for MGR and RGIP. Define APOLLO if MGR
 	is defined. Add IRIS to configuration report.

	* docs/gnuplot.doc: Small patch from Dick Crawford.

	* graphics.c(boundary): Another margin calculation bug fix by HBB.

	* parse.c: Change #ifdef statement, remove __osf__.

	* term.h: Cleaning up, better readability.

	* term/driver.h: Remove nested comment.

	* version.c: Patchlevel pl5.

1998-10-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* contour.c, term.c: Fix FPRINTF calls.

	* graphics.c: Fix comments.

	* misc.c(save_tics): Rename time variable to flag_time to prevent
	global variable shadowing.

	* set.c: Make references to first_plot and first_3dplot global.

	* show.c(show_version_long): Reformat output.

	* stdfn.h: Add VMS exit codes. Reformatting, define HAVE_SLEEP
	unconditionally under VMS.

	* docs/Makefile.in: Add new alldoc target for debugging purposes.
	Add ipf target.

	* docs/README: Cleanup and fixes.

	* makefile.os2, docs/checkdoc.c, docs/doc2gih.c, docs/doc2hlp.c,
	docs/doc2info.c, docs/doc2ipf.c, docs/doc2ms.c: Final fixes to
	remove .c file inclusion.

	* term/mif.trm, term/png.trm, term/post.trm: Make references to
	version and patchlevel global to eliminate "nested extern declaration"
	compiler warnings.

	* term/x11.trm(VMS X11_init): Make declarations static.

1998-10-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, makefile.all: Add xref.h to DOCS1. Small changes.

	* bf_test.c(int_error): Use only one fprintf().

	* command.c: Move #ifdef MSDOS block from top of file to plot.h.
	Suggested by HBB.

	* datafile.c: Fix indentation.

	* internal.c(pop): Remove superfluous space.

	* makefile.286, makefile.amg, makefile.dj2, makefile.djg, makefile.emx,
	makefile.g, makefile.msc, makefile.msw,makefile.mto, makefile,nt,
	makefile,os2, makefile.os9, makefile.st, makefile.tc, makefile.vms,
	makefile.wc, makefile.win, makefile.ztc: Add termdoc.o and xref.o
	where required. No more inclusion of .c files.

	* plot.c: Fix indentation.

	* plot.h: Update, add MSDOS #ifdef block from command.c, add HELPFILE
	definitions to OS section.

	* plot2d.c: Remove MSDOS #ifdef block (outdated version of the defines
	in command.c, now in plot.h). Indentation.

	* plot3d.c, scanner.c, set.c: Minor changes.

	* docs/Makefile.in, docs/makefile, docs/makefile.ami: Add termdoc.o
	and xref.o where required. No more inclusion of .c files.

	* docs/checkdoc.c, docs/doc2gih.c, docs/doc2hlp.c, docs/doc2html.c,
	docs/doc2info.c, docs/doc2ipf.c, docs/doc2ms.c, docs/doc2rnh.c,
	docs/doc2rtf.c, docs/doc2tex.c, docs/termdoc.c, docs/xref.c: No more
	inclusion of .c files. Indentation, small changes.

	* docs/xref.h: New file for definitions from docs/xref.c.

1998-10-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* show.c(show_version_long): Add \n in fprintf().

	* util.c(m_quote_capture): Use parse_esc() to interpret escape
	sequences.

	* docs/Makefile.in: Fix configuration variables.

1998-10-08  Jochen Schuetze  <jos@gbf.de>

	* term/eepic.trm, term/latex.trm, term/pslatex.trm, term/tpic.trm:
	Documentation for free positioning of labels feature.

1998-10-07  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* aclocal.m4, configure: Regenerated.

	* configure.in: Rewrite tests for termcap and readline. Remove
	obsolete AC_SUBST(TERMFLAGS).

	* command.c: Define some macros for Windows. Remove spurious else
	in #ifdef'd code for Atari in command(). Additional #ifdef's for
	GNU_READLINE. Indentation.

	* Makefile.in: Rename distdir.

1998-10-07  Andris Pavenis  <pavenis@lanet.lv>

	* acinclude.m4: Use LIBS instead of LDFLAGS in gp_MSDOS.

1998-10-06  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Fix readline logic.

	* plot2d.c: Cleaning up, indentation.

	* docs/gnuplot.doc: Corrections from Lucas Hart <hartl@ucs.orst.edu>.
	Rename what's-new to new-features.

1998-10-06  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* makefile.os2: Updated.

1998-10-06  Jochen Schuetze  <jos@gbf.de>

	* term/eepic.trm, term/latex.trm, pslatex.trm, tpic.trm: Support
	free positioning of labels with LaTeX related terminals.

1998-10-05  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Document new configure options. Additions.

	* 0PORTING: Fix typo.

	* Makefile.in: Add -DBINDIR to show.o target.

	* acinclude.m4: Add /usr/local/lib to gp_CHECK_LIB_PATH and
	/usr/local/include to gp_CHECK_HEADER.

	* aclocal.m4, configure: Regenerated.

	* configure.in: Merge --with-gnugraph and --enable-unixplot into
	--with-plot.

	* graphics.c: Indentation.

	* show.c: Final fixes for merger (see entry from 1998-10-03).

	* version.c: Patchlevel pl4.

	* term/gnugrph.trm: Code for GNU plotutils lib.

1998-10-04  Jonathan Thornburg  <jthorn@galileo.thp.univie.ac.at>
	* graphics.c, plot2d.c, plot3d.c, graph3d.c, protos.h,
	docs/gnuplot.doc: Fix infinite loops when data range is empty,
	also wrong plots when data range is smaller than 'zero' setting.

1998-10-03  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0PORTING, buildvms.com, term.h: Rename NO_ALL_TERM to SHORT_TERMLIST.

	* Makefile.in: Eliminate TERMFLAGS, add TERMXLIBS (for GNU libplot.a
	from GNU plotutils). Remove misc.o target. Remove CPPFLAGS and TERMLIBS
	from Makefile and config.status targets.

	* acconfig.h: Add APOLLO, CGI, DJSVGA, GNU_PLOTUTILS, GNUGRAPH,
	GPR, GRX21, IRIS, SUN, UNIXPC, UNIXPLOT.

	* acinclude.m4: Clean up gp_MSDOS, gp_NEXT, gp_CHECK_LIB_PATH. Add
	cases to gp_FIND_SELECT_ARGTYPES.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Add --enable options and checks for Unix and GNU plot
	library, Apollo, SCO/cgi library, Iris, SunView, AT&T Unix PC. Add
	to configuration report.

	* misc.c: Remove extern declarations. Remove save_version() and
	replace with show_version(fp). Indentation.

	* plot.c, plot2d.c, plot3d.c, set.c, term.c, term/driver.h term/*.trm:
	Rename outfile variable to gpoutfile (name clash with GNU plotutils
	library). Call show_version(stderr) instead of show_version().

	* plot.h: Add FAQ_LOCATION.

	* setshow.h: Remove outfile declaration. Fix show_version() prototpe.

	* show.c: Fix show_version() calls. Merge misc.c(save_version) into
	show_version().	In show_version_long(), use one single call to
	fprintf().

	* version.c: Add faq_location.

	* docs/gnuplot.doc: Fix URL.

	* docs/termdoc.c: Patches from Lucas Hart <hartl@ucs.orst.edu>.

1998-10-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Update with-PACKAGE section.

	* 0PORTING, Makefile.in, makefile.unx: The preprocessor symbol
	is IRIS, not IRIS4D.

	* acconfig.h: Add GNUGRAPH and UNIXPLOT symbols.

	* acinclude.m4: Remove caching from gp_CHECK_HEADER_QUIET and
	gp_CHECK_LIB_QUIET, cleanup. Add new macro gp_SCO.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Cleanup, remove caching of CPPFLAGS and TERMLIBS.
	New options --enable-unixplot and --with-gnugraph.

	* gplt_x11.c: Move inclusion of ansichk.h and stdfn.h below
	select stuff. Replace call to index() with strchr().

	* graphics.c(boundary): Remove unnecessary \ at end of line.

	* help.c(ShowSubtopics): Move spacelen out of for loop and init
	spacelen and ispacelen to zero. Suggested by HBB.

	* plot.c, plot2d.c, plot3d.c, set.c, term.c, term/driver.h,
	term/*.trm: Rename outfile gpoutfile to	resolve clash with GNU
	plotutils library.

	* plot2d.c, plot3d.c: Add declaration of gpoutfile.

	* setshow.h: Remove outfile declaration.

	* show.c: Add faq_location. Rewrite show_version() to use fprintf()
	only once. Rewrite show_version_long() to output to stderr instead
	of stdout. Add UNIXPLOT and GNUGRAPH.

	* term.h: Use GNUGRAPH independently of UNIXPLOT.

	* version.c: Add faq_location.

	* term/gif.trm: Update help text.

1998-10-01  Dick Crawford  <u600256@gamma.lanl.gov>

	* docs/gnuplot.doc: Updates.

1998-10-01  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* os2/gnupmdrv.c: Close all open files on first initialisation.

	* command.c, makefile.os2: OS/2 related changes.

1998-09-30  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Add $(INCLUDES) to version.o target.

1998-09-28  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0PORTING, buildvms.com, term.h: Lucas Hart's NO_ALLTERM patch.

	* configure.in: Re-add AC_HEADER_STDC. Otherwise STDC_HEADERS is
	not defined.

	* help.c(ShowSubtopics): spacelen and ispacelen must not be
	initialised with zero. Bug report from Stefan Schroepfer
	<scr@iis.fhg.de>. Indentation.

	* plot.c(load_rcfile): Bugfix: ~/.gnuplot not read. Reported by
	Stefan Schroepfer <scr@iis.fhg.de>.

	* stdfn.h: OS/2 fixes.

	* util.c: Indentation, add braces.

1998-09-28  Petr Mikulik  <mikulik@physics.muni.cz>

	* docs/ps/ps_guide.ps: Add page numbers to enable browsing with ps
	viewers.

1998-09-26  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/sun.trm(local_notice_destroy): Comment out assignment to
	non-existent variable term_init.

1998-09-26  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* 0INSTALL, makefile.os2, plot.c, term/emxvga.trm, term/pm.trm:
	More OS/2 related changes.

1998-09-25  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* 0INSTALL, makefile.os2: OS/2 related changes.

1998-09-25  Andris Pavenis  <pavenis@lanet.lv>
	
	* command.c, plot.c: Patches to compile with DJGPP.

1998-09-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0PORTING: Mention HAVE_SYS_STAT_H. Add info about plot.h.

	* acconfig.h: Remove NO_SYS_STAT_H, re-add X11.

	* acinclude.m4: Cleanup.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Change test for <sys/stat.h>, re-add X11.

	* datefile.c, stdfn.h: Invert #ifdef logic for <sys/stat.h>.

	* gplt_x11.c(mainloop): Fix typo.

	* makefile.amg: Add comment about compiler warning.

	* makefile.ami, makefile.nt, makefile.os9, makefile.tc, makefile.wc,
	makefile.win: Escape quotes in CFLAGS line.

	* makefile.amg, makefile.nt: Define HAVE_SYS_STAT_H in DEFS/CFLAGS.
	
	* stdfn.h: Add missing stat macros for WIN32 and AMIGA_SC_6_1.

	* win/wgnuplib.def, win/wgnuplot.def: Re-add ^M's at end of line.

	* plot.h: Remove X_DISPLAY_MISSING and re-add X11. Move definition of
	PLOTRC into OS specific section.

	* term.h: Remove X_DISPLAY_MISSING.

1998-09-24  Lucas Hart  <hartl@ucs.orst.edu>

	* term/x11.trm: VMS patch.

1998-09-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Rewrite part about unproto.

	* Makefile.in: Remove spurious \ in NEXTSRC.

	* acconfig.h: Add NO_SYS_TIME_H and SELECT_ARGTYPE_mmm.

	* acinclude.m4: New macro gp_FIND_SELECT_ARGTYPES.

	* aclocal.m4, config.hin, configure: Regenerated.

	* configure.in: Remove AC_HEADER_STDC (checked by AM_C_PROTOTYPES).
	Add check for <sys/time.h> and <sys/socket.h>, required by
	gp_FIND_SELECT_ARGTYPES. Add  gp_FIND_SELECT_ARGTYPES.

	* gplt_x11.c(mainloop): Use new types for args to select().
	
	* graph3d.c, graphics.c, hidden3d.c, plot2d.c: Fix typos which crept
	in when applying Lucas Hart's patches.

	* plot.h, term.h: Fix #ifdef logic with X_DISPLAY_MISSING.

	* stdfn.h: Add code for select() argument types.

	* term/post.trm: Fix typo.

	* term/tek.trm: Rest of Lucas Hart's patches

	* version.c: Bump version to 347pl3.

1998-09-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h: Remove HAVE_LGAMMA and HAVE_STRNCASECMP.

	* config.hin, configure: Regenerated.

	* configure.in: Streamline header and functions tests to reduce
	configure script size. Use AC_MSG_RESULT for configuration report.
	Cosmetic changes.

	* os2/gclient.h: Move #include <math.h> to top.

	* readline.c: Indentation and comments cleanup.

	* term/excl.trm, term/fg.trm, term/gif.trm, term/gnugraph.trm,
	term/metafont.trm, term/mgr.trm, term/mif.trm, term/multitos.trm,
	term/pm.trm, term/table.trm, term/win.trm, term/xlib.trm: Add
	comments and RCS id.

1998-09-22  Petr Mikulik  <mikulik@physics.muni.cz>

	* readline.c: Don't store duplicated history entries.

1998-09-22  Dick Crawford  <rccrawford@lanl.gov>

	* term/post.trm: Enhpost psfonts scale patch.

1998-09-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* binary.h, command.c, graph3d.c, graphics.c, interpol.c, plot2d.c,
 	plot3d.c, util3d.c: Move inrange macro to plot.h. 

	* gplt_x11.c: Fix indentation. Add definition of fd_set_t. Use
	fd_set_t to clean up select() call. Remove unused variable all
	in DEFAULT_X11 mainloop(). Fix some compiler warnings.

	* plot.c: Move defintion of HOME, PLOTRC to plot.h. Clean up
	load_rcfile(). Use new symbols DIRSEP1, DIRSEP2, NUL.

	* plot.h: Define HOME, DIRSEP1, DIRSEP2 in OS section. Define
	PLOTRC.

	* stdfn.h: Define NUL.
	
1998-09-20  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* CodeStyle: Amended.

	* contour.c: Change some function signatures to avoid compiler
	warnings.

	* datafile.c: Rename some vars to avoid compiler warnings.

	* help.c(LoadHelp,ShowSubtopics): Initialize pos.

	* contour.c, datafile.c, fit.c, graph3d.c, graphics.c, hidden3d.c,
	internal.c, interpol.c, matrix.c, plot2d.c, plot3d.c, set.c, stdfn.c,
	strftime.c, util3d.c: Cleanups.

1998-09-20  Lucas Hart  <hartl@ucs.orst.edu>

	* contour.c: Add chk_contour_kind() function.

	* docs/doc2rnh.c: Add new putrnh_() function.

	* contour.c, datafile.c, fit.c, graph3d.c, graphics.c, hidden3d.c,
	internal.c, interpol.c, matrix.c, plot2d.c, plot3d.c, set.c, stdfn.c,
	strftime.c, util3d.c: VMS patches
	
1998-09-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* version.c: Trim log entries for beta346.

1998-09-19  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* command.c, plot.c, stdfn.h, os2/gclient.c: Patches to make 347pl2
	compile under OS/2.

1998-09-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* command.c: Move HELPFILE definition to plot.h.

	* plot.h: Add CONTACT, HELPFILE, and HELPMAIL definitions.

	* show.c(show_version_long): Use GNUHELP environment variable to
	find HELPFILE, cleanup.

	* version.c: Move CONTACT and HELPMAIL definition to plot.h,
	include plot.h. Bump version to 347pl2.

1998-09-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* set.c(get_style): Fix typo.

1998-09-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Updated.

	* acconfig.h: Add NO_SYS_STAT_H, remove X11.

	* config.hin, configure: Regenerated.

	* configure.in: Don't define X11. Add check for <sys/stat.h> and
	AC_HEADER_STAT.

	* datafile.c: Modified version of Alexander Mai's stat(2) patch
	(check if regular file or pipe before opening data file).

	* makefile.amg: Remove stdfn.h from datafile.c deps.

	* plot.h: Define X11 in terms of X_DISPLAY_MISSING.

	* show.c(show_version_long): Fix typo. Changes to make it compile
	with pre-ANSI cc.

	* stdfn.h: Add stat(2) related macros.

	* term.h: Use X_DISPLAY_MISSING instead of X11.

1998-09-16  Alfred Reibenschuh  <alfred.reibenschuh@cait.co.at>

	* term/gif.trm: More colours for gif terminal (web216 standard).

1998-09-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/cgm.trm(CGM_graphics): Fix core dump with strlen(NULL).

1998-09-15  Alfred Reibenschuh  <alfred.reibenschuh@cait.co.at>

	* term/gif.term: Draw grids with the gdStyled functions.

1998-09-02  Alfred Reibenschuh  <alfred.reibenschuh@cait.co.at>

	* term/gif.term: Prevent rotated labels from extending into graph area.

1998-09-01  Dick Crawford  <u600256@gamma.lanl.gov>

	* graphics.c: Fix timestamp positioning.
	
	* term/post.trm: Update help section to	new directory structure
	for postscript docs.

1998-08-28  Rolf Niepraschk  <niepraschk@chbrb.berlin.ptb.de>

	* descrip.mms: Updated version.

1998-08-28  Joji Maeda  <jiji@ee.noda.sut.ac.jp>

	* term/post.trm: Increase the number of dictionaries to 256.

1998-08-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in, misc.c: Modified set angle patch from Juergen von Hagen
	<vonHagen@engr.psu.edu>.

	* Makefile.in: Add PACKAGE and VERSION variables. Remove version
	variable.

	* acconfig.h: Add PACKAGE and VERSION variables.

	* acinclude.m4: Remove AM_MISSING_PROG macro.

	* aclocal.m4: Regenerated with aclocal.

	* config.hin: Regenerated with autoheader.

	* configure.in: Add VERSION variable, AM_INIT_AUTOMAKE. Remove
	AM_MISSING_PROG, AC_PROG_MAKE_SET, AC_PROG_INSTALL. Add configuration
	summary report.

	* configure: Regenerated with autoconf.

	* docs/checkdoc.c, docs/doc2gih.c, docs/doc2hlp.c, docs/doc2html.c,
	docs/doc2info.c, docs/doc2ipf.c, docs/doc2ms.c, docs/doc2rnh.c,
	docs/doc2rtf.c, docs/doc2tex.c: #undef TRUE and FALSE before
	redefining it.

1998-08-24  Alexander Mai  <st002279@hrzpub.tu-darmstadt.de>

	* gplt_x11.c, makefile.os2, os2/gclient.c, os2/print.c, term/pm.trm:
	OS/2 fixes.

1998-08-20  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de> 

	* datafile.c (df_tokenise): Fix bug in datafile reading speedup	patch.

1998-08-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* readline.c: Fix termios/sgtty logic.

1998-08-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Unconditional test for <sgtty.h>.

	* plot.h, readline.c: Indentation, comments for readability.

	* Makefile.in, makefile.all: Forgot Makefile in DOCS4.
	
1998-08-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Forgot to add docs/ps to SUBDIRS. Remove duplicate
	DOCS variable.

	* Makefile.in, makefile.all: Remove $(S)ps_symbols.ps from DOCS4.

1998-08-17  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* hidden3d.c, makefile.dj2, makefile.tc, makefile.win, plot.h,
	show.c, term/pc.trm, term/post.trm, win/wgnuplot.def, win/wtext.c:
	hbbmisc.diffs.980813 patch set.

1998-08-17  Andris Pavenis  <pavenis@lanet.lv>

	* term/hpljii.trm: Output file is opened in ASCII mode under DJGPP,
	Windows.

1998-08-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/gnuplot.doc: Fix hierarchical structure of 'format',
	'format_specifiers' and 'data/time_specifiers'. By HBB.

	* Makefile.in, makefile.all: remove docs/ps_guide.ps from DOCS1.

	* install-sh, missing, mkinstalldirs: Update from automake-1.3b.
	
1998-07-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/ps_guide.ps: Removed. Newer version now in docs/ps.

	* fit.h: Add parentheses around macro args.

	* version.c: Fix some typos.

1998-07-21  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* term/amiga.trm: Fix indentation.

	* docs/ps/: New subdir for PostScript docs.

	* docs/ps/Makefile, docs/ps/README, docs/ps/ps_file.doc,
	docs/ps/ps_guide.ps, docs/ps/ps_symbols.gpi: New files, from
	Dick Crawford's gp-ps.tar.
	
	* Makefile.in, makefile.all: Add PostScript docs to DOCS variable.

1998-07-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL, 0README, configure.in: Fix typos, small changes.

	* docs/Makefile.in, docs/latextut/Makefile.in: Fixes for building
	outside source directory, cleanup. Add target for tutorial.ps.

	* Makefile.in: In Makefile target, change INCLUDES= to CPPFLAGS=.

	* docs/*.c, docs/gnuplot.doc: Update copyright statement.

	* Makefile.in, makefile.all: Add doc2rnh.c to DOCS1 variable.

1998-07-15  Lucas Hart  <hartl@ucs.orst.edu>

	* scanner.c: Add include files for VMS. Old patch.

	* docs/doc2rnh.c: New file, help file format for VMS. Old patch.
 	Target was already in Makefile.in.

	* vms.c: Include plot.h, make mbxbname static. Old patch.

1998-07-14  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* 0INSTALL: Add missing --without-PACKAGE description in section
	about --with-PACKAGE.

	* Makefile.in: (Bug fix) No directory prefix for CONFIG_HEADER_IN.
	If build dir != src dir, configure/make picks up the correct prefix.
	automatically. Add makefile.wc to ETC variable. Final fix for dist
	target.

	* configure.in: Set CPPFLAGS and X_LIBRARIES in test for X Window
	System files. Remove test for -lnsl/-lsocket. Add code to cache
	and use CPPFLAGS and TERMLIBS. Bug fix in libreadline test error msg,
	reported by Thomas Walter <walter@pctc.chemie.uni-erlangen.de>.

	* configure: Regenerated.

	* graphics.c (gprintf): Add klugde to use snprintf() where available.
	Add new 2nd arg (size_t count) to function signature.

	* makefile.all: Add makefile.wc to ETC variable.

1998-07-14  Stefan Schroepfer  <scr@iis.fhg.de>

	* makefile.nt: Portability patch.

1998-07-08  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure.in: Change AC_PATH_X to AC_PATH_XTRA, add check
	for snprintf().

	* config.hin, configure: Regenerated.

	* 0INSTALL, 0README: Additions, inspired by Lucas Hart 
	<hartl@ucs.orst.edu>.

1998-07-08  Aurel Gabris  <gabrisa@valerie.inf.elte.hu>

	* 0PORTING, doc/gnuplot.doc, makefile.wc, national.h, stdfn.h,
	term/pc.trm, term.c: DOS Watcom C port.

1998-07-08  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* graphics.c, util3d.c: Grid clipping patch.

	* datafile.c: Fortran numbers patch.

1998-07-02  Markus Dickebohm  <m.dickebohm@uni-koeln.de>

	* gplt_x11.c: Change 0xffffffff to (unsigned long)(-1L).

1998-07-01  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: New target for show.o, for 'show version long'.

	* acconfig.h, config.hin, configure.in: The correct file name
	is .gnuplot, not .gnuplotrc!

	* config.hin: Add HAVE_SYS_UTSNAME_H, for 'show version long'.

	* configure.in: Add check for <sys/utsname.h>.

	* configure: Regenerated.

	* setshow.h: Add <sys/utsname.h> and show_version_long() prototype.

	* show.c: Add show_version_long(), and add 'version long' option
	to parser.

1998-07-01  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* hidden3d.c: Fix core dump, allocated storage not free()'d in
	case of errors.

1998-06-30  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c, fit.h, matrix.c, matrix.h: Updated to hbbmisc	patch
	from 29-06-1998.

	* makefile.tc, makefile.win, misc.c, set.c, show.c, docs/gnuplot.doc,
	win/wtext.h: Updated to hbbmisc patch from 29-06-1998.

	* graphics.c: hbbmisc patch minus write_multiline() hunk.

	* graphics.c: hbbdiffs-980630, hopefully complete fix for margin
	calculation bug.

	* term/pc.trm: hbbdiffs-980630. Let BGI graphics library take
 	care of vertical centering of letters.

	* win/wgraph.c: hbbdiffs-980630. Make rotated letters also have the
	correct justification to the *center* of the text height.

1998-06-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* docs/termdoc.c: Use HAVE_CPP_STRINGIFY for ANSI_C.

1998-06-29  Roger Fearick  <fearick@physci.uct.ac.za>

	* makefile.os2, plot.c, os2/gclient.c, term/pm.trm: OS/2 patches.

1998-06-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Imported beta 347.

1998-06-23  Berthold Hoellmann  <hoel@hamburg.germanlloyd.de>

	* Makefile.in: In term.o target, reverse order of $(INCLUDES) and
	$(CPPFLAGS) to avoid problems with GNU plotutils.

1998-06-23  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Imported beta 346.

1998-06-19  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* fit.c, fit.h, matrix.c, matrix.h: Re-re-import new improved
	versions from beta344. Suggested by HBB.

	* Makefile.in, makefile.all: Fixes, update file lists.

	* docs/makefile, docs/latextut/makefile: Restore files which
	got deleted accidentally.

1998-06-18  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* graph3d.c, util3d.c: Remove spurious ^M.

	* 0PORTING: Fix typos.

	* set.c: Complete axis width fix.

1998-06-17  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Imported beta 345.

	* docs/gnuplot.doc, term/post.trm: Fix typos.

1998-06-16  Dick Crawford  <rccrawford@lanl.gov>

	* docs/README, docs/doc2ms.c, docs/doc2tex.c, docs/gnuplot.doc,
	docs/ps_guide.ps, term/cgm.trm, term/post.trm,term/x11.trm:
 	Cleaning up.

1998-05-12  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* set.c: Fix axis width in lp_style_type. HBB and Lars Hecking.

1998-05-08  Dick Crawford  <rccrawford@lanl.gov>

	* plot3d.c: Fix "title" option for "splot" under parametric mode.

	* graphics.c, set.c, show.c: Margin calculation correction patch.

1998-04-29  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Makefile.in: Minor fixes.

	* fit.c, fit.h, matrix.c, matrix.h: Re-import versions from beta 343.
	Suggested by HBB.

1998-04-24  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* configure, configure.in: Don't use sudo.

1998-04-24  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* graph3d.c: Fix range bug in splot.

1998-04-22  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* Imported beta 344.

1998-04-16  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* set.c: Don't include math.h, but stdfn.h.

	* term/driver.h: Remove GOT_DRIVER_H, use TERM_DRIVER_H instead.
	Add some comments.

	* term/*.trm, TERM/README: Remove #ifndef GOT_DRIVER_H/#endif
	around #include "driver.h".

	* term/cgm.trm: Amend help section.

	* term/emxvga.trm: Add some comments, don't include math.h.

	* term/latex.trm (LATEX_rule): Replace valid with isvalid
	(valid is a macro in <locale.h> under SunOS 4.1.x).

	* term/png.trm: Test for png version moved to configure.

	* term/epson.trm, term/hp500c.trm, term/hpljii.trm, term/hppj.trm,
	term/pbm.trm, term/png.trm: Replace #ifdef vms with #ifdef VMS.

	* makefile.*: Remove unneeded symbols AUTOCONF, HAVE_STRERROR, NOGAMMA.
	Add stdfn.c and appropriate rules.

1998-04-15  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* parse.c (factor): Final, working workaround for HP 300 compiler
	limitation.

1998-04-13  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* post.trm: Fix typos in Dick's term-340 patch.

1998-04-13  Dick Crawford  <u600256@gamma.lanl.gov>

	* atariaes.trm, atarivdi.trm, cgi.trm, cgm.trm, corel.trm, epson.trm,
	fig.trm, linux.trm, next.trm, pbm.trm, pc.trm, pm.trm, png.trm,
	post.trm, pslatex.trm, pstricks.trm, table.trm, tek.trm, texdraw.trm,
	unixplot.trm, vws.trm, win.trm, x11.trm: term-340.patch.

1998-04-13  Glenn A. Horton-Smith  <gas@slac.stanford.edu>

	* scanner.c, util.c: Escape quotes patch.

1998-04-13  Stephen Eglen  <stephen@cns.ed.ac.uk>

	* post.trm, pbm.trm: X11 vs. ps (and pbm) colour inconsistency patch.

1998-04-13  James R. Van Zandt  <jrv@vanzandt.mv.com>

	* cgm.trm: Updated version, fixes "plot size change" bug, and "ugly
	dashed lines" bug.

	* term/README: Documentation fix.

1998-04-13  Konrad Bernloehr  <bernlohr@ik3.fzk.de>

	* command.c (define): Fix segfault where allocated structure
	(action table) is freed twice.

	* fig.trm: Fix pointsize in fig terminal, together with
	Hans-Martin Keller <hkeller@gwdg.de>.

1998-04-13  Kai Poitschke  <kai.poitschke@henkel.de> 

	* term.c (term_init): Memory allocation error fix.

1998-04-13  Hans-Bernhard Broeker  <broeker@physik.rwth-aachen.de>

	* fit.c, matrix.c, matrix.h: fit-unlimited.diff.980105.

	* fit.c: Fix segfault in fit.c (fit_chisq_undef.diff.980304).

	* hp500c.trm, hppj.trm, pbm.trm, png.trm: Fix changing plot size bug.

1998-04-11  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* acconfig.h: Remove AUTOCONF, NOCOPY, OLD_SELECT.
	Add HAVE_CPP_STRINGIFY,	HAVE_LGAMMA, HAVE_STRNCASECMP, NO_MATH_H,
	NO_SETVBUF, NO_STRERROR, NO_STRRCHR, NO_STRSTR.

	* ansichek.h: Remove test for AUTOCONF, define ANSI_C if __STDC__ == 1.
	Define HAVE_CPP_STRINGIFY and PROTOTYPES if ANSI_C == 1.

	* config.hin: Regenerated from acconfig.h with autoheader.

	* configure.in: Add support for 'missing'. Add test for ANSI
	stringification. Rearrange test order (ANSI first). Rewrite tests
	for libgd and libpng, check png version.

	* configure: Regenerated from configure.in with autoconf.

	* stdfn.c: New file, adds strchr(), strstr(). Moved memcpy() from
	parse.c, memset() from plot.h, strerror() from util.c, purec_sscanf()
	from datafile.c, sleep() from command.c, strnicmp() from fit.c.

	* stdfn.h: Cleanups, adjustments for stdfn.c. Include math.h.
	New, general debug macro FPRINTF.

	* parse.c: Don't include math.h. Move memcpy() to stdfn.c. Workaround
	for buggy HP-UX compiler.

	* plot.h: Regroup OS specific defines at beginning of file. Define
	VMS for VMS platform. Move memcpy() to stdfn.c. Move most #include
	statements to stdfn.h. Define AMIGA for AmigaOS compilers. Define
	BACKUP_FILESYSTEM for VMS.

	* fit.c: Move strnicmp() to stdfn.c. Use BACKUP_FILESYSTEM in update().

	* gplt_x11.c, readline.c, term.c, time.c, util.c: Use FPRINTF instead
	of DEBUG, DEBUG_STR, and TRACE.

	* gplt_x11.c, plot.c: Remove superfluous prototype for main.

	* gplt_x11.c: Use HAVE_SYS_SELECT_H instead of OLD_SELECT. Use
	memset() instead of bzero(). In mainloop(), use ANSI_C instead
	of __STDC__.

	* bf_test.c, binary.c, command.c, contour.c, datafile.c, fit.c,
	gplt_x11.c, graph3d.c, graphics.c, hidden3d.c, internal.c, interpol.c,
	matrix.c, misc.c, plot.c, plot2d.c, plot3d.c, readline.c, scanner.c,
	show.c, specfun.c, standard.c, strftime.c, term.c, time.c, util.c,
	util3d.c: Don't include headers already included by stdfn.h.

	* command.c: Move sleep() related declarations to stdfn.c and stdfn.h.

	* datafile.c: Move purec_sscanf() to stdfn.c.

	* hidden3d.c, plot2d.c, plot3d.c: Use HAVE_CPP_STRINGIFY in place
	of ANSI_C.

	* command.c, plot.c, scanner.c, term.c, util.c: Use VMS in place
	of vms.

	* plot.c, term.c: Use AMIGA for AmigaOS compilers.

	* strftime.c: Replace TEST with TEST_STRFTIME.

	* util.c: Move strerror() to stdfn.c.

	* errorfix.sh: Can now be run if compiledir != sourcedir. More
	robust.

	* term.h: Use AMIGA for Amiga compilers. Move X11 term inclusion.

	* vms.c: Include stdfn.h.

	* makefile.g: Remove -DAUTOCONF=1.

1998-04-09  Lars Hecking  <lhecking@nmrc.ucc.ie>

	* ChangeLog: New file.

	* gplt_x11.c (prepare_plot): Remove unused definition term_icon[10].

	* set.c (set_arrow, set_linestyle): Replace aggregate initialisation
	for non-ANSI compilers.

	* Makefile.in: General cleanup. Add full support for GNU auto* tools.

	* missing: New file required for full GNU auto* tools support. Taken
	from automake 1.3 distribution.

	* acinclude.m4: New macros gp_PROG_CPP_STRINGIFY, taken from egcs,
	and AM_MISSING_PROG, from automake 1.3 distribution. Fixes in
	gp_CHECK_LIB_PATH and gp_CHECK_HEADER.

	* aclocal.m4: Regenerated from acinclude.m4 with aclocal.

	* configure: Regenerated from configure.in with autoconf.
